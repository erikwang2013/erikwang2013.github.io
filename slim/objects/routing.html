<!DOCTYPE html>
<!-- saved from url=(0058)/slim/objects/routing.html -->
<html lang="zh-CN" class="wf-brandongrotesque-n7-active wf-brandongrotesque-n3-active wf-active translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>路由 - slim框架</title>
                <meta name="description" content="Slim 是一个 PHP 微型框架，可帮助您快速编写简单但功能强大的 Web 应用程序和 API。Slim 的核心是一个调度程序，它接收 HTTP 请求、调用适当的回调例程并返回 HTTP 响应。就是这样。">
        <meta name="keywords" content="slim中文文档,slim,slimframework,Slim Framework,/slim,Slim中文文档,Slim">
        <meta name="robots" content="index, follow">
        <meta property="og:title" content="Routing">
        <meta property="og:site_name" content="Slim Framework">
        <meta property="og:url" content="/slim/objects/routing.html">
        <meta property="og:description" content="">
        <meta property="og:type" content="website">
        <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
        <link rel="stylesheet" href="./routing_files/all.css">
        <link rel="stylesheet" href="./routing_files/docsearch.min.css">
        <link rel="shortcut icon" href="assets/images/favicon.png">
        <link rel="stylesheet" href="./routing_files/font-awesome.min.css">
        <link href="./routing_files/css" rel="stylesheet">
        <script id="twitter-wjs" src="./routing_files/widgets.js"></script><script type="text/javascript" async="" src="./routing_files/ga.js"></script><script src="./routing_files/yjz4fyo.js"></script>
        <style type="text/css">.tk-brandon-grotesque{font-family:"brandon-grotesque",sans-serif;}</style><style type="text/css">@font-face{font-family:brandon-grotesque;src:url(https://use.typekit.net/af/a417c9/0000000000000000000132e3/23/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3) format("woff2"),url(https://use.typekit.net/af/a417c9/0000000000000000000132e3/23/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3) format("woff"),url(https://use.typekit.net/af/a417c9/0000000000000000000132e3/23/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3) format("opentype");font-weight:700;font-style:normal;font-stretch:normal;font-display:auto;}@font-face{font-family:brandon-grotesque;src:url(https://use.typekit.net/af/9569d1/0000000000000000000132dd/23/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3) format("woff2"),url(https://use.typekit.net/af/9569d1/0000000000000000000132dd/23/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3) format("woff"),url(https://use.typekit.net/af/9569d1/0000000000000000000132dd/23/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3) format("opentype");font-weight:300;font-style:normal;font-stretch:normal;font-display:auto;}</style><script>try{Typekit.load();}catch(e){}</script>
        <script>
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-19430723-1']);
            _gaq.push(['_trackPageview']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    <link type="text/css" rel="stylesheet" charset="UTF-8" href="./routing_files/m=el_main_css"></head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切换导航</font></font></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-logo" href="https://www.slimframework.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">slim</font></font></a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><a href="https://erik.xyz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">艾瑞可erik</font></font></a></li>
<li><a href="https://www.erik.xyz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">艾瑞可erik·导航</font></font></a></li>
                    <li class="active"><a href="https://www.slimframework.com/docs/v4/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">slim文档</font></font></a></li>
                        <li><a href="/slim/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中文文档</font></font></a></li>
                    </ul>








                                <div class="navbar-documentation-version-badge">
                                    <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v4 文档</font></font></span>
                                </div>



                </div>
            </div>
        </nav>

<div class="wrapper docs">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                <div class="toc-nav-toggle">
                    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#tocNav" aria-expanded="false" aria-controls="tocNav"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                        切换导航
                    </font></font></button>
                </div>
                <div class="collapse toc-nav-collapse" id="tocNav">



                    <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索</font></font></h3>
<div class="svg-icons" style="height: 0; width: 0; position: absolute; visibility: hidden">
    <svg xmlns="http://www.w3.org/2000/svg">
        <symbol id="sbx-icon-clear-3" viewBox="0 0 40 40"><path d="M16.228 20L1.886 5.657 0 3.772 3.772 0l1.885 1.886L20 16.228 34.343 1.886 36.228 0 40 3.772l-1.886 1.885L23.772 20l14.342 14.343L40 36.228 36.228 40l-1.885-1.886L20 23.772 5.657 38.114 3.772 40 0 36.228l1.886-1.885L16.228 20z" fill-rule="evenodd"></path></symbol>
        <symbol id="sbx-icon-search-13" viewBox="0 0 40 40"><path d="M26.806 29.012a16.312 16.312 0 0 1-10.427 3.746C7.332 32.758 0 25.425 0 16.378 0 7.334 7.333 0 16.38 0c9.045 0 16.378 7.333 16.378 16.38 0 3.96-1.406 7.593-3.746 10.426L39.547 37.34c.607.608.61 1.59-.004 2.203a1.56 1.56 0 0 1-2.202.004L26.807 29.012zm-10.427.627c7.322 0 13.26-5.938 13.26-13.26 0-7.324-5.938-13.26-13.26-13.26-7.324 0-13.26 5.936-13.26 13.26 0 7.322 5.936 13.26 13.26 13.26z" fill-rule="evenodd"></path></symbol>
    </svg>
</div>
<form novalidate="novalidate" onsubmit="return false;" class="searchbox" style="visibility:hidden;height:0;margin-bottom:30px">
    <div role="search" class="searchbox__wrapper">
        <span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"><input id="docsearch" type="search" name="search" placeholder="在文档中搜索" autocomplete="off" required="required" class="searchbox__input ds-input" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-label="搜索输入" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;"><div class="ds-dataset-1"></div></span></span>
        <button type="submit" title="提交您的搜索查询。" class="searchbox__submit">
            <svg role="img" aria-label="搜索">
                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sbx-icon-search-13"></use>
            </svg>
        </button>
        <button type="reset" title="清除搜索查询。" class="searchbox__reset hide">
            <svg role="img" aria-label="重置">
                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sbx-icon-clear-3"></use>
            </svg>
        </button>
    </div>
</form>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/home.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></li>


                                <li><a href="/slim/start/installation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></a></li>


                                <li><a href="/slim/start/upgrade.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级指南</font></font></a></li>


                                <li><a href="/slim/start/web-servers.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络服务器</font></font></a></li>


                                <li><a href="/slim/deployment/deployment.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署</font></font></a></li>

                        </ul>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/concepts/life-cycle.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用生命周期</font></font></a></li>


                                <li><a href="/slim/concepts/value-objects.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSR-7</font></font></a></li>


                                <li><a href="/slim/concepts/middleware.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中间件</font></font></a></li>


                                <li><a href="/slim/concepts/di.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依赖容器</font></font></a></li>

                        </ul>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/objects/application.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a></li>


                                <li><a href="/slim/objects/application.html#advanced-notices-and-warnings-handling"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通知和警告处理</font></font></a></li>

                        </ul>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/objects/request.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a></li>


                                <li><a href="/slim/objects/request.html#the-request-method"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a></li>


                                <li><a href="/slim/objects/request.html#the-request-headers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标头</font></font></a></li>


                                <li><a href="/slim/objects/request.html#the-request-body"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身体</font></font></a></li>


                                <li><a href="/slim/objects/request.html#uploaded-files"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上传的文件</font></font></a></li>


                                <li><a href="/slim/objects/request.html#request-helpers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帮手</font></font></a></li>


                                <li><a href="/slim/objects/request.html#route-object"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由对象</font></font></a></li>

                        </ul>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">响应</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/objects/response.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a></li>


                                <li><a href="/slim/objects/response.html#the-response-status"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地位</font></font></a></li>


                                <li><a href="/slim/objects/response.html#the-response-headers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标头</font></font></a></li>


                                <li><a href="/slim/objects/response.html#the-response-body"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身体</font></font></a></li>


                                <li><a href="/slim/objects/response.html#returning-json"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON</font></font></a></li>

                        </ul>



                        <h3 class="toc-title active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/objects/routing.html" class="active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#how-to-create-routes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建路线</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#route-callbacks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回调</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#route-strategies"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻略</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#route-placeholders"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">占位符</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#route-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#route-groups"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">团体</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#route-middleware"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中间件</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#route-expressions-caching"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓存</font></font></a></li>


                                <li><a href="/slim/objects/routing.html#container-resolution"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器分辨率</font></font></a></li>

                        </ul>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打包中间件</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/middleware/routing.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由</font></font></a></li>


                                <li><a href="/slim/middleware/error-handling.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误处理</font></font></a></li>


                                <li><a href="/slim/middleware/method-overriding.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法覆盖</font></font></a></li>


                                <li><a href="/slim/middleware/output-buffering.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出缓冲</font></font></a></li>


                                <li><a href="/slim/middleware/body-parsing.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正文解析</font></font></a></li>


                                <li><a href="/slim/middleware/content-length.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容长度</font></font></a></li>

                        </ul>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">烹饪书</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/cookbook/route-patterns.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尾随/在路线</font></font></a></li>


                                <li><a href="/slim/cookbook/retrieving-current-route.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检索当前路线</font></font></a></li>


                                <li><a href="/slim/cookbook/database-doctrine.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将 Doctrine 与 Slim 结合使用</font></font></a></li>


                                <li><a href="/slim/cookbook/enable-cors.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用 CORS</font></font></a></li>


                                <li><a href="/slim/cookbook/uploading-files.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 POST 表单上传文件</font></font></a></li>

                        </ul>



                        <h3 class="toc-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附加组件</font></font></h3>
                        <ul class="toc-links">


                                <li><a href="/slim/features/templates.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font></a></li>

                        </ul>




                </div>
            </div>

            <div class="col-md-8 docs-content">
                <h1 class="page-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由</font></font></h1>
                <div class="edit-panel" style="margin: 0 0 1em 0;">
                    <a href="https://github.com/slimphp/Slim-Website/tree/gh-pages/docs/v4/objects/routing.md" target="_blank" class="btn btn-default btn-sm"><i class="fa fa-github"></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑这个页面</font></font></a>
                </div>
                <p><font style="vertical-align: inherit;"></font><a href="https://github.com/nikic/FastRoute"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slim Framework 的路由器构建在Fast Route</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组件之上</font><font style="vertical-align: inherit;">，它非常快速和稳定。</font><font style="vertical-align: inherit;">当我们使用这个组件来完成我们所有的路由时，应用程序的核心已经完全与它分离，并且接口已经到位，为使用其他路由库铺平了道路。</font></font></p>

<h2 id="how-to-create-routes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何创建路线</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用</font></font><code class="language-plaintext highlighter-rouge">Slim\App</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例上的代理方法定义应用程序路由。</font><font style="vertical-align: inherit;">Slim 框架为最流行的 HTTP 方法提供了方法。</font></font></p>

<h3 id="get-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取路线</font></font></h3>

<p><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">GET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的方法</font><font style="vertical-align: inherit;">添加一个仅处理 HTTP 请求的路由</font></font><code class="language-plaintext highlighter-rouge">get()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它接受两个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/books/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Show book identified by $args['id']
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="post-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">邮寄路线</font></font></h3>

<p><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">POST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的方法</font><font style="vertical-align: inherit;">添加一个仅处理 HTTP 请求的路由</font></font><code class="language-plaintext highlighter-rouge">post()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它接受两个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">post<span class="token punctuation">(</span></span><span class="token string">'/books'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Create new book
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="put-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PUT路线</font></font></h3>

<p><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">PUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的方法</font><font style="vertical-align: inherit;">添加一个仅处理 HTTP 请求的路由</font></font><code class="language-plaintext highlighter-rouge">put()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它接受两个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">put<span class="token punctuation">(</span></span><span class="token string">'/books/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Update book identified by $args['id']
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="delete-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除路线</font></font></h3>

<p><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">DELETE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的方法</font><font style="vertical-align: inherit;">添加一个仅处理 HTTP 请求的路由</font></font><code class="language-plaintext highlighter-rouge">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它接受两个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete<span class="token punctuation">(</span></span><span class="token string">'/books/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Delete book identified by $args['id']
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="options-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项路线</font></font></h3>

<p><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">OPTIONS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的方法</font><font style="vertical-align: inherit;">添加一个仅处理 HTTP 请求的路由</font></font><code class="language-plaintext highlighter-rouge">options()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它接受两个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">options<span class="token punctuation">(</span></span><span class="token string">'/books/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Return response headers
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="patch-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">补丁路线</font></font></h3>

<p><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">PATCH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的方法</font><font style="vertical-align: inherit;">添加一个仅处理 HTTP 请求的路由</font></font><code class="language-plaintext highlighter-rouge">patch()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它接受两个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">patch<span class="token punctuation">(</span></span><span class="token string">'/books/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Apply changes to book identified by $args['id']
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="any-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何路线</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的</font></font><code class="language-plaintext highlighter-rouge">any()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法添加一个处理所有 HTTP 请求方法的路由。</font><font style="vertical-align: inherit;">它接受两个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">any<span class="token punctuation">(</span></span><span class="token string">'/books/[{id}]'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Apply changes to books or book identified by $args['id'] if specified.
</span>   <span class="token comment" spellcheck="true"> // To check which method is used: $request-&gt;getMethod();
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，第二个参数是回调。</font><font style="vertical-align: inherit;">您可以指定一个实现该</font></font><code class="language-plaintext highlighter-rouge">__invoke()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法的类而不是闭包。</font><font style="vertical-align: inherit;">然后您可以在其他地方进行映射：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">any<span class="token punctuation">(</span></span><span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token string">'MyRestfulController'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="custom-route"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义路线</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的</font></font><code class="language-plaintext highlighter-rouge">map()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法添加一个处理多个 HTTP 请求方法的路由。</font><font style="vertical-align: inherit;">它接受三个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP 方法数组</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式（带有可选的命名占位符）</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">map<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'/books'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Create new book or list all books
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h2 id="route-callbacks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上述每个路由方法都接受一个回调例程作为其最终参数。</font><font style="vertical-align: inherit;">这个参数可以是任何 PHP 可调用的，默认情况下它接受三个参数。</font></font></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Request</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一个参数是</font></font><code class="language-plaintext highlighter-rouge">Psr\Http\Message\ServerRequestInterface</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示当前 HTTP 请求的对象。</font></font></li>
  <li><code class="language-plaintext highlighter-rouge">Response</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二个参数是</font></font><code class="language-plaintext highlighter-rouge">Psr\Http\Message\ResponseInterface</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示当前 HTTP 响应的对象。</font></font></li>
  <li><code class="language-plaintext highlighter-rouge">Arguments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第三个参数是一个关联数组，其中包含当前路由的命名占位符的值。</font></font></li>
</ul>

<h3 id="writing-content-to-the-response"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将内容写入响应</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以通过两种方式将内容写入 HTTP 响应。</font><font style="vertical-align: inherit;">首先，您可以简单地</font></font><code class="language-plaintext highlighter-rouge">echo()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从路由回调中获取内容。</font><font style="vertical-align: inherit;">此内容将附加到当前 HTTP 响应对象。</font><font style="vertical-align: inherit;">其次，您可以返回一个</font></font><code class="language-plaintext highlighter-rouge">Psr\Http\Message\ResponseInterface</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象。</font></font></p>

<h3 id="closure-binding"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">闭合装订</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用</font></font><a href="/slim/concepts/di.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依赖容器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="language-plaintext highlighter-rouge">Closure</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例作为路由回调，则闭包的状态将绑定到实例</font></font><code class="language-plaintext highlighter-rouge">Container</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这意味着您将可以通过关键字访问</font><font style="vertical-align: inherit;">闭包</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内</font></font></em><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">$this</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的 DI 容器实例：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/hello/{name}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Use app HTTP cookie service
</span>    <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'cookies'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set<span class="token punctuation">(</span></span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token string">'value'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$args</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'expires'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'7 days'</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<div class="alert alert-info">
    <div><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小心！</font></font></strong></div>
    <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slim 不支持</font></font><code>static</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">闭包。</font></font></p>
</div>

<h2 id="redirect-helper"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重定向助手</font></font></h2>

<p><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">GET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用 Slim 应用程序的方法</font><font style="vertical-align: inherit;">添加一个将 HTTP 请求重定向到不同 URL 的路由</font></font><code class="language-plaintext highlighter-rouge">redirect()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它接受三个参数：</font></font></p>

<ol>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要重定向的路由模式（带有可选的命名占位符）</font></font><code class="language-plaintext highlighter-rouge">from</code></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重定向的位置</font></font><code class="language-plaintext highlighter-rouge">to</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，可以是一个</font></font><code class="language-plaintext highlighter-rouge">string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或一个
</font></font><a href="https://www.php-fig.org/psr/psr-7/#35-psrhttpmessageuriinterface"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psr\Http\Message\UriInterface</font></font></a></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使用的 HTTP 状态代码（可选；</font></font><code class="language-plaintext highlighter-rouge">302</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果未设置）</font></font></li>
</ol>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect<span class="token punctuation">(</span></span><span class="token string">'/books'</span><span class="token punctuation">,</span> <span class="token string">'/library'</span><span class="token punctuation">,</span> <span class="token number">301</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">redirect()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由响应请求的状态代码和</font></font><code class="language-plaintext highlighter-rouge">Location</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
设置为第二个参数的标头。</font></font></p>

<h2 id="route-strategies"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由策略</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由回调签名由路由策略决定。</font><font style="vertical-align: inherit;">默认情况下，Slim 期望路由回调接受请求、响应和路由占位符参数数组。</font><font style="vertical-align: inherit;">这称为 RequestResponse 策略。</font><font style="vertical-align: inherit;">但是，您可以通过简单地使用不同的策略来更改预期的路由回调签名。</font><font style="vertical-align: inherit;">例如，Slim 提供了一种替代策略，称为</font></font><code class="language-plaintext highlighter-rouge">RequestResponseArgs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接受请求和响应，加上每个路由占位符作为单独的参数。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是使用此替代策略的示例：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Factory<span class="token punctuation">\</span>AppFactory</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Handlers<span class="token punctuation">\</span>Strategies<span class="token punctuation">\</span>RequestResponseArgs</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token punctuation">.</span> <span class="token string">'/../vendor/autoload.php'</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token variable">$app</span> <span class="token operator">=</span> <span class="token scope">AppFactory<span class="token punctuation">::</span></span><span class="token function">create<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/**
 * Changing the default invocation strategy on the RouteCollector component
 * will change it for every route being defined after this change being applied
 */</span>
<span class="token variable">$routeCollector</span> <span class="token operator">=</span> <span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRouteCollector<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$routeCollector</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setDefaultInvocationStrategy<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">RequestResponseArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/hello/{name}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBody<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">write<span class="token punctuation">(</span></span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，您可以在每个路由的基础上设置不同的调用策略：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Factory<span class="token punctuation">\</span>AppFactory</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Handlers<span class="token punctuation">\</span>Strategies<span class="token punctuation">\</span>RequestResponseArgs</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token punctuation">.</span> <span class="token string">'/../vendor/autoload.php'</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token variable">$app</span> <span class="token operator">=</span> <span class="token scope">AppFactory<span class="token punctuation">::</span></span><span class="token function">create<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$routeCollector</span> <span class="token operator">=</span> <span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRouteCollector<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token variable">$route</span> <span class="token operator">=</span> <span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/hello/{name}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBody<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">write<span class="token punctuation">(</span></span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$route</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setInvocationStrategy<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">RequestResponseArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以通过实施</font></font><code class="language-plaintext highlighter-rouge">Slim\Interfaces\InvocationStrategyInterface</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>

<h2 id="route-placeholders"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路线占位符</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上述每种路由方法都接受与当前 HTTP 请求 URI 匹配的 URL 模式。</font><font style="vertical-align: inherit;">路由模式可以使用命名占位符来动态匹配 HTTP 请求 URI 段。</font></font></p>

<h3 id="format"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式占位符以 开头</font></font><code class="language-plaintext highlighter-rouge">{</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，后跟占位符名称，以 结尾</font></font><code class="language-plaintext highlighter-rouge">}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这是一个名为的示例占位符</font></font><code class="language-plaintext highlighter-rouge">name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ResponseInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ServerRequestInterface</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">
// ...
</span>
<span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/hello/{name}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ServerRequestInterface <span class="token variable">$request</span><span class="token punctuation">,</span> ResponseInterface <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$args</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBody<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">write<span class="token punctuation">(</span></span><span class="token string">"Hello, $name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="optional-segments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选段</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使部分成为可选的，只需用方括号括起来：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/users[/{id}]'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // responds to both `/users` and `/users/123`
</span>   <span class="token comment" spellcheck="true"> // but not to `/users/`
</span>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌套支持多个可选参数：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/news[/{year}[/{month}]]'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // responds to `/news`, `/news/2016` and `/news/2016/03`
</span>   <span class="token comment" spellcheck="true"> // ...
</span>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于“Unlimited”可选参数，您可以这样做：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/news[/{params:.*}]'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // $params is an array of all the optional segments
</span>    <span class="token variable">$params</span> <span class="token operator">=</span> <span class="token function">explode<span class="token punctuation">(</span></span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token variable">$args</span><span class="token punctuation">[</span><span class="token string">'params'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment" spellcheck="true"> // ...
</span>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此示例中，URI</font></font><code class="language-plaintext highlighter-rouge">/news/2016/03/20</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将导致</font></font><code class="language-plaintext highlighter-rouge">$params</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含三个元素的数组：</font></font><code class="language-plaintext highlighter-rouge">['2016', '03', '20']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>

<h3 id="regular-expression-matching"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正则表达式匹配</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，占位符写在里面</font></font><code class="language-plaintext highlighter-rouge">{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且可以接受任何值。</font><font style="vertical-align: inherit;">但是，占位符也可以要求 HTTP 请求 URI 匹配特定的正则表达式。</font><font style="vertical-align: inherit;">如果当前 HTTP 请求 URI 与占位符正则表达式不匹配，则不会调用该路由。</font></font><code class="language-plaintext highlighter-rouge">id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个需要一位或多位数字的</font><font style="vertical-align: inherit;">占位符示例。</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/users/{id:[0-9]+}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Find user identified by $args['id']
</span>   <span class="token comment" spellcheck="true"> // ...
</span>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h2 id="route-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路线名称</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序路径可以指定一个名称。</font><font style="vertical-align: inherit;">如果您想使用 RouteParser 的方法以编程方式生成指向特定路由的 URL，这将很有用</font></font><code class="language-plaintext highlighter-rouge">urlFor()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">上面介绍的每一个路由方法都会返回一个</font></font><code class="language-plaintext highlighter-rouge">Slim\Route</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象，而这个对象暴露了一个</font></font><code class="language-plaintext highlighter-rouge">setName()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/hello/{name}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getBody<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">write<span class="token punctuation">(</span></span><span class="token string">"Hello, "</span> <span class="token punctuation">.</span> <span class="token variable">$args</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setName<span class="token punctuation">(</span></span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用应用程序 RouteParser 的方法为此命名路由生成 URL </font></font><code class="language-plaintext highlighter-rouge">urlFor()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  。</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$routeParser</span> <span class="token operator">=</span> <span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRouteCollector<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRouteParser<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$routeParser</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">urlFor<span class="token punctuation">(</span></span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'Josh'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'example'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// Outputs "/hello/Josh?example=name"
</span></code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RouteParser 的</font></font><code class="language-plaintext highlighter-rouge">urlFor()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法接受三个参数：</font></font></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">$routeName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路线名称。</font><font style="vertical-align: inherit;">路由的名称可以通过</font></font><code class="language-plaintext highlighter-rouge">$route-&gt;setName('name')</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">路由映射方法返回一个实例，</font></font><code class="language-plaintext highlighter-rouge">Route</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此您可以在映射路由后直接设置名称。</font><font style="vertical-align: inherit;">例如：</font></font><code class="language-plaintext highlighter-rouge">$app-&gt;get('/', function () {...})-&gt;setName('name')</code></li>
  <li><code class="language-plaintext highlighter-rouge">$data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由模式占位符和替换值的关联数组。</font></font></li>
  <li><code class="language-plaintext highlighter-rouge">$queryParams</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要附加到生成的 url 的查询参数的关联数组。</font></font></li>
</ul>

<h2 id="route-groups"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路线组</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了帮助将路由组织成逻辑组，</font></font><code class="language-plaintext highlighter-rouge">Slim\App</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还提供了一种</font></font><code class="language-plaintext highlighter-rouge">group()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">每个组的路由模式都添加到其中包含的路由或组之前，并且组模式中的任何占位符参数最终都可用于嵌套路由：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>RouteCollectorProxy</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">
// ...
</span>
<span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">group<span class="token punctuation">(</span></span><span class="token string">'/users/{id:[0-9]+}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>RouteCollectorProxy <span class="token variable">$group</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$group</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">map<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'DELETE'</span><span class="token punctuation">,</span> <span class="token string">'PATCH'</span><span class="token punctuation">,</span> <span class="token string">'PUT'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // Find, delete, patch or replace user identified by $args['id']
</span>       <span class="token comment" spellcheck="true"> // ...
</span>
        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setName<span class="token punctuation">(</span></span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
    <span class="token variable">$group</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/reset-password'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // Route for /users/{id:[0-9]+}/reset-password
</span>       <span class="token comment" spellcheck="true"> // Reset the password for user identified by $args['id']
</span>       <span class="token comment" spellcheck="true"> // ...
</span>
        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setName<span class="token punctuation">(</span></span><span class="token string">'user-password-reset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组模式可以为空，启用不共享公共模式的路由的逻辑分组。</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>RouteCollectorProxy</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">
// ...
</span>
<span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">group<span class="token punctuation">(</span></span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>RouteCollectorProxy <span class="token variable">$group</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$group</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/billing'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // Route for /billing
</span>        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
    <span class="token variable">$group</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/invoice/{id:[0-9]+}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // Route for /invoice/{id:[0-9]+}
</span>        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">add<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">GroupMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意在组闭包内部，Slim 将闭包绑定到容器实例。</font></font></p>

<ul>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在路由闭包中，</font></font><code class="language-plaintext highlighter-rouge">$this</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绑定到的实例</font></font><code class="language-plaintext highlighter-rouge">Psr\Container\ContainerInterface</code></li>
</ul>

<h2 id="route-middleware"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由中间件</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还可以将中间件附加到任何路由或路由组。</font></font></p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>RouteCollectorProxy</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">
// ...
</span>
<span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">group<span class="token punctuation">(</span></span><span class="token string">'/foo'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>RouteCollectorProxy <span class="token variable">$group</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$group</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/bar'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // ...
</span>        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">add<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">RouteMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">add<span class="token punctuation">(</span></span><span class="token keyword">new</span> <span class="token class-name">GroupMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h2 id="route-expressions-caching"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由表达式缓存</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以通过启用路由器缓存</font></font><code class="language-plaintext highlighter-rouge">RouteCollector::setCacheFile()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参阅以下示例：</font></font></p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Factory<span class="token punctuation">\</span>AppFactory</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token punctuation">.</span> <span class="token string">'/../vendor/autoload.php'</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token variable">$app</span> <span class="token operator">=</span> <span class="token scope">AppFactory<span class="token punctuation">::</span></span><span class="token function">create<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/**
 * To generate the route cache data, you need to set the file to one that does not exist in a writable directory.
 * After the file is generated on first run, only read permissions for the file are required.
 *
 * You may need to generate this file in a development environment and committing it to your project before deploying
 * if you don't have write permissions for the directory where the cache file resides on the server it is being deployed to
 */</span>
<span class="token variable">$routeCollector</span> <span class="token operator">=</span> <span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getRouteCollector<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$routeCollector</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setCacheFile<span class="token punctuation">(</span></span><span class="token string">'/path/to/cache.file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h2 id="container-resolution"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器分辨率</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您不仅限于为路线定义功能。</font><font style="vertical-align: inherit;">在 Slim 中有几种不同的方式来定义你的路由动作函数。</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了一个函数，你还可以使用：</font></font></p>

<ul>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器键：方法</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类别：方法</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类实现</font></font><code class="language-plaintext highlighter-rouge">__invoke()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></li>
  <li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容器密钥</font></font></li>
</ul>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此功能由 Slim 的 Callable Resolver Class 启用。</font><font style="vertical-align: inherit;">它将字符串条目转换为函数调用。</font><font style="vertical-align: inherit;">例子：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token string">'\HomeController:home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，您可以利用 PHP 的</font></font><code class="language-plaintext highlighter-rouge">::class</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符，它可以很好地与 IDE 查找系统配合使用并产生相同的结果：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/'</span><span class="token punctuation">,</span> \<span class="token scope">HomeController<span class="token punctuation">::</span></span><span class="token keyword">class</span> <span class="token class-name"><span class="token punctuation">.</span></span> <span class="token string">':home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还可以传递一个数组，其中第一个元素将包含类的名称，第二个将包含被调用方法的名称：</font></font></p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>\<span class="token scope">HomeController<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">'home'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上面的这段代码中，我们定义了一个路由并告诉 Slim</font><font style="vertical-align: inherit;">在类上</font></font><code class="language-plaintext highlighter-rouge">/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行该方法</font><font style="vertical-align: inherit;">。</font></font><code class="language-plaintext highlighter-rouge">home()</code><font style="vertical-align: inherit;"></font><code class="language-plaintext highlighter-rouge">HomeController</code><font style="vertical-align: inherit;"></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slim 首先在容器中查找 的条目</font></font><code class="language-plaintext highlighter-rouge">HomeController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果找到它将使用该实例，否则它将以容器作为第一个参数调用它的构造函数。</font><font style="vertical-align: inherit;">创建类的实例后，它将使用您定义的任何策略调用指定的方法。</font></font></p>

<h3 id="registering-a-controller-with-the-container"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向容器注册控制器</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 action 方法创建控制器</font></font><code class="language-plaintext highlighter-rouge">home</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">构造函数应该接受所需的依赖项。</font><font style="vertical-align: inherit;">例如：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token delimiter">&lt;?php</span><font></font>
<font></font>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ResponseInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ServerRequestInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Slim<span class="token punctuation">\</span>Views<span class="token punctuation">\</span>Twig</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token keyword">class</span> <span class="token class-name">HomeController</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$view</span><span class="token punctuation">;</span><font></font>
<font></font>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct<span class="token punctuation">(</span></span>Twig <span class="token variable">$view</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span> <span class="token operator">=</span> <span class="token variable">$view</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><font></font>
    <font></font>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">home<span class="token punctuation">(</span></span>ServerRequestInterface <span class="token variable">$request</span><span class="token punctuation">,</span> ResponseInterface <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ResponseInterface
    <span class="token punctuation">{</span>
     <span class="token comment" spellcheck="true"> // your code here
</span>     <span class="token comment" spellcheck="true"> // use $this-&gt;view to render the HTML
</span>     <span class="token comment" spellcheck="true"> // ...
</span>
      <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在容器中创建一个工厂，用依赖项实例化控制器：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ContainerInterface</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">
// ...
</span>
<span class="token variable">$container</span> <span class="token operator">=</span> <span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContainer<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token variable">$container</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">set<span class="token punctuation">(</span></span><span class="token string">'HomeController'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ContainerInterface <span class="token variable">$container</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // retrieve the 'view' from the container
</span>    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'view'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">HomeController</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这允许您利用容器进行依赖项注入，因此您可以将特定的依赖项注入控制器。</font></font></p>

<h3 id="allow-slim-to-instantiate-the-controller"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许 Slim 实例化控制器</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，如果该类在容器中没有条目，则 Slim 会将容器的实例传递给构造函数。</font><font style="vertical-align: inherit;">您可以构造具有许多操作的控制器，而不是只处理一个操作的可调用类。</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token delimiter">&lt;?php</span><font></font>
<font></font>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ContainerInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ResponseInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ServerRequestInterface</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token keyword">class</span> <span class="token class-name">HomeController</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token variable">$container</span><span class="token punctuation">;</span><font></font>
<font></font>
  <span class="token comment" spellcheck="true"> // constructor receives container instance
</span>   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct<span class="token punctuation">(</span></span>ContainerInterface <span class="token variable">$container</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">container</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><font></font>
<font></font>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">home<span class="token punctuation">(</span></span>ServerRequestInterface <span class="token variable">$request</span><span class="token punctuation">,</span> ResponseInterface <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ResponseInterface
   <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // your code to access items in the container... $this-&gt;container-&gt;get('');
</span>
        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><font></font>
<font></font>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">contact<span class="token punctuation">(</span></span>ServerRequestInterface <span class="token variable">$request</span><span class="token punctuation">,</span> ResponseInterface <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ResponseInterface
   <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // your code to access items in the container... $this-&gt;container-&gt;get('');
</span>
        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以像这样使用您的控制器方法。</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/'</span><span class="token punctuation">,</span> \<span class="token scope">HomeController<span class="token punctuation">::</span></span><span class="token keyword">class</span> <span class="token class-name"><span class="token punctuation">.</span></span> <span class="token string">':home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/contact'</span><span class="token punctuation">,</span> \<span class="token scope">HomeController<span class="token punctuation">::</span></span><span class="token keyword">class</span> <span class="token class-name"><span class="token punctuation">.</span></span> <span class="token string">':contact'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<h3 id="using-an-invokable-class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用可调用类</font></font></h3>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您不必在可调用路由中指定方法，只需将其设置为可调用类即可，例如：</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token delimiter">&lt;?php</span><font></font>
<font></font>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Container<span class="token punctuation">\</span>ContainerInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ResponseInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Psr<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Message<span class="token punctuation">\</span>ServerRequestInterface</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token keyword">class</span> <span class="token class-name">HomeAction</span>
<span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token variable">$container</span><span class="token punctuation">;</span><font></font>
<font></font>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct<span class="token punctuation">(</span></span>ContainerInterface <span class="token variable">$container</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
       <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">container</span> <span class="token operator">=</span> <span class="token variable">$container</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><font></font>
<font></font>
   <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__invoke<span class="token punctuation">(</span></span>ServerRequestInterface <span class="token variable">$request</span><span class="token punctuation">,</span> ResponseInterface <span class="token variable">$response</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$args</span><span class="token punctuation">)</span><span class="token punctuation">:</span> ResponseInterface
   <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // your code to access items in the container... $this-&gt;container-&gt;get('');
</span>
        <span class="token keyword">return</span> <span class="token variable">$response</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你可以像这样使用这个类。</font></font></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get<span class="token punctuation">(</span></span><span class="token string">'/'</span><span class="token punctuation">,</span> \<span class="token scope">HomeAction<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同样，与控制器一样，如果您将类名注册到容器中，那么您可以创建一个工厂并将您需要的特定依赖项注入到您的操作类中。</font></font></p>


                <nav>
                    <ul class="nav pager">

































































































































































































                                        <li class="previous">
                                            <a href="/slim/objects/response.html" rel="prev"><i class="fa fa-arrow-left"></i> <small><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">响应：</font></font></small><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                                        </li>
























                                    <li class="next">
                                        <a href="/slim/middleware/routing.html" rel="next"><small><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打包中间件：</font></font></small><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路由</font></font><i class="fa fa-arrow-right"></i></a>
                                    </li>

























































































































































































                    </ul>
                </nav>
            </div>
        </div>
        <footer class="site-footer">
    <p><font style="vertical-align: inherit;"></font><br>
        <a href="http://joshlockhart.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由Josh Lockhart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
         </font></font><a href="https://www.donielsmith.com/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrew Smith</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
         </font></font><a href="http://akrabat.com/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rob Allen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、
         </font></font><a href="http://www.lgse.com/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pierre Bérubé</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
        </font><a href="https://github.com/orgs/slimphp/people" target="_blank"><font style="vertical-align: inherit;">Slim Framework 团队</font></a><font style="vertical-align: inherit;">
        创建和维护</font></font><a href="https://github.com/orgs/slimphp/people" target="_blank"><font style="vertical-align: inherit;"></font></a>
    </p>
       <p>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
    <span id="busuanzi_container_page_pv">&nbsp;本文总阅读量<span id="busuanzi_value_page_pv">0</span>次</span>
</p>
    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" style="margin: 0; padding-top: 20px">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="hosted_button_id" value="9YRVXHRZT6H3L">
        <input type="image" src="./routing_files/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - 更安全、更轻松的在线支付方式！">
        <img alt="" border="0" src="./routing_files/pixel.gif" width="1" height="1">
    </form>
</footer>

    </div>
</div>
        <script src="./routing_files/jquery.min.js"></script>
        <script src="./routing_files/bootstrap.min.js"></script>
        <script src="./routing_files/production.min.js"></script>

        <script src="./routing_files/docsearch.min.js"></script>
        <script>
          docsearch({
            apiKey: '8ed5262aecf5240c6d66dbba260f3e51',
            appId: 'KS0N5YSBFY',
            indexName: 'slim-docs',
            inputSelector: '#docsearch',
            debug: true,
            transformData: function (suggestions) {
              for (var i = 0; i < suggestions.length; i++) {
                var suggestion = suggestions[i];

                var docVersion = null;
                var urlFragments = suggestion.url.split("/");
                if (urlFragments.length >= 3 && urlFragments[1] === "docs") {
                  docVersion = urlFragments[2];
                }

                if (suggestion.hierarchy.lvl0 === null) {
                  suggestions[i].hierarchy.lvl0 = docVersion ? "Slim " + docVersion + " - " + suggestion.title : suggestion.title
                }
              }
              return suggestions;
            },
          });
        </script>

        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>



<iframe scrolling="no" frameborder="0" allowtransparency="true" src="./routing_files/widget_iframe.2b2d73daf636805223fb11d48f3e94f7.html" title="Twitter 设置 iframe" style="display: none;"></iframe><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./routing_files/saved_resource.html"></iframe></body></html>