<!DOCTYPE html>
<!-- saved from url=(0062)/zola/deployment/github-pages/ -->
<html lang="zh-CN" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Everything you need to make a static site engine in one binary.">
               <meta name="author" content="Vincent Prouillet">
        <meta name="description" content="Zola 是一个静态站点生成器 (SSG)，类似于Hugo、Pelican和Jekyll（有关 SSG 的完整列表，请参阅Jamstack）。它用Rust编写并使用Tera模板引擎，类似于Jinja2、Django 模板、Liquid和Twig">
        <meta name="keywords" content="Zola中文文档,zola,Zola,https://erik.xyz/zola,zola中文文档">
        <title>GitHub 页面 |  Zola</title>
        <link rel="stylesheet" href="./github-pages_files/site.css">
        <link rel="icon" href="https://www.getzola.org/favicon.ico">
    <link type="text/css" rel="stylesheet" charset="UTF-8" href="./github-pages_files/m=el_main_css"></head>
    <body>

        <header>
            <nav class="">
                <a class="white" href="/zola/getting-started/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zola中文文档</font></font></a>
                <a class="white" href="https://www.erik.xyz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">艾瑞可erik·导航</font></font></a>
<a class="white" href="https://erik.xyz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">艾瑞可erik</font></font></a>
                <a class="header__logo white" href="https://www.getzola.org/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zola </font></font></a>
                <a class="white" href="https://www.getzola.org/documentation/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docs</font></font></a>
                <a class="white" href="https://github.com/getzola/zola" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>

                <div class="search-container">
                    <input id="search" type="search" placeholder="🔎 搜索文档">

                    <div class="search-results">
                        <div class="search-results__items"></div>
                    </div>
                </div>
            </nav>
        </header>

        <div class="content content--reversed">


<div class="documentation">
    <aside class="documentation__sidebar">
        <ul>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入门</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/getting-started/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/installation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/cli-usage.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLI 用法</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/directory-structure.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录结构</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/configuration.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/content/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/section.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/page.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/shortcodes.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简码</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/linking.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部链接和深度链接</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/table-of-contents.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/syntax-highlighting.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法高亮</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/taxonomies.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分类法</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/search.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/sass.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sass</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/image-processing.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图像处理</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/multilingual.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多语言网站</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/templates/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/pages-sections.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">章节和页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/pagination.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分页</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/taxonomies.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分类法</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/feeds.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提要</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/sitemap.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站地图</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/robots.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器人.txt</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/404.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">404错误页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/archive.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">档案</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/themes/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/themes/installing-and-using-themes.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装和使用主题</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/themes/creating-a-theme.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建主题</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/themes/extending-a-theme.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展主题</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/deployment/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/sourcehut.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sourcehut 页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/netlify.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络化</font></font></a>
                        </li>

                        <li class="active">
                            <a href="/zola/deployment/github-pages.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub 页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/gitlab-pages.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitLab 页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/edgio.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edgio</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/vercel.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vercel</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/cloudflare-pages.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudflare 页面</font></font></a>
                        </li>

                </ul>
            </li>

        </ul>
    </aside>
    <div class="documentation__content">

    <h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub 页面</font></font></h1>
    <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，GitHub Pages 使用 Jekyll（一种基于 ruby​​ 的静态站点生成器），但您也可以发布任何生成的文件，前提是您</font></font><code>index.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在分支的根目录中有一个名为
</font></font><code>gh-pages</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>master</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">此外，您可以从</font></font><code>docs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储库中的目录发布。</font><font style="vertical-align: inherit;">该分支名称也可以在存储库的设置中手动更改。</font></font><code>&lt;username&gt;.github.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要在或
</font><font style="vertical-align: inherit;">上提供站点</font></font><code>&lt;organization&gt;.github.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您必须将存储库命名为</font></font><code>&lt;username&gt;.github.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or
 </font></font><code>&lt;organization&gt;.github.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（否则 GitHub 会将存储库名称附加到 URL，例如：
 </font></font><code>&lt;username&gt;.github.io/&lt;repositoryname&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用任何持续集成 (CI) 服务器来构建和部署我们的站点。</font><font style="vertical-align: inherit;">例如：</font></font></p>
<ul>
<li><a href="/zola/deployment/github-pages/#github-actions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github 动作</font></font></a></li>
<li><a href="/zola/deployment/github-pages/#travis-ci"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特拉维斯CI</font></font></a></li>
</ul>
<p><font style="vertical-align: inherit;"></font><code>git submodule</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在任何一种情况下，如果您使用包含您的主题，</font><font style="vertical-align: inherit;">它似乎效果最好，例如：</font></font></p>
<pre data-lang="bash" style="background-color:#383838;color:#e6e1dc;" class="language-bash "><code class="language-bash" data-lang="bash"><span>git submodule add https://github.com/getzola/after-dark.git themes/after-dark
</span></code></pre>
<h2 id="github-actions"><a class="zola-anchor" href="/zola/deployment/github-pages/#github-actions" aria-label="锚链接：github-actions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Github 操作</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github Actions</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Github-Pages 上部署 Zola-Page 非常简单。</font><font style="vertical-align: inherit;">你基本上需要三样东西：</font></font></p>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问令牌，</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅当您从另一个仓库发布时，才允许</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github 操作</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">推送到您的仓库</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github 操作</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查存储库设置中的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github Pages</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font></li>
</ol>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们从令牌开始。</font><font style="vertical-align: inherit;">请记住，如果您在同一存储库上发布站点，则无需执行该步骤。</font><a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication#example-1-passing-the-github_token-as-an-input"><font style="vertical-align: inherit;">但是您仍然需要按此处</font></a></font><code>GITHUB_TOKEN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述</font><font style="vertical-align: inherit;">自动传递</font><font style="vertical-align: inherit;">。</font></font><a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication#example-1-passing-the-github_token-as-an-input"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要创建令牌，请单击</font></font><a href="https://github.com/settings/tokens/new?scopes=public_repo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或转到设置 &gt; 开发人员设置 &gt; 个人访问令牌。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Select Scopes</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分下</font><font style="vertical-align: inherit;">，为其授予</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">public_repo</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权限并单击</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Generate token</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后复制令牌，导航到您的存储库并在“设置”选项卡中添加“</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秘密”</font></font></em> <code>TOKEN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将您的令牌粘贴到其中。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接下来我们需要创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github Action</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在这里我们可以使用</font></font><a href="https://github.com/shalzz/zola-deploy-action"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zola-deploy-action</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">转到存储库的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“操作”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项卡，单击</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自己设置工作流程</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取空白工作流程文件。</font><font style="vertical-align: inherit;">将以下脚本复制到其中，然后提交；</font><font style="vertical-align: inherit;">请注意，您可能需要将</font></font><code>github.ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分支从更改</font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code>master</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或类似，因为该操作只会针对您选择的分支运行。</font></font></p>
<pre data-lang="yaml" style="background-color:#383838;color:#e6e1dc;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#95815e;"># On every push this script is executed
</span><span style="color:#6e9cbe;">on</span><span>: </span><span style="color:#a5c261;">push
</span><span style="color:#e8bf6a;">name</span><span>: </span><span style="color:#a5c261;">Build and deploy GH Pages
</span><span style="color:#e8bf6a;">jobs</span><span>:
</span><span>  </span><span style="color:#e8bf6a;">build</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">runs-on</span><span>: </span><span style="color:#a5c261;">ubuntu-latest
</span><span>    </span><span style="color:#e8bf6a;">if</span><span>: </span><span style="color:#a5c261;">github.ref == 'refs/heads/main'
</span><span>    </span><span style="color:#e8bf6a;">steps</span><span>:
</span><span>      - </span><span style="color:#e8bf6a;">name</span><span>: </span><span style="color:#a5c261;">checkout
</span><span>        </span><span style="color:#e8bf6a;">uses</span><span>: </span><span style="color:#a5c261;">actions/checkout@v3.0.0
</span><span>      - </span><span style="color:#e8bf6a;">name</span><span>: </span><span style="color:#a5c261;">build_and_deploy
</span><span>        </span><span style="color:#e8bf6a;">uses</span><span>: </span><span style="color:#a5c261;">shalzz/zola-deploy-action@v0.16.1-1
</span><span>        </span><span style="color:#e8bf6a;">env</span><span>:
</span><span>          </span><span style="color:#95815e;"># Target branch
</span><span>          </span><span style="color:#e8bf6a;">PAGES_BRANCH</span><span>: </span><span style="color:#a5c261;">gh-pages
</span><span>          </span><span style="color:#95815e;"># Provide personal access token
</span><span>          </span><span style="color:#e8bf6a;">TOKEN</span><span>: </span><span style="color:#a5c261;">${{ secrets.TOKEN }}
</span><span>          </span><span style="color:#95815e;"># Or if publishing to the same repo, use the automatic token
</span><span>          </span><span style="color:#95815e;">#TOKEN: ${{ secrets.GITHUB_TOKEN }}
</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个脚本非常简单，因为</font></font><a href="https://github.com/shalzz/zola-deploy-action"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zola-deploy-action</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会为您做所有事情。</font><font style="vertical-align: inherit;">您只需要提供一些详细信息。</font><font style="vertical-align: inherit;">有关更多配置选项，请查看</font></font><a href="https://github.com/shalzz/zola-deploy-action/blob/master/README.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自述文件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过提交操作，您的第一个构建被触发。</font><font style="vertical-align: inherit;">等待它完成，然后您应该在您的存储库中看到一个新的分支</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gh-pages</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ，其中</font><font style="vertical-align: inherit;">包含已编译的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zola页面。</font></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后，我们需要检查</font><font style="vertical-align: inherit;">存储库设置的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github Pages部分。</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“设置”选项</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡并向下滚动到</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Github 页面”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font><font style="vertical-align: inherit;">检查源是否设置为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gh-pages</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分支，目录是否为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ (root)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您还应该看到您的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github 页面</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还可以在那里配置</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义域</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">强制 HTTPS</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式。</font><font style="vertical-align: inherit;">在配置</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义域</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前，请检查</font></font><a href="https://github.com/shalzz/zola-deploy-action/blob/master/README.md#custom-domain"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一下</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您想将站点的源代码保存在私有存储库中（例如，包括草稿帖子），请调整以下内容</font></font><code>.github/workflows/main.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（确保根据需要更新分支）：</font></font></p>
<pre data-lang="yaml" style="background-color:#383838;color:#e6e1dc;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#6e9cbe;">on</span><span>: </span><span style="color:#a5c261;">push
</span><span style="color:#e8bf6a;">jobs</span><span>:
</span><span>  </span><span style="color:#e8bf6a;">build</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">runs-on</span><span>: </span><span style="color:#a5c261;">ubuntu-latest
</span><span>    </span><span style="color:#e8bf6a;">if</span><span>: </span><span style="color:#a5c261;">github.ref != 'refs/heads/main'
</span><span>    </span><span style="color:#e8bf6a;">steps</span><span>:
</span><span>      - </span><span style="color:#e8bf6a;">name</span><span>: </span><span style="color:#a5c261;">'checkout'
</span><span>        </span><span style="color:#e8bf6a;">uses</span><span>: </span><span style="color:#a5c261;">actions/checkout@v3.0.0
</span><span>      - </span><span style="color:#e8bf6a;">name</span><span>: </span><span style="color:#a5c261;">'build'
</span><span>        </span><span style="color:#e8bf6a;">uses</span><span>: </span><span style="color:#a5c261;">shalzz/zola-deploy-action@v0.16.1
</span><span>        </span><span style="color:#e8bf6a;">env</span><span>:
</span><span>          </span><span style="color:#e8bf6a;">PAGES_BRANCH</span><span>: </span><span style="color:#a5c261;">gh-pages
</span><span>          </span><span style="color:#e8bf6a;">BUILD_DIR</span><span>: </span><span style="color:#a5c261;">.
</span><span>          </span><span style="color:#e8bf6a;">TOKEN</span><span>: </span><span style="color:#a5c261;">${{ secrets.TOKEN }}
</span><span>          </span><span style="color:#95815e;"># BUILD_ONLY: true
</span><span>  </span><span style="color:#e8bf6a;">build_and_deploy</span><span>:
</span><span>    </span><span style="color:#e8bf6a;">runs-on</span><span>: </span><span style="color:#a5c261;">ubuntu-latest
</span><span>    </span><span style="color:#e8bf6a;">if</span><span>: </span><span style="color:#a5c261;">github.ref == 'refs/heads/main'
</span><span>    </span><span style="color:#e8bf6a;">steps</span><span>:
</span><span>      - </span><span style="color:#e8bf6a;">name</span><span>: </span><span style="color:#a5c261;">'checkout'
</span><span>        </span><span style="color:#e8bf6a;">uses</span><span>: </span><span style="color:#a5c261;">actions/checkout@v3.0.0
</span><span>      - </span><span style="color:#e8bf6a;">name</span><span>: </span><span style="color:#a5c261;">'build and deploy'
</span><span>        </span><span style="color:#e8bf6a;">uses</span><span>: </span><span style="color:#a5c261;">shalzz/zola-deploy-action@v0.16.1
</span><span>        </span><span style="color:#e8bf6a;">env</span><span>:
</span><span>          </span><span style="color:#e8bf6a;">PAGES_BRANCH</span><span>: </span><span style="color:#a5c261;">master
</span><span>          </span><span style="color:#e8bf6a;">BUILD_DIR</span><span>: </span><span style="color:#a5c261;">.
</span><span>          </span><span style="color:#e8bf6a;">TOKEN</span><span>: </span><span style="color:#a5c261;">${{ secrets.PUBLIC_TOKEN }}
</span><span>          </span><span style="color:#e8bf6a;">REPOSITORY</span><span>: </span><span style="color:#a5c261;">username/username.github.io
</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过替换您的用户名或组织。</font></font></p>
<h2 id="travis-ci"><a class="zola-anchor" href="/zola/deployment/github-pages/#travis-ci" aria-label="锚链接：travis-ci"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特拉维斯CI</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者，您可以使用</font></font><a href="https://www.travis-ci.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Travis CI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动发布站点。</font><font style="vertical-align: inherit;">如果您尚未使用 Travis，则需要使用 GitHub OAuth 登录并为存储库激活 Travis。</font><font style="vertical-align: inherit;">不要忘记检查您的存储库是否允许在其设置中使用 GitHub Pages。</font></font></p>
<h2 id="ensure-that-travis-can-access-your-theme"><a class="zola-anchor" href="/zola/deployment/github-pages/#ensure-that-travis-can-access-your-theme" aria-label="锚链接：确保 travis 可以访问你的主题"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保 Travis 可以访问您的主题</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据您添加主题的方式，Travis 可能不知道如何访问它。</font><font style="vertical-align: inherit;">确保它可以完全访问主题的最佳方法是使用 git 子模块。</font><font style="vertical-align: inherit;">执行此操作时，请确保您使用的是</font></font><code>https</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL 的版本。</font></font></p>
<pre data-lang="bash" style="background-color:#383838;color:#e6e1dc;" class="language-bash "><code class="language-bash" data-lang="bash"><span>$ git submodule add {THEME_URL} themes/{THEME_NAME}
</span></code></pre>
<h3 id="allowing-travis-to-push-to-github"><a class="zola-anchor" href="/zola/deployment/github-pages/#allowing-travis-to-push-to-github" aria-label="锚链接：allowing-travis-to-push-to-github"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许 Travis 推送到 GitHub</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在推送任何内容之前，Travis 需要一个 Github 私有访问密钥来对您的存储库进行更改。</font><font style="vertical-align: inherit;">如果您已经登录到您的帐户，只需单击</font></font><a href="https://github.com/settings/tokens"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转到您的代币页面。</font><font style="vertical-align: inherit;">否则，导航至</font></font><code>Settings &gt; Developer Settings &gt; Personal Access Tokens</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">生成一个新令牌并为其提供您想要的任何描述。</font><font style="vertical-align: inherit;">在“选择范围”部分下，为其授予回购权限。</font><font style="vertical-align: inherit;">单击“生成令牌”以完成。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的令牌现在将可见。</font><font style="vertical-align: inherit;">将其复制到剪贴板，然后返回 Travis。</font><font style="vertical-align: inherit;">进入 Travis 后，单击您的项目，然后导航至“设置”。</font><font style="vertical-align: inherit;">向下滚动到“环境变量”并输入</font></font><code>GH_TOKEN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有访问令牌值的名称。</font><font style="vertical-align: inherit;">确保“在生成日志中显示值”已关闭，然后单击添加。</font><font style="vertical-align: inherit;">现在 Travis 可以访问您的存储库。</font></font></p>
<h3 id="setting-up-travis"><a class="zola-anchor" href="/zola/deployment/github-pages/#setting-up-travis" aria-label="锚链接：设置-travis"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置 Travis</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们快完成了。</font><font style="vertical-align: inherit;">我们只需要 .travis.yml 文件中的一些脚本来告诉 Travis 要做什么。</font></font></p>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：下面的脚本假定我们从分支中获取代码，并将生成要在</font><font style="vertical-align: inherit;">同一存储库的分支</font></font><code>code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中发布的 HTML 。</font></font><code>master</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以为 Markdown 文件自由使用任何其他分支，但如果您想使用</font></font><code>&lt;username&gt;.github.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code>&lt;org&gt;.github.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，目标分支</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code>master</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<pre data-lang="yaml" style="background-color:#383838;color:#e6e1dc;" class="language-yaml "><code class="language-yaml" data-lang="yaml"><span style="color:#e8bf6a;">language</span><span>: </span><span style="color:#a5c261;">minimal
</span><span>
</span><span style="color:#e8bf6a;">before_script</span><span>:
</span><span>  </span><span style="color:#95815e;"># Download and unzip the zola executable
</span><span>  </span><span style="color:#95815e;"># Replace the version numbers in the URL by the version you want to use
</span><span>  - </span><span style="color:#a5c261;">curl -s -L https://github.com/getzola/zola/releases/download/v0.13.0/zola-v0.13.0-x86_64-unknown-linux-gnu.tar.gz | sudo tar xvzf - -C /usr/local/bin
</span><span>
</span><span style="color:#e8bf6a;">script</span><span>:
</span><span>  - </span><span style="color:#a5c261;">zola build
</span><span>
</span><span style="color:#95815e;"># If you are using a different folder than `public` for the output directory, you will
</span><span style="color:#95815e;"># need to change the `zola` command and the `ghp-import` path
</span><span style="color:#e8bf6a;">after_success</span><span>: </span><span style="color:#cc7833;">|
</span><span style="color:#a5c261;">  [ $TRAVIS_BRANCH = code ] &amp;&amp;
</span><span style="color:#a5c261;">  [ $TRAVIS_PULL_REQUEST = false ] &amp;&amp;
</span><span style="color:#a5c261;">  zola build &amp;&amp;
</span><span style="color:#a5c261;">  sudo pip install ghp-import &amp;&amp;
</span><span style="color:#a5c261;">  ghp-import -n public -b master &amp;&amp;
</span><span style="color:#a5c261;">  git push -fq https://${GH_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git master
</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您的站点使用自定义域，则需要在</font></font><code>ghp-import</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令中提及它：
</font></font><code>ghp-import -c vaporsoft.net -n public</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">致谢：此页面的 Travis-CI 部分基于文章 https://vaporsoft.net/publishing-gutenberg-to-github/</font></font></p>


    </div>
</div>

        </div>
        <footer>
<p>
<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">©2017-2023 — </font></font>
<a class="white" href="https://erik.xyz"><font style="vertical-align: inherit;">
<font style="vertical-align: inherit;">艾瑞可erik</font></font></a>、
<a class="white" href="https://vincentprouillet.com/">
<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vincent Prouillet</font>
</font>
</a>
<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font>
<a class="white" href="https://github.com/getzola/zola/graphs/contributors"><font style="vertical-align: inherit;">
<font style="vertical-align: inherit;">贡献者</font>
</font>
</a>
</p>
<p>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
    <span id="busuanzi_container_page_pv">&nbsp;本文总阅读量<span id="busuanzi_value_page_pv">0</span>次</span>
</p>
</footer>

        <script type="text/javascript" src="./github-pages_files/elasticlunr.min.js"></script>
        <script type="text/javascript" src="./github-pages_files/search.js"></script>


</body></html>