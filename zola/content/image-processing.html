<!DOCTYPE html>
<!-- saved from url=(0063)/zola/content/image-processing/ -->
<html lang="zh-CN" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Everything you need to make a static site engine in one binary.">
               <meta name="author" content="Vincent Prouillet">
        <meta name="description" content="Zola 是一个静态站点生成器 (SSG)，类似于Hugo、Pelican和Jekyll（有关 SSG 的完整列表，请参阅Jamstack）。它用Rust编写并使用Tera模板引擎，类似于Jinja2、Django 模板、Liquid和Twig">
        <meta name="keywords" content="Zola中文文档,zola,Zola,https://erik.xyz/zola,zola中文文档">
        <title>图像处理 |  Zola</title>
        <link rel="stylesheet" href="./image-processing_files/site.css">
        <link rel="icon" href="https://www.getzola.org/favicon.ico">
    <link type="text/css" rel="stylesheet" charset="UTF-8" href="./image-processing_files/m=el_main_css"></head>
    <body>

        <header>
            <nav class="">
                <a class="white" href="/zola/getting-started/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zola中文文档</font></font></a>
                <a class="white" href="https://www.erik.xyz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">艾瑞可erik·导航</font></font></a>
<a class="white" href="https://erik.xyz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">艾瑞可erik</font></font></a>
                <a class="header__logo white" href="https://www.getzola.org/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zola </font></font></a>
                <a class="white" href="https://www.getzola.org/documentation/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docs</font></font></a>
                <a class="white" href="https://github.com/getzola/zola" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>

                <div class="search-container">
                    <input id="search" type="search" placeholder="🔎 搜索文档">

                    <div class="search-results">
                        <div class="search-results__items"></div>
                    </div>
                </div>
            </nav>
        </header>

        <div class="content content--reversed">


<div class="documentation">
    <aside class="documentation__sidebar">
        <ul>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入门</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/getting-started/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/installation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/cli-usage.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLI 用法</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/directory-structure.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录结构</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/getting-started/configuration.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/content/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/section.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/page.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/shortcodes.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简码</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/linking.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部链接和深度链接</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/table-of-contents.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/syntax-highlighting.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法高亮</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/taxonomies.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分类法</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/search.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/sass.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sass</font></font></a>
                        </li>

                        <li class="active">
                            <a href="/zola/content/image-processing.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图像处理</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/content/multilingual.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多语言网站</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/templates/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/pages-sections.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">章节和页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/pagination.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分页</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/taxonomies.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分类法</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/feeds.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提要</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/sitemap.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网站地图</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/robots.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机器人.txt</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/404.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">404错误页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/templates/archive.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">档案</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主题</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/themes/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/themes/installing-and-using-themes.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装和使用主题</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/themes/creating-a-theme.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建主题</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/themes/extending-a-theme.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展主题</font></font></a>
                        </li>

                </ul>
            </li>


            <li>
                <span class="documentation__sidebar__title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部署</font></font></span>
                <ul>

                        <li class="">
                            <a href="/zola/deployment/overview.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/sourcehut.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sourcehut 页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/netlify.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络化</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/github-pages.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub 页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/gitlab-pages.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitLab 页面</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/edgio.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edgio</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/vercel.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vercel</font></font></a>
                        </li>

                        <li class="">
                            <a href="/zola/deployment/cloudflare-pages.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudflare 页面</font></font></a>
                        </li>

                </ul>
            </li>

        </ul>
    </aside>
    <div class="documentation__content">

    <h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图像处理</font></font></h1>
    <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zola 通过内置函数 提供对自动调整图像大小的支持</font></font><code>resize_image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该函数在模板代码和短代码中都可用。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数用法如下：</font></font></p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>resize_image(path, width, height, op, format, quality)
</span></code></pre>
<h3 id="arguments"><a class="zola-anchor" href="/zola/content/image-processing/#arguments" aria-label="锚链接：参数"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">争论</font></font></h3>
<ul>
<li>
<p><code>path</code><font style="vertical-align: inherit;"><a href="/zola/getting-started/directory-structure.html"><font style="vertical-align: inherit;">: 源图像相对于目录结构</font></a></font><code>content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中目录</font><font style="vertical-align: inherit;">的路径</font><font style="vertical-align: inherit;">。</font></font><a href="/zola/getting-started/directory-structure.html"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
</li>
<li>
<p><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：调整大小的图像的尺寸（以像素为单位）。</font><font style="vertical-align: inherit;">用法取决于</font></font><code>op</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数。</font></font></p>
</li>
<li>
<p><code>op</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：调整大小操作。</font><font style="vertical-align: inherit;">这可以是以下之一：</font></font></p>
<ul>
<li><code>"scale"</code></li>
<li><code>"fit_width"</code></li>
<li><code>"fit_height"</code></li>
<li><code>"fit"</code></li>
<li><code>"fill"</code></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面解释了每一个的作用。</font><font style="vertical-align: inherit;">默认值为</font></font><code>"fill"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</li>
<li>
<p><code>format</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：调整大小后的图像的编码格式。</font><font style="vertical-align: inherit;">可能是以下之一：</font></font></p>
<ul>
<li><code>"auto"</code></li>
<li><code>"jpg"</code></li>
<li><code>"png"</code></li>
<li><code>"webp"</code></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认为</font></font><code>"auto"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这意味着根据输入图像格式选择格式。</font><font style="vertical-align: inherit;">为 JPEG 和其他有损格式选择 JPEG，为 PNG 和其他无损格式选择 PNG。</font></font></p>
</li>
<li>
<p><code>quality</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：调整后图像的 JPEG 或 WebP 质量，以百分比表示。</font><font style="vertical-align: inherit;">仅在编码 JPEG 或 WebP 时使用；</font><font style="vertical-align: inherit;">对于 JPEG 默认值为</font></font><code>75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，对于 WebP 默认值为无损。</font></font></p>
</li>
</ul>
<h3 id="image-processing-and-return-value"><a class="zola-anchor" href="/zola/content/image-processing/#image-processing-and-return-value" aria-label="锚链接：图像处理和返回值"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图片处理及返回值</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zola 在构建过程中执行图像处理，并将调整大小的图像放在静态文件目录的子目录中：</font></font></p>
<pre style="background-color:#383838;color:#e6e1dc;"><code><span>static/processed_images/
</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个调整大小的图像的文件名是函数参数的哈希，这意味着一旦图像以某种方式调整大小，它将存储在上述目录中，并且在后续构建期间不需要再次调整大小（除非图像本身、尺寸或其他参数已更改）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该函数返回具有以下架构的对象：</font></font></p>
<pre style="background-color:#383838;color:#e6e1dc;"><code><span>/// The final URL for that asset
</span><span>url: String,
</span><span>/// The path to the static asset generated
</span><span>static_path: String,
</span><span>/// New image width
</span><span>width: u32,
</span><span>/// New image height
</span><span>height: u32,
</span><span>/// Original image width
</span><span>orig_width: u32,
</span><span>/// Original image height
</span><span>orig_height: u32,
</span></code></pre>
<h2 id="resize-operations"><a class="zola-anchor" href="/zola/content/image-processing/#resize-operations" aria-label="锚链接：resize-operations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调整大小操作</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有示例的来源都是这个 300 像素 × 380 像素的图像：</font></font></p>
<p><img src="./image-processing_files/01-zola.png" alt="Zola"></p>
<h3 id="scale"><a class="zola-anchor" href="/zola/content/image-processing/#scale" aria-label="锚链接：规模"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><strong><code>"scale"</code></strong></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论宽高比如何，</font><font style="vertical-align: inherit;">只需将图像缩放到指定尺寸 ( </font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp; )。</font></font><code>height</code><font style="vertical-align: inherit;"></font></p>
<p><code>resize_image(..., width=150, height=150, op="scale")</code></p>

<img src="./image-processing_files/01-zola.aa5c9741e1f54677.png">
<h3 id="fit-width"><a class="zola-anchor" href="/zola/content/image-processing/#fit-width" aria-label="锚链接：适合宽度"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><strong><code>"fit_width"</code></strong></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调整图像大小，使生成的宽度</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和高度保持纵横比不变。</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不需要参数</font><font style="vertical-align: inherit;">。</font></font></p>
<p><code>resize_image(..., width=100, op="fit_width")</code></p>

<img src="./image-processing_files/01-zola.c31346a8ceb47990.png">
<h3 id="fit-height"><a class="zola-anchor" href="/zola/content/image-processing/#fit-height" aria-label="锚链接：fit-height"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><strong><code>"fit_height"</code></strong></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调整图像大小，使生成的高度</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和宽度保持纵横比不变。</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不需要参数</font><font style="vertical-align: inherit;">。</font></font></p>
<p><code>resize_image(..., height=150, op="fit_height")</code></p>

<img src="./image-processing_files/01-zola.415a7ae280b04f3a.png">
<h3 id="fit"><a class="zola-anchor" href="/zola/content/image-processing/#fit" aria-label="锚链接：适合"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><strong><code>"fit"</code></strong></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喜欢</font></font><code>"fit_width"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><code>"fit_height"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组合，但仅在图像大于任何指定尺寸时才调整大小。</font><font style="vertical-align: inherit;">这种模式很方便，例如，如果图像在短代码中自动缩小到特定尺寸以进行移动优化。</font><font style="vertical-align: inherit;">调整图像大小，使结果适合</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同时保持纵横比。</font><font style="vertical-align: inherit;">这意味着宽度或高度将分别为 max</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但可能其中之一更小以保持纵横比。</font></font></p>
<p><code>resize_image(..., width=5000, height=5000, op="fit")</code></p>

<img src="./image-processing_files/01-zola.8b09d4ac023bf17f.png">
<p><code>resize_image(..., width=150, height=150, op="fit")</code></p>

<img src="./image-processing_files/01-zola.88a4046ce11eac5c.png">
<h3 id="fill"><a class="zola-anchor" href="/zola/content/image-processing/#fill" aria-label="锚链接：填充"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><strong><code>"fill"</code></strong></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是默认操作。</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它采用与和
</font><font style="vertical-align: inherit;">相同纵横比的图像中心部分，</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将其大小调整为</font></font><code>width</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>height</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这意味着超出调整后的宽高比的图像部分将被裁剪掉。</font></font></p>
<p><code>resize_image(..., width=150, height=150, op="fill")</code></p>

<img src="./image-processing_files/01-zola.a7f6fb4842538499.png">
<h2 id="using-resize-image-in-markdown-via-shortcodes"><a class="zola-anchor" href="/zola/content/image-processing/#using-resize-image-in-markdown-via-shortcodes" aria-label="锚链接：using-resize-image-in-markdown-via-shortcodes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"></font><code>resize_image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过简码在 markdown 中</font><font style="vertical-align: inherit;">使用</font></font></h2>
<p><code>resize_image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是 Zola 内置的 Tera 函数（参见</font></font><a href="/zola/templates/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">章节），但它可以使用</font></font><a href="/zola/content/shortcodes.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简码</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Markdown 中使用。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面的示例是使用</font></font><code>resize_image.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以以下内容命名的简码文件生成的：</font></font></p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>{% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">image </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">resize_image</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">path</span><span>, </span><span style="color:#d0d0ff;">width</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">width</span><span>, </span><span style="color:#d0d0ff;">height</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">height</span><span>, </span><span style="color:#d0d0ff;">op</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">op</span><span>) %}
</span><span>&lt;img src="{{ </span><span style="color:#d0d0ff;">image</span><span>.</span><span style="color:#d0d0ff;">url </span><span>}}" /&gt;
</span></code></pre>
<h2 id="creating-picture-galleries"><a class="zola-anchor" href="/zola/content/image-processing/#creating-picture-galleries" aria-label="锚链接：创建图片库"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建图片库</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以</font></font><code>resize_image()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多次使用和/或循环使用。</font><font style="vertical-align: inherit;">它旨在有效地处理这个问题。</font></font></p>
<p><font style="vertical-align: inherit;"></font><code>assets</code> <a href="/zola/templates/pages-sections.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可以与页面元数据</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一起使用</font><font style="vertical-align: inherit;">来创建图片库。</font><font style="vertical-align: inherit;">该</font></font><code>assets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量包含资源页面目录中所有资产的路径（请参阅</font></font><a href="/zola/content/overview/#asset-colocation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资产托​​管</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）；</font><font style="vertical-align: inherit;">如果您有图像以外的文件，则需要先在循环中将它们过滤掉，如下例所示。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可以用在短代码中。</font><font style="vertical-align: inherit;">例如，我们可以创建一个非常简单的纯 html 的可点击图片库，其中包含以下简码</font></font><code>gallery.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>&lt;div&gt;
</span><span>{% </span><span style="color:#cc7833;">for </span><span style="color:#d0d0ff;">asset </span><span style="color:#cc7833;">in </span><span style="color:#d0d0ff;">page</span><span>.</span><span style="color:#d0d0ff;">assets </span><span>-%}
</span><span>  {%- </span><span style="color:#cc7833;">if </span><span style="color:#d0d0ff;">asset </span><span style="color:#cc7833;">is </span><span style="color:#d0d0ff;">matching</span><span>(</span><span style="color:#c1be91;">"[.](jpg|png)$"</span><span>) -%}
</span><span>    {% </span><span style="color:#cc7833;">set </span><span style="color:#d0d0ff;">image </span><span style="color:#cc7833;">= </span><span style="color:#d0d0ff;">resize_image</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">asset</span><span>, </span><span style="color:#d0d0ff;">width</span><span style="color:#cc7833;">=</span><span>240, </span><span style="color:#d0d0ff;">height</span><span style="color:#cc7833;">=</span><span>180) %}
</span><span>    &lt;a href="{{ </span><span style="color:#d0d0ff;">get_url</span><span>(</span><span style="color:#d0d0ff;">path</span><span style="color:#cc7833;">=</span><span style="color:#d0d0ff;">asset</span><span>) }}" target="_blank"&gt;
</span><span>      &lt;img src="{{ </span><span style="color:#d0d0ff;">image</span><span>.</span><span style="color:#d0d0ff;">url </span><span>}}" /&gt;
</span><span>    &lt;/a&gt;
</span><span>  {%- </span><span style="color:#cc7833;">endif </span><span>%}
</span><span>{%- </span><span style="color:#cc7833;">endfor </span><span>%}
</span><span>&lt;/div&gt;
</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如您所注意到的，我们没有指定</font></font><code>op</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数，这意味着它将默认为</font></font><code>"fill"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">同样，格式将默认为</font></font><code>"auto"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（根据需要选择 PNG 或 JPEG），JPEG 质量将默认为</font></font><code>75</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要从 Markdown 文件中调用它，只需执行以下操作：</font></font></p>
<pre data-lang="jinja2" style="background-color:#383838;color:#e6e1dc;" class="language-jinja2 "><code class="language-jinja2" data-lang="jinja2"><span>{{ </span><span style="color:#d0d0ff;">gallery</span><span>() }}
</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是结果：</font></font></p>
<div>

    <a href="./image-processing_files/01-zola.png" target="_blank">
      <img src="./image-processing_files/01-zola.1a8b81cf026f45cb.png">
    </a>
    <a href="/zola/content/image-processing/02-zola-manet.png" target="_blank">
      <img src="./image-processing_files/02-zola-manet.f247a1c1a09dea92.png">
    </a>
    <a href="/zola/content/image-processing/03-zola-cezanne.png" target="_blank">
      <img src="./image-processing_files/03-zola-cezanne.54f3edb977adbe2f.png">
    </a>
    <a href="/zola/content/image-processing/04-gutenberg.jpg" target="_blank">
      <img src="./image-processing_files/04-gutenberg.6b23c36e66378f24.jpg">
    </a>
    <a href="/zola/content/image-processing/05-example.jpg" target="_blank">
      <img src="./image-processing_files/05-example.67dc3b46cdb5d5d4.jpg">
    </a>
    <a href="/zola/content/image-processing/06-example.jpg" target="_blank">
      <img src="./image-processing_files/06-example.2c54491c2daefe2f.jpg">
    </a>
    <a href="/zola/content/image-processing/07-example.jpg" target="_blank">
      <img src="./image-processing_files/07-example.3143e7a66ae6fd02.jpg">
    </a>
    <a href="/zola/content/image-processing/08-example.jpg" target="_blank">
      <img src="./image-processing_files/08-example.684e6a6497b4e859.jpg">
    </a>
</div>
<small><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  图片归属：公共领域，除了：_06-example.jpg_：Willi Heidelbach，_07-example.jpg_：Daniel Ullrich。
</font></font></small>
<h2 id="get-image-size"><a class="zola-anchor" href="/zola/content/image-processing/#get-image-size" aria-label="锚链接：get-image-size"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">🔗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取图片大小</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时在构建画廊时，了解每个资产的尺寸很有用。</font><font style="vertical-align: inherit;">您可以使用
</font></font><a href="/zola/templates/overview/#get-image-metadata"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_image_metadata</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取此信息。</font></font></p>


    </div>
</div>

        </div>
        <footer>
<p>
<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">©2017-2023 — </font></font>
<a class="white" href="https://erik.xyz"><font style="vertical-align: inherit;">
<font style="vertical-align: inherit;">艾瑞可erik</font></font></a>、
<a class="white" href="https://vincentprouillet.com/">
<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vincent Prouillet</font>
</font>
</a>
<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font>
<a class="white" href="https://github.com/getzola/zola/graphs/contributors"><font style="vertical-align: inherit;">
<font style="vertical-align: inherit;">贡献者</font>
</font>
</a>
</p>
<p>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
    <span id="busuanzi_container_page_pv">&nbsp;本文总阅读量<span id="busuanzi_value_page_pv">0</span>次</span>
</p>
</footer>

        <script type="text/javascript" src="./image-processing_files/elasticlunr.min.js"></script>
        <script type="text/javascript" src="./image-processing_files/search.js"></script>


</body></html>