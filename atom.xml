<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://erik.xyz</id>
    <title>è‰¾ç‘å¯erik â€¢ Posts by &#34;undefined&#34; categories</title>
    <link href="https://erik.xyz" />
    <updated>2025-08-18T15:19:00.000Z</updated>
    <category term="phpæ‰©å±•" />
    <category term="phpæŠ€å·§" />
    <category term="phpç±»åº“" />
    <category term="phpèµ„æº" />
    <category term="æ—¥å¿—" />
    <category term="å·¥å…·" />
    <category term="jquery" />
    <category term="jqueryæ’ä»¶" />
    <category term="js" />
    <category term="css" />
    <category term="php" />
    <category term="web" />
    <category term="ä»£ç " />
    <category term="å‹ç¼©" />
    <category term="è¯´è¯´" />
    <category term="è¶£é—»" />
    <category term="phpæœåŠ¡å™¨" />
    <category term="éšç¬”" />
    <category term="phpå®ä¾‹" />
    <category term="è½¬è½½" />
    <category term="phpåº“" />
    <category term="äº’è”" />
    <category term="é¡¹ç›®å®æˆ˜" />
    <category term="javascript" />
    <category term="æ¼æ´" />
    <category term="nginx" />
    <category term="phpåº”ç”¨" />
    <category term="æµ®ç‚¹" />
    <category term="è´Ÿè½½å‡è¡¡" />
    <category term="kali" />
    <category term="kaliå®‰è£…" />
    <category term="http" />
    <category term="httpæœåŠ¡å™¨" />
    <category term="å†œä¸šç³»ç»Ÿ" />
    <category term="ç³»ç»Ÿè®¾è®¡" />
    <category term="å…‹è±å§†æ³•åˆ™" />
    <category term="è¡Œåˆ—å¼" />
    <category term="né˜¶è¡Œåˆ—å¼" />
    <category term="æ”¯ä»˜ç³»ç»Ÿ" />
    <category term="æ”¯ä»˜" />
    <category term="centos" />
    <category term="linux" />
    <category term="apacheä¼˜åŒ–" />
    <category term="apacheéšè—index" />
    <category term="nginxä¼˜åŒ–" />
    <category term="nginxéšè—index" />
    <category term="æ—¥å¸¸" />
    <category term="seo" />
    <category term="ä¼˜åŒ–" />
    <category term="æ‘˜è¦" />
    <category term="æ–‡ç« " />
    <category term="æ¸¸è®°" />
    <category term="caè¯ä¹¦" />
    <category term="è¯ä¹¦ç”Ÿæˆ" />
    <category term="äºŒæˆ˜" />
    <category term="äºŒæˆ˜ç†Š" />
    <category term="è¥¿ä¼¯åˆ©äºšç†Š" />
    <category term="centosè½¯ä»¶" />
    <category term="yumä»“åº“" />
    <category term="è½¯ä»¶" />
    <category term="centoså®‰è£…chromiumæŠ¥é”™" />
    <category term="chromiumå®‰è£…æŠ¥é”™" />
    <category term="svn" />
    <category term="ä»£ç æäº¤" />
    <category term="deb" />
    <category term="deb/rpmäº’è½¬" />
    <category term="debè½¬rpm" />
    <category term="rpmäº’è½¬" />
    <category term="centos7å®‰è£…steam" />
    <category term="centoså®‰è£…steam" />
    <category term="centoså®‰è£…åƒé¸¡steam" />
    <category term="linuxå®‰è£…steam" />
    <category term="steamå®‰è£…" />
    <category term="centosè½¯ä»¶å®‰è£…" />
    <category term="centos6.5" />
    <category term="linuxç³»ç»Ÿ" />
    <category term="centos7å®‰è£…Redis Desktop Manager" />
    <category term="centos7å®‰è£…redisæ¡Œé¢" />
    <category term="centoså®‰è£…redisæ¡Œé¢" />
    <category term="linuxå®‰è£…centos7å®‰è£…Redis Desktop Manager" />
    <category term="Redis Desktop Manager" />
    <category term="redisæ¡Œé¢" />
    <category term="centos7" />
    <category term="centos7-wine" />
    <category term="wine" />
    <category term="wineå®‰è£…" />
    <category term="rootå¯†ç " />
    <category term="rootå¯†ç é‡ç½®" />
    <category term="å¿˜è®°rootå¯†ç " />
    <category term="memcache" />
    <category term="memcached" />
    <category term="ç”Ÿæ´»æ‰‹è®°" />
    <category term="è‰¾ç‘å¯erik" />
    <category term="ç¨‹åºå‘˜" />
    <category term="å¼€æºäº‘" />
    <category term="å®¹å™¨" />
    <category term="cncf" />
    <category term="ç›‘æ§" />
    <category term="composer" />
    <category term="composeréƒ¨ç½²" />
    <category term="å†…ç½‘éƒ¨ç½²composer" />
    <category term="cphalcon" />
    <category term="cphalconæŠ¥é”™" />
    <category term="cssä¸­çš„em" />
    <category term="å“åº”å¼å­—ä½“" />
    <category term="å“åº”å¼å¸ƒå±€æ ·å¼" />
    <category term="proxyä»£ç†æ­å»º" />
    <category term="ä»£ç†æœåŠ¡å™¨æ­å»º" />
    <category term="proxyæœåŠ¡å™¨" />
    <category term="æŸ¥æ‰¾" />
    <category term="æ’åº" />
    <category term="å¿«é€Ÿæ’åº" />
    <category term="å†’æ³¡æ’åº" />
    <category term="äºŒåˆ†æŸ¥æ‰¾" />
    <category term="datahub" />
    <category term="datahubå®‰è£…" />
    <category term="deepin" />
    <category term="emergency" />
    <category term="emergency mode" />
    <category term="deepiné»‘å±" />
    <category term="å¼€å‘è¯­è¨€" />
    <category term="å¼€å‘" />
    <category term="æ¸…ç†ç³»ç»Ÿ" />
    <category term="æ¸…ç†cç›˜" />
    <category term="dns" />
    <category term="åŸŸåç›‘æµ‹" />
    <category term="ç½‘ç«™ç›‘æµ‹" />
    <category term="docker" />
    <category term="phpå®‰è£…" />
    <category term="æ‚è°ˆ" />
    <category term="ecshop" />
    <category term="æ¡†æ¶" />
    <category term="beegoæ•°æ®åˆ†é¡µ" />
    <category term="åˆ†é¡µ" />
    <category term="elasticsearch" />
    <category term="elasticsearchæ­å»º" />
    <category term="elasticsearché›†ç¾¤" />
    <category term="ç³»ç»Ÿ" />
    <category term="emm" />
    <category term="mdm" />
    <category term="phone" />
    <category term="æ‰‹æœº" />
    <category term="æ–°é—»" />
    <category term="å…è´¹" />
    <category term="jenkis" />
    <category term="jenkisæ•™ç¨‹" />
    <category term="ç®—æ³•" />
    <category term="éšç¬”åæ§½" />
    <category term="ping" />
    <category term="pingæœåŠ¡å™¨" />
    <category term="å„å¤§ç½‘ç«™ping" />
    <category term="æœå¼•æ“pingæœåŠ¡å™¨" />
    <category term="goè·å–ip" />
    <category term="im" />
    <category term="goä¸­pdfç”Ÿæˆ" />
    <category term="goä¸­é™æµ" />
    <category term="goå¯¹æ¥å¿«é€’ç­¾å" />
    <category term="goæ—¶é—´è·å–" />
    <category term="goç±»å‹è½¬æ¢" />
    <category term="å¾®æœåŠ¡" />
    <category term="go-zero" />
    <category term="rpc" />
    <category term="goåŠ å¯†" />
    <category term="goè§£å¯†" />
    <category term="å½’" />
    <category term="åæ§½" />
    <category term="phpå¤§å…¨" />
    <category term="phpèµ„æ–™" />
    <category term="hadoop" />
    <category term="hadoop2.8.0" />
    <category term="hadoopå®‰è£…æ•™ç¨‹" />
    <category term="hadoopå®‰è£…è¯¦ç»†æ•™ç¨‹" />
    <category term="hadoopæ•™ç¨‹" />
    <category term="hadoopéƒ¨ç½²" />
    <category term="hadoop3" />
    <category term="hadoopé…ç½®" />
    <category term="log4j2" />
    <category term="æ•°æ®åº“" />
    <category term="hbaseå®‰è£…æ•™ç¨‹" />
    <category term="hbase" />
    <category term="http1.1" />
    <category term="http2.0" />
    <category term="ä¼šè¯" />
    <category term="ä¼šè¯åŸç†" />
    <category term="hyperf" />
    <category term="æ‚å½•" />
    <category term="æ–°å† è‚ºç‚" />
    <category term="springboot" />
    <category term="springbootå†…ç½‘éƒ¨ç½²" />
    <category term="linuxæ¢å¤" />
    <category term="linuxè¯¯åˆ " />
    <category term="linuxå‘½ä»¤" />
    <category term="linuxå‘½ä»¤æ±‡æ€»" />
    <category term="jenkins" />
    <category term="jetbtrains" />
    <category term="phpstorm" />
    <category term="æœç´¢å¼•æ“" />
    <category term="å›¾ç‰‡" />
    <category term="ç´ æ" />
    <category term="jq" />
    <category term="jqä¾§è¾¹å¯¼èˆª" />
    <category term="ä¾§è¾¹å¯¼èˆª" />
    <category term="jsåˆ¤æ–­æµè§ˆå™¨" />
    <category term="jsåˆ¤æ–­æµè§ˆå™¨ç‰ˆæœ¬" />
    <category term="åˆ¤æ–­æµè§ˆå™¨" />
    <category term="æµè§ˆå™¨ç‰ˆæœ¬åˆ¤æ–­" />
    <category term="è·å–æµè§ˆå™¨ä¿¡æ¯" />
    <category term="kaliå³é”®æ±‰åŒ–" />
    <category term="kaliæ¡Œé¢å³é”®æ±‰åŒ–" />
    <category term="kaliå³é”®åˆ›å»ºæ–‡ä»¶" />
    <category term="åŒºå—é“¾" />
    <category term="lanmp" />
    <category term="phpç¯å¢ƒç‹¬ç«‹é…ç½®" />
    <category term="æœåŠ¡å™¨" />
    <category term="åŠ³åŠ¨çº çº·" />
    <category term="è¿½ç¼´å·¥èµ„" />
    <category term="ç”³è¯·ä»²è£" />
    <category term="flash" />
    <category term="è¡¨å•" />
    <category term="linuxæŠ¥é”™" />
    <category term="linuxä¸­update-command-not-found" />
    <category term="linuxè¿è¡Œå‘½ä»¤æŠ¥é”™" />
    <category term="webå‰ç«¯" />
    <category term="webä¼˜åŒ–" />
    <category term="æ’®åˆç®—æ³•" />
    <category term="æ’®åˆ" />
    <category term="phpæ’®åˆç®—æ³•" />
    <category term="mavenæ­å»ºåº“" />
    <category term="maven" />
    <category term="mavenå†…ç½‘åº“" />
    <category term="é«˜çº§ç¼“å­˜é…ç½®" />
    <category term="mongodb" />
    <category term="mongodbæƒé™" />
    <category term="å¯ç©¿æˆ´è®¾å¤‡" />
    <category term="mysql" />
    <category term="åˆ†åº“åˆ†è¡¨" />
    <category term="mysqlåº”å¯¹åƒä¸‡çº§" />
    <category term="mysqlç“¶é¢ˆ" />
    <category term="mysqlç“¶é¢ˆè§£å†³åŠæ³•" />
    <category term="redis" />
    <category term="æ•°æ®ä¸€è‡´æ€§" />
    <category term="mysqlæ¶ˆæ¯" />
    <category term="mysqlé˜Ÿåˆ—" />
    <category term="mysqlé«˜å¹¶å‘" />
    <category term="mysqlå­˜å‚¨" />
    <category term="mysqlå¼•æ“" />
    <category term="mysqlæ•°æ®è¡¨è®¾è®¡é€‰æ‹©" />
    <category term="mysqlç›‘æ§" />
    <category term="mysqlæ€§èƒ½" />
    <category term="å†…ç½‘æ”¯ä»˜" />
    <category term="å†…ç½‘ç©¿é€" />
    <category term="æ”¯ä»˜æ¥å£æœ¬åœ°åŒ–å¼€å‘" />
    <category term="æœ¬åœ°æŒ‚ç½‘" />
    <category term="ç©¿é€" />
    <category term="go" />
    <category term="newå’Œmakeçš„åŒºåˆ«" />
    <category term="çº¢åŒ…ç®—æ³•" />
    <category term="æ·±åœ³åŠ³åŠ¨æ³•æœåŠ¡éƒ¨é—¨" />
    <category term="éå…³ç³»å‹æ•°æ®åº“" />
    <category term="onethink" />
    <category term="oop" />
    <category term="phpç®¡ç†ç³»ç»Ÿ" />
    <category term="å¼€æ”¾æ¥å£å¼€å‘" />
    <category term="å¼€æºå·¥å…·" />
    <category term="æ¡Œé¢å…±äº«å·¥å…·" />
    <category term="openresty" />
    <category term="openvas" />
    <category term="openvaså®‰è£…" />
    <category term="phpæ¶æ„" />
    <category term="phpæœåŠ¡" />
    <category term="phpæœåŠ¡è®¾è®¡" />
    <category term="phpé¡¹ç›®" />
    <category term="phpæ¶æ„è®¾è®¡" />
    <category term="phpå˜é‡" />
    <category term="phpè¶…çº§å…¨å±€å˜é‡" />
    <category term="phpè¶…çº§å˜é‡" />
    <category term="phpåŸºæœ¬ç±»å‹" />
    <category term="phpæ•°æ®ç±»å‹" />
    <category term="phpè®¾è®¡æ¨¡å¼" />
    <category term="phpå¯¹æ¥å¾®ä¿¡æ”¯ä»˜" />
    <category term="å¾®ä¿¡æ”¯ä»˜" />
    <category term="å¾®ä¿¡æ”¯ä»˜å›è°ƒ" />
    <category term="æ¸¸æˆ" />
    <category term="phpå‡½æ•°" />
    <category term="phpéšæœºæ•°" />
    <category term="phpè·å–é—°å¹´" />
    <category term="é—°å¹´.phpæ—¶é—´" />
    <category term="phpç¯å¢ƒ" />
    <category term="phpé›†æˆç¯å¢ƒ" />
    <category term="æœåŠ¡å™¨é›†æˆç¯å¢ƒ" />
    <category term="æ•°ç»„å‡½æ•°" />
    <category term="æ•°ç»„æ’åºå‡½æ•°" />
    <category term="phpæ•°å­¦å‡½æ•°" />
    <category term="phpé¢è¯•é¢˜" />
    <category term="phpé¢å‘å¯¹è±¡" />
    <category term="é¢å‘å¯¹è±¡" />
    <category term="php-zookeeper" />
    <category term="zookeeper3.5.5" />
    <category term="php-zookeeperæ‰©å±•" />
    <category term="phpä¸²å£å¼€å‘" />
    <category term="phpå€’è®¡æ—¶" />
    <category term="phpæ—¶é—´" />
    <category term="å€’è®¡æ—¶" />
    <category term="è®¡ç®—æ—¶é—´" />
    <category term="PHPæ•°ç»„" />
    <category term="å­—ç¬¦ä¸²å‡½æ•°" />
    <category term="æ’åºå‡½æ•°" />
    <category term="phpçš„SPL" />
    <category term="SPLæ‰‹å†Œ" />
    <category term="PHPç®—æ³•" />
    <category term="phpé€’å½’" />
    <category term="é€’å½’" />
    <category term="phpunit" />
    <category term="phpunitå®‰è£…" />
    <category term="phpè¿‡æ»¤" />
    <category term="è¿‡æ»¤" />
    <category term="foreach" />
    <category term="foreachæŠ¥é”™" />
    <category term="phpä¸­foreachæŠ¥é”™" />
    <category term="phpä¸­if" />
    <category term="phpä¸­ifåˆ¤æ–­" />
    <category term="phpçš„if" />
    <category term="phpå­—ç¬¦ä¸²" />
    <category term="php7ä¸­sphinx" />
    <category term="php7ä¸­sphinxæ‰©å±•" />
    <category term="sphinxæ‰©å±•" />
    <category term="plc" />
    <category term="python" />
    <category term="pythonåº“" />
    <category term="aæ ‡ç­¾" />
    <category term="aæ ‡ç­¾è™šçº¿" />
    <category term="è™šçº¿æ¡†" />
    <category term="Rè¯­è¨€" />
    <category term="æ•°æ®éšæœºåŒ–" />
    <category term="redisæ€»ç»“" />
    <category term="rediså‘½ä»¤" />
    <category term="redisç›‘æ§" />
    <category term="redisé”" />
    <category term="redisåˆ†å¸ƒå¼é”" />
    <category term="ä»»æ„é‡‘é¢è¾“å…¥" />
    <category term="10å…ƒã€5å…ƒã€2å…ƒ" />
    <category term="é˜Ÿåˆ—" />
    <category term="æ ˆ" />
    <category term="é¡ºåºè¡¨" />
    <category term="é“¾è¡¨" />
    <category term="æ•°æ®ç»“æ„" />
    <category term="çº¿æ€§ç»“æ„" />
    <category term="æµè§ˆå™¨ç¦æ­¢æ“ä½œè§†é¢‘" />
    <category term="ç¦æ­¢è§†é¢‘" />
    <category term="å“åº”æ…¢" />
    <category term="é¡µé¢ä¼˜åŒ–" />
    <category term="jsç¼–è¾‘" />
    <category term="runjs" />
    <category term="åœ¨çº¿ç¼–è¾‘" />
    <category term="rust" />
    <category term="rusté…ç½®" />
    <category term="seajs" />
    <category term="session" />
    <category term="è·¯ç”±å™¨çƒ§å½•" />
    <category term="çƒ§å½•" />
    <category term="æè·¯ç”±2çƒ§å½•" />
    <category term="ç –å¤´çƒ§å½•" />
    <category term="å…è´¹æœåŠ¡å™¨" />
    <category term="ç©ºé—´" />
    <category term="èµ„æº" />
    <category term="æ·±åœ³æ”¿åºœç”µè¯" />
    <category term="æ·±åœ³ç”µè¯" />
    <category term="ç‰¹åŒºç”µè¯" />
    <category term="å±…ä½è¯" />
    <category term="å±…ä½è¯ç­¾æ³¨" />
    <category term="æ·±åœ³æ–°å±…ä½è¯" />
    <category term="å›½åº†éª‘è¡Œ" />
    <category term="æ·±åœ³ç æµ·éª‘è¡Œ" />
    <category term="éª‘è¡Œ" />
    <category term="ä¸–ç•Œé‚£ä¹ˆå¤§" />
    <category term="css3" />
    <category term="cssåœ¨çº¿ç”Ÿæˆå·¥å…·" />
    <category term="csså·¥å…·" />
    <category term="phpæ­£åˆ™" />
    <category term="æ­£åˆ™" />
    <category term="shodan" />
    <category term="é»‘è°·æ­Œ" />
    <category term="é»’å¸½æœç´ " />
    <category term="shopex" />
    <category term="å¯è§†åŒ–æ•°æ®" />
    <category term="æ•°æ®" />
    <category term="æ•°æ®è¡¨" />
    <category term="socketé€šä¿¡" />
    <category term="socketå¤šè¿›ç¨‹" />
    <category term="socket" />
    <category term="json" />
    <category term="jsonæ•°ç»„" />
    <category term="jsonè§£æ" />
    <category term="å¤§æ•°æ®" />
    <category term="spark" />
    <category term="hive" />
    <category term="æ•°æ®åˆ†æ" />
    <category term="sql" />
    <category term="sqlä¼˜åŒ–" />
    <category term="css3å…¼å®¹360æµè§ˆå™¨å…¼å®¹æ¨¡å¼" />
    <category term="cssåœ†è§’" />
    <category term="ç»“æ„ä½“è½¬map" />
    <category term="config" />
    <category term="thinkphp" />
    <category term="é…ç½®æ–‡ä»¶" />
    <category term="æ ‘" />
    <category term="äºŒå‰æ ‘" />
    <category term="jsæ’ä»¶" />
    <category term="virtualbox" />
    <category term="hyper-v" />
    <category term="é¸¿è’™å¼€å‘" />
    <category term="webè‡ªé€‚åº”" />
    <category term="å“åº”å¼å¸ƒå±€" />
    <category term="å“åº”å¼æ‰€æœ‰åˆ†è¾¨ç‡" />
    <category term="è‡ªé€‚åº”å¸ƒå±€" />
    <category term="è‡ªé€‚åº”æ‰€æœ‰åˆ†è¾¨ç‡" />
    <category term="webman" />
    <category term="mysqlè®¾ç½®è¶…æ—¶ï¼Œè¶…æ—¶" />
    <category term="markdown" />
    <category term="wget" />
    <category term="wgetæŠ“å–" />
    <category term="ç½‘ç«™æŠ“å–" />
    <category term="æˆ‘åœ¨" />
    <category term="wordpress" />
    <category term="wordpressæ ‡ç­¾" />
    <category term="åŸŸååˆå¹¶" />
    <category term="wpscan" />
    <category term="usbrip" />
    <category term="æ— é™æåˆ†ç±»" />
    <category term="phpæ— é™æ" />
    <category term="åˆ†ç±»tree" />
    <category term="æ— é™æåˆ†ç±»æ ‘å‹" />
    <category term="xhprof" />
    <category term="laravel" />
    <category term="composeræ’ä»¶" />
    <category term="html" />
    <category term="å“åº”å¼åˆ†è¾¨ç‡" />
    <category term="å“åº”å¼è°ƒè¯•" />
    <category term="è‡ªé€‚åº”å±å¹•" />
    <category term="æºç¨‹" />
    <category term="æºç¨‹æ”»å‡»" />
    <category term="æºç¨‹ç½‘ç«™ç˜«ç—ª" />
    <category term="ç‰©ç†åˆ é™¤" />
    <category term="3D" />
    <category term="åŠ¨ç”»" />
    <category term="å¹³å°" />
    <category term="è™šå¹»4å¼•æ“ç¼–è¾‘" />
    <category term="ç”Ÿæˆå”¯ä¸€id" />
    <category term="ç”Ÿæˆid" />
    <category term="å‘é‚®ä»¶" />
    <category term="é‚®ä»¶å‡½æ•°" />
    <category term="å‚¨è“„å¡å…å¹´è´¹" />
    <category term="é“¶è¡Œå¡" />
    <category term="é“¶è¡Œå¡å…å¹´è´¹" />
    <category term="composerå®‰è£…" />
    <category term="composeré…ç½®" />
    <category term="é¡¹ç›®åˆ›å»ºcomposer" />
    <category term="mysqlä¼˜åŒ–" />
    <category term="mysqlè¯»å†™ä¼˜åŒ–" />
    <category term="æ•°æ®åº“ä¼˜åŒ–ï¼Œmysqlè¯­å¥ä¼˜åŒ–" />
    <category term="phpåŠ å¯†" />
    <category term="phpæŠ€æœ¯" />
    <category term="å¤•é˜³" />
    <category term="mysqlå‡½æ•°" />
    <category term="phpä¸­mysqlå‡½æ•°" />
    <category term="äº’è”ç½‘æ—¶ä»£" />
    <category term="å¼€æºæŠ€æœ¯" />
    <category term="webæ¡†æ¶" />
    <category term="phpæŠ“å–å›¾ç‰‡" />
    <category term="phpæ‰¹é‡æŠ“å–é¡µé¢å›¾ç‰‡" />
    <category term="é‚®ç®±æœåŠ¡å™¨" />
    <category term="æ­£åˆ™è¡¨è¾¾å¼" />
    <category term="ç¿»å¢™" />
    <category term="è°·æ­Œ" />
    <category term="è°·æ­Œæœç´¢" />
    <entry>
        <id>https://erik.xyz/2025/08/18/development-scenarios-learning-directions/</id>
        <title>å¼€å‘è¯­è¨€åº”ç”¨åœºæ™¯ä¸å­¦ä¹ æ–¹å‘è§£æ</title>
        <link rel="alternate" href="https://erik.xyz/2025/08/18/development-scenarios-learning-directions/"/>
        <content type="html">&lt;p&gt;ä»¥ä¸‹æ˜¯é’ˆå¯¹ä¸»æµå¼€å‘è¯­è¨€ï¼ˆPHPã€Goã€Rustã€Cã€C++ã€Javaã€C#ã€Qtï¼‰çš„åº”ç”¨åœºæ™¯ã€ä¼˜åŠ£åŠ¿åŠå­¦ä¹ æ–¹å‘çš„ç»¼åˆåˆ†æï¼Œç»“åˆæŠ€æœ¯ç‰¹æ€§å’Œè¡Œä¸šå®è·µæ•´ç†è€Œæˆï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ğŸ“Š-ä¸€ã€è¯­è¨€å¯¹æ¯”æ¦‚è§ˆè¡¨&#34;&gt;&lt;a href=&#34;#ğŸ“Š-ä¸€ã€è¯­è¨€å¯¹æ¯”æ¦‚è§ˆè¡¨&#34; class=&#34;headerlink&#34; title=&#34;ğŸ“Š ä¸€ã€è¯­è¨€å¯¹æ¯”æ¦‚è§ˆè¡¨&#34;&gt;&lt;/a&gt;ğŸ“Š &lt;strong&gt;ä¸€ã€è¯­è¨€å¯¹æ¯”æ¦‚è§ˆè¡¨&lt;/strong&gt;&lt;/h3&gt;&lt;div class=&#34;table-container&#34;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;è¯­è¨€&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä¸»è¦åº”ç”¨åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…³é”®ä¼˜åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å…¸å‹åŠ£åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸­å°å‹Webå¼€å‘ã€CMSç³»ç»Ÿ&lt;/td&gt;
&lt;td&gt;å¼€å‘å¿«ã€æ˜“å…¥é—¨ã€æ¡†æ¶ä¸°å¯Œ&lt;/td&gt;
&lt;td&gt;æ€§èƒ½ä¸­ç­‰ã€å®‰å…¨é£é™©éœ€ç®¡æ§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Go&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;äº‘åŸç”Ÿã€åˆ†å¸ƒå¼æœåŠ¡ã€å·¥å…·å¼€å‘&lt;/td&gt;
&lt;td&gt;é«˜å¹¶å‘ã€ç¼–è¯‘é«˜æ•ˆã€éƒ¨ç½²ç®€å•&lt;/td&gt;
&lt;td&gt;ç”Ÿæ€è¾ƒå°ã€GUIæ”¯æŒå¼±&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Rust&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ç³»ç»Ÿç¼–ç¨‹ã€å®‰å…¨æ•æ„Ÿå‹åŸºç¡€è®¾æ–½&lt;/td&gt;
&lt;td&gt;å†…å­˜å®‰å…¨ã€é›¶æˆæœ¬æŠ½è±¡ã€é«˜æ€§èƒ½&lt;/td&gt;
&lt;td&gt;å­¦ä¹ æ›²çº¿é™¡ã€ç¼–è¯‘æ…¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;C&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ“ä½œç³»ç»Ÿã€åµŒå…¥å¼ã€ç¡¬ä»¶é©±åŠ¨&lt;/td&gt;
&lt;td&gt;æè‡´æ€§èƒ½ã€ç¡¬ä»¶çº§æ§åˆ¶&lt;/td&gt;
&lt;td&gt;æ‰‹åŠ¨å†…å­˜ç®¡ç†ã€æ˜“å‡ºå®‰å…¨æ¼æ´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;C++&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ¸¸æˆå¼•æ“ã€é«˜é¢‘äº¤æ˜“ã€å¤§å‹ç³»ç»Ÿ&lt;/td&gt;
&lt;td&gt;é«˜æ€§èƒ½ã€å¤šèŒƒå¼æ”¯æŒã€ç”Ÿæ€æˆç†Ÿ&lt;/td&gt;
&lt;td&gt;å¤æ‚éš¾ç²¾ã€è¿­ä»£ç¼“æ…¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Java&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¼ä¸šåº”ç”¨ã€Androidå¼€å‘ã€å¤§æ•°æ®&lt;/td&gt;
&lt;td&gt;è·¨å¹³å°ã€ç”Ÿæ€å¼ºå¤§ã€ç¨³å®šæ€§é«˜&lt;/td&gt;
&lt;td&gt;å†…å­˜å ç”¨é«˜ã€å¯åŠ¨æ…¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;C#&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Unityæ¸¸æˆã€ä¼ä¸šæ¡Œé¢åº”ç”¨ã€IoT&lt;/td&gt;
&lt;td&gt;å¼ºç±»å‹ç³»ç»Ÿã€IDEå¼ºå¤§ã€è¯­æ³•ä¼˜é›…&lt;/td&gt;
&lt;td&gt;è·¨å¹³å°èƒ½åŠ›å¼±äºJava&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Qt&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è·¨å¹³å°GUIã€å·¥ä¸šæ§åˆ¶ç•Œé¢&lt;/td&gt;
&lt;td&gt;ç•Œé¢ç¾è§‚ã€ä¿¡å·æ§½æœºåˆ¶ã€è·¨å¹³å°ä¸€è‡´&lt;/td&gt;
&lt;td&gt;åº“ä½“ç§¯å¤§ã€å•†ä¸šæˆæƒå¤æ‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h3 id=&#34;ğŸ”-äºŒã€åˆ†è¯­è¨€è¯¦è§£&#34;&gt;&lt;a href=&#34;#ğŸ”-äºŒã€åˆ†è¯­è¨€è¯¦è§£&#34; class=&#34;headerlink&#34; title=&#34;ğŸ” äºŒã€åˆ†è¯­è¨€è¯¦è§£&#34;&gt;&lt;/a&gt;ğŸ” &lt;strong&gt;äºŒã€åˆ†è¯­è¨€è¯¦è§£&lt;/strong&gt;&lt;/h3&gt;&lt;h4 id=&#34;1-PHP&#34;&gt;&lt;a href=&#34;#1-PHP&#34; class=&#34;headerlink&#34; title=&#34;1. PHP&#34;&gt;&lt;/a&gt;1. &lt;strong&gt;PHP&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šåŠ¨æ€ç½‘ç«™ï¼ˆå¦‚WordPressï¼‰ã€ç”µå•†å¹³å°ï¼ˆMagentoï¼‰ã€APIæœåŠ¡ã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;å¼€å‘é€Ÿåº¦æå¿«ï¼Œè¯­æ³•ç®€å•ï¼ŒLAMP/LNMPç”Ÿæ€æˆç†Ÿã€‚  &lt;/li&gt;
&lt;li&gt;ç¤¾åŒºèµ„æºä¸°å¯Œï¼ˆå¦‚Laravelæ¡†æ¶ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;é»˜è®¤æ€§èƒ½ä½äºç¼–è¯‘å‹è¯­è¨€ï¼Œéœ€é…åˆSwooleæ‰©å±•ä¼˜åŒ–ã€‚  &lt;/li&gt;
&lt;li&gt;å†å²ä»£ç å­˜åœ¨SQLæ³¨å…¥ç­‰å®‰å…¨éšæ‚£ï¼Œéœ€ä¸¥æ ¼éµå¾ªè§„èŒƒã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æŒæ¡ç°ä»£æ¡†æ¶ï¼ˆLaravel/Symfonyï¼‰ï¼Œå­¦ä¹ å¼‚æ­¥æ‰©å±•ï¼ˆSwooleï¼‰ï¼Œå¼ºåŒ–å®‰å…¨å®è·µï¼ˆå¦‚PSRæ ‡å‡†ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-Go&#34;&gt;&lt;a href=&#34;#2-Go&#34; class=&#34;headerlink&#34; title=&#34;2. Go&#34;&gt;&lt;/a&gt;2. &lt;strong&gt;Go&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šDocker/Kubernetesäº‘åŸç”Ÿç”Ÿæ€ã€å¾®æœåŠ¡ã€é«˜å¹¶å‘APIã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;Goroutineè½»é‡çº§å¹¶å‘æ¨¡å‹ï¼Œç¼–è¯‘ä¸ºå•äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œéƒ¨ç½²ä¾¿æ·ã€‚  &lt;/li&gt;
&lt;li&gt;å†…ç½®åƒåœ¾å›æ”¶å’Œæ ‡å‡†åº“ï¼ˆå¦‚HTTP/JSONå¤„ç†ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;ä¾èµ–ç®¡ç†ï¼ˆgo modï¼‰ä»å¾…å®Œå–„ï¼Œç¼ºä¹æ³›å‹å†å²é—ç•™é—®é¢˜ï¼ˆ1.18åå·²æ”¯æŒï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;å›¾å½¢ç•Œé¢ç”Ÿæ€è–„å¼±ï¼Œä¸é€‚åˆæ¡Œé¢GUIå¼€å‘ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æ·±å…¥å¹¶å‘æ¨¡å‹ï¼ˆChannelæ¨¡å¼ï¼‰ï¼Œå­¦ä¹ äº‘åŸç”Ÿå·¥å…·é“¾ï¼ˆK8s+Grpcï¼‰ï¼ŒæŒæ¡æ€§èƒ½è°ƒä¼˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-Rust&#34;&gt;&lt;a href=&#34;#3-Rust&#34; class=&#34;headerlink&#34; title=&#34;3. Rust&#34;&gt;&lt;/a&gt;3. &lt;strong&gt;Rust&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šæ“ä½œç³»ç»Ÿï¼ˆå¦‚Redoxï¼‰ã€æµè§ˆå™¨å¼•æ“ï¼ˆServoï¼‰ã€åŒºå—é“¾åº•å±‚ã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æ‰€æœ‰æƒæœºåˆ¶ä¿éšœå†…å­˜/çº¿ç¨‹å®‰å…¨ï¼Œé›¶è¿è¡Œæ—¶å¼€é”€åª²ç¾C++ã€‚  &lt;/li&gt;
&lt;li&gt;æ¨¡å¼åŒ¹é…å’Œé”™è¯¯å¤„ç†ï¼ˆResult/Optionï¼‰æå‡ä»£ç å¥å£®æ€§ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;å­¦ä¹ æ›²çº¿é™¡å³­ï¼ˆç”Ÿå‘½å‘¨æœŸæ ‡æ³¨éš¾åº¦é«˜ï¼‰ï¼Œç¼–è¯‘æ—¶é—´é•¿ã€‚  &lt;/li&gt;
&lt;li&gt;ç”Ÿæ€è¾ƒæ–°ï¼Œä¼ä¸šçº§æ¡†æ¶å°‘äºJava/C#ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;ç²¾è¯»ã€ŠThe Rust Bookã€‹ï¼Œå®æˆ˜WebAssemblyæˆ–ç³»ç»Ÿå·¥å…·å¼€å‘ï¼Œå‚ä¸å¼€æºè´¡çŒ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-C&#34;&gt;&lt;a href=&#34;#4-C&#34; class=&#34;headerlink&#34; title=&#34;4. C&#34;&gt;&lt;/a&gt;4. &lt;strong&gt;C&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šLinuxå†…æ ¸ã€å•ç‰‡æœºå›ºä»¶ã€æ•°æ®åº“å¼•æ“ï¼ˆå¦‚SQLiteï¼‰ã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æ— è¿è¡Œæ—¶ä¾èµ–ï¼Œç›´æ¥æ“ä½œç¡¬ä»¶ï¼Œæ€§èƒ½æè‡´ä¼˜åŒ–ã€‚  &lt;/li&gt;
&lt;li&gt;è¯­æ³•ç®€æ´ï¼Œæ˜¯åç»­è¯­è¨€ï¼ˆC++/Goï¼‰çš„è®¾è®¡åŸºç¡€ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æ‰‹åŠ¨å†…å­˜ç®¡ç†æ˜“å¯¼è‡´æ³„æ¼/æº¢å‡ºï¼Œç¼ºä¹ç°ä»£æŠ½è±¡æœºåˆ¶ã€‚  &lt;/li&gt;
&lt;li&gt;é¡¹ç›®è§„æ¨¡æ‰©å¤§åç»´æŠ¤æˆæœ¬æ¿€å¢ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æ·±å…¥æŒ‡é’ˆä¸å†…å­˜ç®¡ç†ï¼Œå­¦ä¹ Linuxç³»ç»Ÿç¼–ç¨‹ï¼ŒæŒæ¡è°ƒè¯•å·¥å…·ï¼ˆValgrind/GDBï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;5-C&#34;&gt;&lt;a href=&#34;#5-C&#34; class=&#34;headerlink&#34; title=&#34;5. C++&#34;&gt;&lt;/a&gt;5. &lt;strong&gt;C++&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šæ¸¸æˆå¼•æ“ï¼ˆUnrealï¼‰ã€é«˜é¢‘äº¤æ˜“ç³»ç»Ÿã€CADè½¯ä»¶ã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;é›¶æˆæœ¬æŠ½è±¡ï¼ˆæ¨¡æ¿å…ƒç¼–ç¨‹ï¼‰ï¼Œå¤šèŒƒå¼æ”¯æŒï¼ˆOOP/æ³›å‹/å‡½æ•°å¼ï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;STLæä¾›é«˜æ•ˆæ•°æ®ç»“æ„ï¼Œå…¼å®¹Cç”Ÿæ€ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;è¯­æ³•å¤æ‚ï¼ˆå¦‚ç§»åŠ¨è¯­ä¹‰ï¼‰ï¼Œæ—§ä»£ç è¿­ä»£å›°éš¾ï¼ˆå…¼å®¹æ€§è´Ÿæ‹…ï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;å®‰å…¨æ¼æ´é£é™©ï¼ˆå¦‚ç¼“å†²åŒºæº¢å‡ºï¼‰é«˜äºJava/C#ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æŒæ¡ç°ä»£æ ‡å‡†ï¼ˆC++17/20ï¼‰ï¼Œå­¦ä¹ æ€§èƒ½ä¼˜åŒ–ï¼ˆå†…å­˜æ± /å¹¶å‘æ¨¡å‹ï¼‰ï¼Œç†Ÿæ‚‰Qtæ¡†æ¶ç»“åˆå¼€å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;6-Java&#34;&gt;&lt;a href=&#34;#6-Java&#34; class=&#34;headerlink&#34; title=&#34;6. Java&#34;&gt;&lt;/a&gt;6. &lt;strong&gt;Java&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šä¼ä¸šçº§åå°ï¼ˆSpringç”Ÿæ€ï¼‰ã€Androidåº”ç”¨ã€Hadoopå¤§æ•°æ®ã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;JVMè·¨å¹³å°ç‰¹æ€§ï¼ŒGCå‡å°‘æ‰‹åŠ¨å†…å­˜è´Ÿæ‹…ï¼Œç”Ÿæ€å®Œå¤‡ï¼ˆMaven/Springï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;å¤šçº¿ç¨‹æ”¯æŒæˆç†Ÿï¼ˆJUCåŒ…ï¼‰ï¼Œç›‘æ§å·¥å…·ï¼ˆJMX/Arthasï¼‰å®Œå–„ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;å¯åŠ¨æ…¢ï¼Œå†…å­˜å ç”¨é«˜ï¼ˆéœ€å †é…ç½®ä¼˜åŒ–ï¼‰ï¼Œè¯­æ³•å†—é•¿ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;ç²¾é€šJVMæœºåˆ¶ï¼ˆç±»åŠ è½½/GCç®—æ³•ï¼‰ï¼Œå­¦ä¹ å¾®æœåŠ¡æ¡†æ¶ï¼ˆSpring Cloudï¼‰ï¼ŒæŒæ¡å¼‚æ­¥ç¼–ç¨‹ï¼ˆCompletableFutureï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;7-C&#34;&gt;&lt;a href=&#34;#7-C&#34; class=&#34;headerlink&#34; title=&#34;7. C#&#34;&gt;&lt;/a&gt;7. &lt;strong&gt;C#&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šUnity3Dæ¸¸æˆå¼€å‘ã€Windowsæ¡Œé¢åº”ç”¨ï¼ˆWPFï¼‰ã€å·¥ä¸šIoTã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;LINQç®€åŒ–æ•°æ®æŸ¥è¯¢ï¼Œå¼‚æ­¥ç¼–ç¨‹ï¼ˆasync/awaitï¼‰æ¨¡å‹ä¼˜é›…ã€‚  &lt;/li&gt;
&lt;li&gt;Visual Studioæä¾›é¡¶çº§å¼€å‘ä½“éªŒï¼ˆè°ƒè¯•/é‡æ„ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;è·¨å¹³å°èƒ½åŠ›å¼±äºJavaï¼ˆ.NET Coreå·²æ”¹å–„ä½†ç”Ÿæ€ä»ä¸è¶³ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;æ·±å…¥.NET Coreè·¨å¹³å°å¼€å‘ï¼Œå­¦ä¹ Unityå¼•æ“æ•´åˆï¼ŒæŒæ¡è®¾è®¡æ¨¡å¼ï¼ˆMVVMï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;8-Qtï¼ˆC-æ¡†æ¶ï¼‰&#34;&gt;&lt;a href=&#34;#8-Qtï¼ˆC-æ¡†æ¶ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;8. Qtï¼ˆC++æ¡†æ¶ï¼‰&#34;&gt;&lt;/a&gt;8. &lt;strong&gt;Qtï¼ˆC++æ¡†æ¶ï¼‰&lt;/strong&gt;&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼šå·¥ä¸šæ§åˆ¶ç•Œé¢ã€è·¨å¹³å°æ¡Œé¢è½¯ä»¶ï¼ˆWPS/Linuxæ¡Œé¢ï¼‰ã€‚  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;ä¿¡å·æ§½æœºåˆ¶ç®€åŒ–äº‹ä»¶å¤„ç†ï¼ŒQMLæ”¯æŒåŠ¨æ€UIè®¾è®¡ã€‚  &lt;/li&gt;
&lt;li&gt;ä¸€æ¬¡å¼€å‘å¤šå¹³å°éƒ¨ç½²ï¼ˆWindows/Linux/macOSï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;åº“ä½“ç§¯å¤§ï¼ˆå½±å“å°å‹è®¾å¤‡ï¼‰ï¼Œå•†ä¸šé¡¹ç›®éœ€ä»˜è´¹æˆæƒã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ æ–¹å‘&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;å­¦ä¹ C++åŸºç¡€åä¸“æ”»Qt Widgets/QMLï¼ŒæŒæ¡è·¨å¹³å°ç¼–è¯‘ï¼ˆCMakeï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ğŸ’-ä¸‰ã€æ€»ç»“å»ºè®®&#34;&gt;&lt;a href=&#34;#ğŸ’-ä¸‰ã€æ€»ç»“å»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;ğŸ’ ä¸‰ã€æ€»ç»“å»ºè®®&#34;&gt;&lt;/a&gt;ğŸ’ &lt;strong&gt;ä¸‰ã€æ€»ç»“å»ºè®®&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿½æ±‚å¼€å‘æ•ˆç‡&lt;/strong&gt;ï¼šé€‰&lt;strong&gt;PHP&lt;/strong&gt;ï¼ˆWebå¿«é€Ÿè¿­ä»£ï¼‰æˆ–&lt;strong&gt;Go&lt;/strong&gt;ï¼ˆå¾®æœåŠ¡ï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€è¦é«˜æ€§èƒ½ä¸å®‰å…¨&lt;/strong&gt;ï¼šç”¨&lt;strong&gt;Rust&lt;/strong&gt;ï¼ˆç³»ç»Ÿå±‚ï¼‰æˆ–&lt;strong&gt;C++&lt;/strong&gt;ï¼ˆæ¸¸æˆ/é«˜é¢‘åœºæ™¯ï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ä¸šçº§/è·¨å¹³å°&lt;/strong&gt;ï¼š&lt;strong&gt;Java&lt;/strong&gt;ï¼ˆåå°/Androidï¼‰æˆ–&lt;strong&gt;C#&lt;/strong&gt;ï¼ˆWindows/Unityï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åµŒå…¥å¼/GUI&lt;/strong&gt;ï¼š&lt;strong&gt;C&lt;/strong&gt;ï¼ˆç¡¬ä»¶å±‚ï¼‰æ­é…&lt;strong&gt;Qt&lt;/strong&gt;ï¼ˆç•Œé¢å±‚ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å­¦ä¹ ä¼˜å…ˆçº§&lt;/strong&gt;ï¼šæ ¹æ®ç›®æ ‡é¢†åŸŸé€‰æ‹©ï¼š  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Webå¼€å‘&lt;/strong&gt;ï¼šPHP â†’ Go â†’ Rustï¼ˆWASMï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿ/åµŒå…¥å¼&lt;/strong&gt;ï¼šC â†’ C++ â†’ Rustã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¨æ ˆ/ä¼ä¸šåº”ç”¨&lt;/strong&gt;ï¼šJava â†’ C# â†’ Goã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šè¯­è¨€ç”Ÿæ€æŒç»­æ¼”è¿›ï¼ˆå¦‚Goæ³›å‹ã€Rustå¼‚æ­¥ï¼‰ï¼Œéœ€ç»“åˆæœ€æ–°æŠ€æœ¯åŠ¨æ€è°ƒæ•´å­¦ä¹ é‡ç‚¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="å¼€å‘è¯­è¨€" />
        <category term="å¼€å‘" />
        <updated>2025-08-18T15:19:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/07/25/spark-hive-hadoo-combination-guide/</id>
        <title>Sparkã€Hiveã€Hadoopé€‰æ‹©ä¸ç»„åˆä½¿ç”¨æŒ‡å—</title>
        <link rel="alternate" href="https://erik.xyz/2025/07/25/spark-hive-hadoo-combination-guide/"/>
        <content type="html">&lt;p&gt;åœ¨æ„å»ºå¤§æ•°æ®å¹³å°æ—¶ï¼ŒSparkã€Hive å’Œ Hadoop çš„å…³ç³»æ˜¯&lt;strong&gt;äº’è¡¥åä½œ&lt;/strong&gt;è€Œéäº’æ–¥ã€‚é€‰æ‹©å“ªç§æŠ€æœ¯ä»¥åŠå¦‚ä½•ç»„åˆå–å†³äºä½ çš„å…·ä½“éœ€æ±‚ï¼ˆæ•°æ®é‡ã€å¤„ç†é€Ÿåº¦ã€æŸ¥è¯¢å¤æ‚åº¦ã€æˆæœ¬ã€å›¢é˜ŸæŠ€èƒ½ï¼‰ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•é€‰æ‹©å’Œç»“åˆä½¿ç”¨çš„æŒ‡å—ï¼š&lt;/p&gt;
&lt;h2 id=&#34;æ ¸å¿ƒå®šä½ä¸åŒºåˆ«&#34;&gt;&lt;a href=&#34;#æ ¸å¿ƒå®šä½ä¸åŒºåˆ«&#34; class=&#34;headerlink&#34; title=&#34;æ ¸å¿ƒå®šä½ä¸åŒºåˆ«&#34;&gt;&lt;/a&gt;æ ¸å¿ƒå®šä½ä¸åŒºåˆ«&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Hadoop (ä¸»è¦æŒ‡ HDFS + MapReduce/YARN):&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½ï¼š&lt;/strong&gt; åˆ†å¸ƒå¼å­˜å‚¨(HDFS) + åŸºç¡€èµ„æºç®¡ç†å’Œæ‰¹å¤„ç†æ¡†æ¶(MapReduce/YARN)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é«˜å¯é ã€é«˜å®¹é”™çš„åˆ†å¸ƒå¼å­˜å‚¨ (HDFS):&lt;/strong&gt; å­˜å‚¨æµ·é‡æ•°æ®çš„åŸºçŸ³ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆç†Ÿçš„èµ„æºç®¡ç† (YARN):&lt;/strong&gt; åè°ƒé›†ç¾¤èµ„æºï¼ˆCPU, å†…å­˜ï¼‰ä¾›ä¸Šå±‚åº”ç”¨ï¼ˆSpark, MapReduce, Hive on MR/Tezï¼‰ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æé«˜çš„å¯æ‰©å±•æ€§å’Œæˆæœ¬æ•ˆç›Šï¼š&lt;/strong&gt; èƒ½åœ¨å»‰ä»·ç¡¬ä»¶ä¸Šæ„å»ºå¤§è§„æ¨¡é›†ç¾¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿ï¼š&lt;/strong&gt; MapReduce è®¡ç®—æ¨¡å‹&lt;strong&gt;é€Ÿåº¦æ…¢&lt;/strong&gt;ï¼ˆå°¤å…¶è¿­ä»£è®¡ç®—ã€äº¤äº’å¼æŸ¥è¯¢ï¼‰ï¼Œç¼–ç¨‹ç›¸å¯¹å¤æ‚ã€‚&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Hive:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½ï¼š&lt;/strong&gt; æ„å»ºåœ¨ Hadoop ä¹‹ä¸Šçš„&lt;strong&gt;æ•°æ®ä»“åº“æ¡†æ¶&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç±» SQL æ¥å£ (HiveQL):&lt;/strong&gt; æå¤§é™ä½äº†ä½¿ç”¨é—¨æ§›ï¼Œè®©ç†Ÿæ‚‰ SQL çš„åˆ†æå¸ˆå’Œå·¥ç¨‹å¸ˆèƒ½å¤„ç†å¤§æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼ºå¤§çš„å…ƒæ•°æ®ç®¡ç† (Metastore):&lt;/strong&gt; ç®¡ç†è¡¨ç»“æ„ã€åˆ†åŒºã€æ•°æ®ç±»å‹ç­‰ï¼Œæ˜¯æ•°æ®æ²»ç†çš„å…³é”®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰¹å¤„ç†ä¼˜åŒ–ï¼š&lt;/strong&gt; å°† SQL æŸ¥è¯¢è½¬æ¢ä¸º MapReduce/Tez/Spark ä½œä¸šæ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿ï¼š&lt;/strong&gt; ä¼ ç»Ÿä¸ŠåŸºäº MapReduce/Tezï¼Œ&lt;strong&gt;å»¶è¿Ÿè¾ƒé«˜&lt;/strong&gt;ï¼Œä¸é€‚åˆä½å»¶è¿Ÿäº¤äº’å¼æŸ¥è¯¢æˆ–æµå¤„ç†ï¼ˆè™½ç„¶æœ‰ LLAP å’Œ Hive on Spark æ”¹è¿›ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Spark:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®šä½ï¼š&lt;/strong&gt; ç»Ÿä¸€&lt;strong&gt;çš„ã€é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼è®¡ç®—å¼•æ“&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æå¿«çš„é€Ÿåº¦ï¼š&lt;/strong&gt; åŸºäºå†…å­˜è®¡ç®—ã€DAG æ‰§è¡Œå¼•æ“ã€é«˜åº¦ä¼˜åŒ–çš„æ‰§è¡Œè®¡åˆ’ï¼Œæ¯” MapReduce å¿«å‡ ä¸ªæ•°é‡çº§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»Ÿä¸€å¼•æ“ï¼š&lt;/strong&gt; æ”¯æŒæ‰¹å¤„ç†(Spark SQL)ã€æµå¤„ç†(Spark Streaming, Structured Streaming)ã€æœºå™¨å­¦ä¹ (MLlib)ã€å›¾è®¡ç®—(GraphX)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜“ç”¨çš„ APIï¼š&lt;/strong&gt; æä¾› Scala, Java, Python, R ç­‰å¤šç§è¯­è¨€çš„ APIï¼Œå¼€å‘æ•ˆç‡é«˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çµæ´»çš„éƒ¨ç½²ï¼š&lt;/strong&gt; å¯ä»¥åœ¨ YARN (Hadoop), Mesos, Kubernetes æˆ– Standalone æ¨¡å¼ä¸Šè¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ Hive é›†æˆï¼š&lt;/strong&gt; å¯ä»¥ç›´æ¥è¯»å– Hive Metastore ä¸­çš„å…ƒæ•°æ®ï¼Œè¿è¡Œ HiveQL æŸ¥è¯¢ï¼ˆSpark SQLï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ£åŠ¿ï¼š&lt;/strong&gt; å¯¹å†…å­˜è¦æ±‚è¾ƒé«˜ï¼Œçº¯å†…å­˜è®¡ç®—æˆæœ¬å¯èƒ½é«˜äºåŸºäºç£ç›˜çš„ MapReduceï¼ˆä½†é€Ÿåº¦ä¼˜åŠ¿é€šå¸¸è¿œè¶…æˆæœ¬å·®å¼‚ï¼‰ï¼›éå¸¸å¤æ‚çš„è®¡ç®—å¯èƒ½éœ€è¦æ›´ç²¾ç»†çš„å†…å­˜è°ƒä¼˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¦‚ä½•é€‰æ‹©ï¼Ÿ&#34;&gt;&lt;a href=&#34;#å¦‚ä½•é€‰æ‹©ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;å¦‚ä½•é€‰æ‹©ï¼Ÿ&#34;&gt;&lt;/a&gt;å¦‚ä½•é€‰æ‹©ï¼Ÿ&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å­˜å‚¨å±‚ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HDFS é€šå¸¸æ˜¯é»˜è®¤å’ŒåŸºçŸ³é€‰æ‹©ï¼š&lt;/strong&gt; å¦‚æœä½ éœ€è¦å­˜å‚¨ PB çº§ç”šè‡³ EB çº§æ•°æ®ï¼Œè¦æ±‚é«˜å®¹é”™ã€é«˜å¯é ã€æˆæœ¬æ•ˆç›Šï¼Œ&lt;strong&gt;HDFS å‡ ä¹æ˜¯å¿…é€‰é¡¹&lt;/strong&gt;ã€‚å®ƒæ˜¯ Spark å’Œ Hive æœ€å¸¸è§çš„æ•°æ®æ¥æºå’Œå­˜å‚¨ç›®çš„åœ°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ›¿ä»£æ–¹æ¡ˆï¼š&lt;/strong&gt; äº‘å­˜å‚¨ï¼ˆS3, GCS, ADLSï¼‰è¶Šæ¥è¶Šæµè¡Œï¼Œå®ƒä»¬æä¾›æ— é™æ‰©å±•ã€æŒ‰éœ€ä»˜è´¹ã€é«˜å¯ç”¨æ€§ï¼Œå¹¶ä¸” Spark/Hive éƒ½æ”¯æŒç›´æ¥è¯»å†™ã€‚é€‰æ‹©äº‘å­˜å‚¨é€šå¸¸èƒ½ç®€åŒ–è¿ç»´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;è®¡ç®—å¼•æ“ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;éœ€è¦æè‡´çš„å¤„ç†é€Ÿåº¦ï¼ˆæ‰¹å¤„ç†ã€æµå¤„ç†ã€è¿­ä»£ç®—æ³•ã€æœºå™¨å­¦ä¹ ï¼‰ï¼Ÿ&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¦–é€‰ Sparkï¼š&lt;/strong&gt; å®ƒåœ¨ç»å¤§å¤šæ•°è®¡ç®—åœºæ™¯ä¸‹éƒ½è¿œå¿«äº MapReduce/Tezã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»è¦éœ€æ±‚æ˜¯ä½¿ç”¨ç†Ÿæ‚‰çš„ SQL è¿›è¡Œæ‰¹å¤„ç†åˆ†æå’ŒæŠ¥è¡¨ï¼Œå›¢é˜Ÿ SQL æŠ€èƒ½å¼ºï¼Ÿ&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hive æ˜¯å¾ˆå¥½çš„èµ·ç‚¹ï¼š&lt;/strong&gt; åˆ©ç”¨å…¶å¼ºå¤§çš„å…ƒæ•°æ®ç®¡ç†å’Œ SQL æ¥å£ã€‚ä½†&lt;strong&gt;å¼ºçƒˆå»ºè®®å°†æ‰§è¡Œå¼•æ“é…ç½®ä¸º Spark (Hive on Spark)&lt;/strong&gt;ï¼Œè€Œä¸æ˜¯ MapReduce æˆ– Tezï¼Œä»¥è·å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Spark SQLï¼š&lt;/strong&gt; ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ Spark SQL æ¥æ‰§è¡Œ SQL æŸ¥è¯¢ï¼Œå®ƒåŒæ ·æ”¯æŒ HiveQL è¯­æ³•ï¼ˆå…¼å®¹ Hive Metastoreï¼‰ï¼Œæ€§èƒ½é€šå¸¸ä¼˜äº Hive on Sparkã€‚å¦‚æœä½ å·²ç»åœ¨ç”¨ Spark åšå…¶ä»–äº‹æƒ…ï¼ˆå¦‚ ETL, MLï¼‰ï¼ŒSpark SQL æ˜¯æ›´ç»Ÿä¸€çš„é€‰æ‹©ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€è¦äºšç§’çº§å“åº”çš„äº¤äº’å¼æŸ¥è¯¢ï¼Ÿ&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hive LLAPï¼š&lt;/strong&gt; Hive çš„ Live Long and Process æ¨¡å¼æä¾›å†…å­˜ç¼“å­˜å’Œå®ˆæŠ¤è¿›ç¨‹ï¼ŒåŠ é€ŸæŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Spark Thrift Server / JDBC/ODBC Serverï¼š&lt;/strong&gt; å…è®¸ BI å·¥å…·é€šè¿‡æ ‡å‡†æ¥å£è¿æ¥ Spark SQL è¿›è¡Œäº¤äº’å¼æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸“ç”¨äº¤äº’å¼å¼•æ“ï¼š&lt;/strong&gt; å¦‚ Presto, Impala, Druid ç­‰ï¼ˆè¿™äº›é€šå¸¸ä¹Ÿä¾èµ– HDFS/S3 å­˜å‚¨å’Œ Hive Metastoreï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€è¦å®æ—¶/å‡†å®æ—¶æµå¤„ç†ï¼Ÿ&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Spark Structured Streamingï¼š&lt;/strong&gt; é¦–é€‰çš„ç»Ÿä¸€å¼•æ“æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Flinkï¼š&lt;/strong&gt; å¦ä¸€ä¸ªå¼ºå¤§çš„æµå¤„ç†å¼•æ“ï¼ˆSpark å’Œ Flink æ˜¯å½“å‰æµå¤„ç†çš„ä¸»æµï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€è¦åšæœºå™¨å­¦ä¹ æˆ–å›¾è®¡ç®—ï¼Ÿ&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Spark MLlib / GraphXï¼š&lt;/strong&gt; Spark çš„å†…ç½®åº“æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å…ƒæ•°æ®ç®¡ç†ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hive Metastore (HMS) æ˜¯äº‹å®æ ‡å‡†ï¼š&lt;/strong&gt; æ— è®ºä½ ä¸»è¦ä½¿ç”¨ Hiveã€Spark SQL è¿˜æ˜¯å…¶ä»–æŸ¥è¯¢å¼•æ“ï¼ˆPresto, Impalaï¼‰ï¼Œ&lt;strong&gt;å¼ºçƒˆå»ºè®®ä½¿ç”¨ Hive Metastore&lt;/strong&gt; æ¥é›†ä¸­ç®¡ç†è¡¨ç»“æ„ã€åˆ†åŒºã€æ•°æ®ç±»å‹ã€å­˜å‚¨ä½ç½®ç­‰å…ƒæ•°æ®ã€‚è¿™ä¿è¯äº†ä¸åŒå¼•æ“å¯¹æ•°æ®æœ‰ä¸€è‡´çš„è§†å›¾ï¼Œæ˜¯æ•°æ®æ²»ç†çš„åŸºç¡€ã€‚Spark åŸç”Ÿæ”¯æŒè¯»å†™ Hive Metastoreã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å…¸å‹çš„ç»„åˆä½¿ç”¨æ¨¡å¼&#34;&gt;&lt;a href=&#34;#å…¸å‹çš„ç»„åˆä½¿ç”¨æ¨¡å¼&#34; class=&#34;headerlink&#34; title=&#34;å…¸å‹çš„ç»„åˆä½¿ç”¨æ¨¡å¼&#34;&gt;&lt;/a&gt;å…¸å‹çš„ç»„åˆä½¿ç”¨æ¨¡å¼&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç»å…¸æ‰¹å¤„ç†æ•°æ®ä»“åº“ (Hive-Centric):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨:&lt;/strong&gt; HDFS æˆ– S3/GCS/ADLS&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…ƒæ•°æ®:&lt;/strong&gt; Hive Metastore&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ETL/è®¡ç®—ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;ä¼ ç»Ÿ/åŸºç¡€ç‰ˆï¼š&lt;/em&gt; Hive on MapReduce/Tez (åˆ©ç”¨ HiveQL ç¼–å†™ ETL å’ŒæŸ¥è¯¢é€»è¾‘)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç°ä»£/é«˜æ•ˆç‰ˆï¼š* &lt;/strong&gt;Hive on Spark&lt;strong&gt; (HiveQL -&amp;gt; Spark Job) æˆ– &lt;/strong&gt;Spark SQL** (Spark API/SQL -&amp;gt; Spark Job)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŸ¥è¯¢ï¼š&lt;/strong&gt; Hive CLI/Beeline (æ‰§è¡Œ HiveQL)ï¼ŒSpark SQL Thrift Server (æ”¯æŒ BI å·¥å…·è¿æ¥)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœºæ™¯ï¼š&lt;/strong&gt; ä¼ ç»Ÿçš„ T+1 æ•°æ®æŠ¥è¡¨ï¼Œå¤§è§„æ¨¡å†å²æ•°æ®åˆ†æã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;é«˜æ€§èƒ½ç»Ÿä¸€åˆ†æå¹³å° (Spark-Centric):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨:&lt;/strong&gt; HDFS æˆ– S3/GCS/ADLS&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…ƒæ•°æ®:&lt;/strong&gt; Hive Metastore (Spark SQL ç›´æ¥è¯»å†™ HMS)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¡ç®—ï¼š&lt;/strong&gt; &lt;strong&gt;Spark&lt;/strong&gt; ä½œä¸ºæ ¸å¿ƒå¼•æ“&lt;ul&gt;
&lt;li&gt;&lt;em&gt;æ‰¹å¤„ç† ETL:&lt;/em&gt; ä½¿ç”¨ Spark DataFrame/Dataset API æˆ– Spark SQL æ¸…æ´—ã€è½¬æ¢ã€åŠ è½½æ•°æ®åˆ° Hive è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;æµå¤„ç†:&lt;/em&gt; ä½¿ç”¨ Spark Structured Streaming å¤„ç† Kafka ç­‰æ•°æ®æºï¼Œç»“æœå†™å…¥ Hive è¡¨æˆ–ç›´æ¥ä¾›ä¸‹æ¸¸ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;äº¤äº’å¼æŸ¥è¯¢:&lt;/em&gt; é€šè¿‡ Spark Thrift Server æ”¯æŒ BI å·¥å…·è¿æ¥ Spark SQLã€‚&lt;/li&gt;
&lt;li&gt;&lt;em&gt;æœºå™¨å­¦ä¹ :&lt;/em&gt; ä½¿ç”¨ Spark MLlib è®­ç»ƒæ¨¡å‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºç®¡ç†:&lt;/strong&gt; YARN (Hadoop) æˆ– Kubernetes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœºæ™¯ï¼š&lt;/strong&gt; éœ€è¦èåˆæ‰¹å¤„ç†ã€æµå¤„ç†ã€æœºå™¨å­¦ä¹ ã€äº¤äº’å¼æŸ¥è¯¢ç­‰å¤šç§å·¥ä½œè´Ÿè½½çš„ç°ä»£æ•°æ®å¹³å°ã€‚Hive Metastore æä¾›äº†ç»Ÿä¸€çš„æ•°æ®ç›®å½•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;äº‘åŸç”Ÿæ•°æ®æ¹–ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨:&lt;/strong&gt; S3, GCS, ADLS (å¯¹è±¡å­˜å‚¨)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…ƒæ•°æ®:&lt;/strong&gt; Hive Metastore (æ‰˜ç®¡æœåŠ¡å¦‚ AWS Glue Data Catalog æ˜¯ HMS çš„å…¼å®¹å®ç°)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¡ç®—ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Serverless SQL æŸ¥è¯¢ï¼š&lt;/em&gt; AWS Athena, Google BigQuery (ç›´æ¥æŸ¥è¯¢ S3/GCS æ•°æ®ï¼Œåˆ©ç”¨ Glue Catalog æˆ–ç±»ä¼¼å…ƒæ•°æ®)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;è‡ªå®šä¹‰å¤„ç†ï¼š&lt;/em&gt; &lt;strong&gt;Spark&lt;/strong&gt; on EMR/Dataproc/Databricks/Synapse (è¿›è¡Œå¤æ‚çš„ ETLã€MLã€æµå¤„ç†ï¼Œè¯»å†™å¯¹è±¡å­˜å‚¨å’Œå…ƒæ•°æ®æœåŠ¡)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœºæ™¯ï¼š&lt;/strong&gt; åˆ©ç”¨äº‘æœåŠ¡çš„å¼¹æ€§ã€æŒ‰éœ€ä»˜è´¹ç‰¹æ€§ï¼Œå‡å°‘åŸºç¡€è®¾æ–½è¿ç»´è´Ÿæ‹…ã€‚Spark å¤„ç†å¤æ‚ä»»åŠ¡ï¼ŒServerless SQL å¤„ç†å³å¸­æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ€»ç»“ä¸å…³é”®å»ºè®®&#34;&gt;&lt;a href=&#34;#æ€»ç»“ä¸å…³é”®å»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;æ€»ç»“ä¸å…³é”®å»ºè®®&#34;&gt;&lt;/a&gt;æ€»ç»“ä¸å…³é”®å»ºè®®&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;HDFS/å¯¹è±¡å­˜å‚¨æ˜¯åŸºçŸ³ï¼š&lt;/strong&gt; é€‰æ‹©é€‚åˆä½ çš„åˆ†å¸ƒå¼å­˜å‚¨ï¼ˆHDFS æˆ–äº‘å­˜å‚¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hive Metastore æ˜¯æ ¸å¿ƒæ¢çº½ï¼š&lt;/strong&gt; &lt;strong&gt;åŠ¡å¿…ä½¿ç”¨&lt;/strong&gt; Hive Metastore æˆ–å…¼å®¹æœåŠ¡ï¼ˆå¦‚ AWS Glueï¼‰æ¥ç»Ÿä¸€ç®¡ç†å…ƒæ•°æ®ï¼Œè¿™æ˜¯æ‰“é€šä¸åŒè®¡ç®—å¼•æ“çš„å…³é”®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Spark æ˜¯é¦–é€‰è®¡ç®—å¼•æ“ï¼š&lt;/strong&gt; å¯¹äºç»å¤§å¤šæ•°&lt;strong&gt;éœ€è¦é€Ÿåº¦&lt;/strong&gt;çš„è®¡ç®—ä»»åŠ¡ï¼ˆæ‰¹å¤„ç†ã€æµå¤„ç†ã€MLã€äº¤äº’å¼SQLï¼‰ï¼Œ&lt;strong&gt;ä¼˜å…ˆé€‰æ‹© Spark&lt;/strong&gt; æ›¿ä»£ä¼ ç»Ÿçš„ MapReduce/Tezã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hive çš„ä»·å€¼åœ¨äº SQL æ¥å£å’Œ Metastoreï¼š&lt;/strong&gt; å³ä½¿ä¸»è¦ç”¨ Sparkï¼ŒHive çš„ Metastore å¿…ä¸å¯å°‘ï¼ŒHiveQL æ¥å£å¯¹äºé‡åº¦ SQL ç”¨æˆ·ä¾ç„¶æœ‰ä»·å€¼ï¼ˆä½†åº•å±‚æ‰§è¡Œåº”é…ç½®ä¸º Sparkï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hadoop YARN æ˜¯å¯é€‰çš„èµ„æºç®¡ç†å™¨ï¼š&lt;/strong&gt; Spark å¯ä»¥è¿è¡Œåœ¨ YARNã€Kubernetes æˆ– Standalone ä¸Šã€‚å¦‚æœå·²æœ‰ Hadoop é›†ç¾¤ï¼ŒYARN æ˜¯è‡ªç„¶é€‰æ‹©ï¼›æ–°å»ºé›†ç¾¤ï¼ŒKubernetes è¶Šæ¥è¶Šæµè¡Œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»„åˆæ˜¯å¸¸æ€ï¼š&lt;/strong&gt; å‡ ä¹æ²¡æœ‰å¤§å‹å¹³å°åªä½¿ç”¨å…¶ä¸­ä¸€ç§æŠ€æœ¯ã€‚å…¸å‹ç»„åˆæ˜¯ï¼š&lt;code&gt;(HDFS/S3) + (Hive Metastore) + (Spark for Processing) + (å¯é€‰ Hive for SQL interface / LLAP for interactive)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ç®€è€Œè¨€ä¹‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨æ•°æ®ç”¨ä»€ä¹ˆï¼Ÿ&lt;/strong&gt; HDFS æˆ– äº‘å­˜å‚¨ (S3/GCS/ADLS)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç®¡ç†è¡¨ç»“æ„ç”¨ä»€ä¹ˆï¼Ÿ&lt;/strong&gt; Hive Metastore (æˆ–äº‘æœåŠ¡å¦‚ Glue Catalog)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·‘ ETLã€æµå¤„ç†ã€æœºå™¨å­¦ä¹ ã€å¿«é€Ÿ SQL ç”¨ä»€ä¹ˆï¼Ÿ&lt;/strong&gt; Spark (Spark Core, Spark SQL, Structured Streaming, MLlib)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æƒ³ç”¨ç†Ÿæ‚‰çš„ SQL åšæ‰¹å¤„ç†åˆ†æï¼Œæˆ–è€…éœ€è¦åŠ é€Ÿäº¤äº’æŸ¥è¯¢ï¼Ÿ&lt;/strong&gt; å¯ä»¥ä½¿ç”¨ Hive (ä½†é…ç½® Hive on Spark æˆ– Hive LLAP)ï¼Œæˆ–è€…ç›´æ¥ç”¨ Spark SQL + Thrift Serverã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¹æ®ä½ çš„å…·ä½“åœºæ™¯ï¼ˆæ•°æ®è§„æ¨¡ã€å»¶è¿Ÿè¦æ±‚ã€å¤„ç†ç±»å‹ã€å›¢é˜ŸæŠ€èƒ½ã€é¢„ç®—ã€äº‘æˆ–æœ¬åœ°ï¼‰æ¥è°ƒæ•´è¿™äº›ç»„ä»¶çš„æƒé‡å’Œé…ç½®ã€‚å¯¹äºæ–°é¡¹ç›®ï¼Œä»¥ Spark ä¸ºæ ¸å¿ƒè®¡ç®—å¼•æ“ï¼Œç»“åˆ Hive Metastore å’Œ HDFS/äº‘å­˜å‚¨ï¼Œæ˜¯æœ€å¸¸è§ä¸”é«˜æ•ˆçš„èµ·ç‚¹ã€‚&lt;/p&gt;
</content>
        <category term="hadoop" />
        <category term="å¤§æ•°æ®" />
        <category term="spark" />
        <category term="hive" />
        <category term="æ•°æ®åˆ†æ" />
        <updated>2025-07-25T13:36:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/07/22/virtualbox-hyper-v/</id>
        <title>virtualboxä¸hyper-vçš„å†²çª</title>
        <link rel="alternate" href="https://erik.xyz/2025/07/22/virtualbox-hyper-v/"/>
        <content type="html">&lt;p&gt;å› ä¸ºæœ€è¿‘åœ¨å­¦é¸¿è’™å¼€å‘ï¼Œå¼€å‘ç”µè„‘ä¸€ç›´ç”¨çš„deepinç³»ç»Ÿï¼ŒDevEcoStudioä¸æ”¯æŒlinuxç³»ç»Ÿï¼Œç”¨äº†winå…¼å®¹å¼•æ“è¿˜æ˜¯ä¸è¡Œã€‚æ²¡åŠæ³•ï¼Œåªå¥½è£…äº†virtualboxæ¥è¿è¡Œwin10ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨virtualboxä¸­å®‰è£…å¥½win10ä¹Ÿè£…äº†ï¼ŒDevEcoStudioè¿è¡Œåï¼Œè™šæ‹Ÿæœºä¸€ç›´æç¤ºhyper-væœªå¼€å¯ã€‚ä½†æ˜¯ï¼Œæ˜æ˜å¼€å¯äº†ï¼Œæ€ä¹ˆåŠï¼Ÿéš¾æ‰“VT-Xå’Œhyper-væœ‰å†²çªï¼ŸæŸ¥æŸ¥èµ„æ–™ï¼Œæ‰¾åˆ°äº†è§£å†³åŠæ³•ã€‚&lt;br&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1.å…³é—­ Win10 è™šæ‹Ÿæœºï¼Œåœ¨ Deepin ç»ˆç«¯æ‰§è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    VBoxManage modifyvm &amp;quot;è™šæ‹Ÿæœºåç§°&amp;quot; --nested-hw-virt on 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2.ä¿®æ”¹è™šæ‹Ÿæœºè®¾ç½®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ‰“å¼€ VirtualBox ç®¡ç†ç•Œé¢ â†’ é€‰æ‹© Win10 è™šæ‹Ÿæœº â†’ è®¾ç½® â†’ ç³»ç»Ÿ â†’ åŠ é€Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åŠè™šæ‹ŸåŒ–æ¥å£ é€‰æ‹© Hyper-V4ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å‹¾é€‰ å¯ç”¨åµŒå¥—åˆ†é¡µï¼ˆNested Pagingï¼‰ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¤„ç†å™¨æ•°é‡ â‰¥ 2ï¼ˆè‹¥ç‰©ç† CPU æ ¸å¿ƒè¶³å¤Ÿï¼‰5ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;c&lt;/p&gt;
</content>
        <category term="virtualbox" />
        <category term="hyper-v" />
        <category term="é¸¿è’™å¼€å‘" />
        <updated>2025-07-22T09:10:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/07/11/plc-concepts-application-scenarios/</id>
        <title>PLCåŸºç¡€æ¦‚å¿µä¸åº”ç”¨åœºæ™¯è¯¦è§£</title>
        <link rel="alternate" href="https://erik.xyz/2025/07/11/plc-concepts-application-scenarios/"/>
        <content type="html">&lt;p&gt;è‡ªå­¦PLCæ˜¯å®Œå…¨å¯è¡Œçš„ï¼å…³é”®åœ¨äº&lt;strong&gt;ç³»ç»ŸåŒ–çš„å­¦ä¹ è·¯å¾„+åŠ¨æ‰‹å®è·µ&lt;/strong&gt;ã€‚ä»¥ä¸‹æ˜¯ä¸ºä½ æ•´ç†çš„ &lt;strong&gt;ã€Œé›¶åŸºç¡€è‡ªå­¦PLCå…¨æ”»ç•¥ã€&lt;/strong&gt;ï¼Œç»“åˆå¤šå¹´å·¥ä¸šè‡ªåŠ¨åŒ–ç»éªŒæ€»ç»“ï¼Œå¸®ä½ å°‘èµ°å¼¯è·¯ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;ä¸€ã€è‡ªå­¦å¿…å¤‡åŸºç¡€å‡†å¤‡&#34;&gt;&lt;a href=&#34;#ä¸€ã€è‡ªå­¦å¿…å¤‡åŸºç¡€å‡†å¤‡&#34; class=&#34;headerlink&#34; title=&#34;ä¸€ã€è‡ªå­¦å¿…å¤‡åŸºç¡€å‡†å¤‡&#34;&gt;&lt;/a&gt;&lt;strong&gt;ä¸€ã€è‡ªå­¦å¿…å¤‡åŸºç¡€å‡†å¤‡&lt;/strong&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”µå·¥çŸ¥è¯†&lt;/strong&gt;ï¼ˆå¿…é¡»æŒæ¡ï¼‰  &lt;ul&gt;
&lt;li&gt;çœ‹æ‡‚ç”µè·¯å›¾ã€ç»§ç”µå™¨æ§åˆ¶åŸç†ï¼ˆå¯ä¿åœ/æ­£åè½¬ï¼‰&lt;/li&gt;
&lt;li&gt;äº†è§£ä¼ æ„Ÿå™¨ï¼ˆNPN/PNPæ¥çº¿ï¼‰ã€æ¥è§¦å™¨ã€å¼€å…³ç”µæºç­‰å…ƒä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¡ç®—æœºæ“ä½œ&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;æ–‡ä»¶ç®¡ç†ã€è½¯ä»¶å®‰è£…ã€åŸºç¡€è°ƒè¯•èƒ½åŠ›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€»è¾‘æ€ç»´èƒ½åŠ›&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;èƒ½åˆ†æâ€œIFâ€¦THENâ€¦â€æ¡ä»¶é€»è¾‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;é‡è¦æç¤º&lt;/strong&gt;ï¼šè‹¥ç”µå·¥åŸºç¡€è–„å¼±ï¼Œå…ˆå­¦ä¹  &lt;strong&gt;ã€Šç”µå·¥ä¸Šå²—è¯ã€‹&lt;/strong&gt; å†…å®¹ï¼ˆæ¨èbç«™â€œç”µå·¥å¤§å´â€ç³»åˆ—è§†é¢‘ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;&#34;&gt;&lt;a href=&#34;#&#34; class=&#34;headerlink&#34; title=&#34;&#34;&gt;&lt;/a&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;ğŸ“š-äºŒã€åˆ†é˜¶æ®µå­¦ä¹ è·¯çº¿ï¼ˆé™„èµ„æºï¼‰&#34;&gt;&lt;a href=&#34;#ğŸ“š-äºŒã€åˆ†é˜¶æ®µå­¦ä¹ è·¯çº¿ï¼ˆé™„èµ„æºï¼‰&#34; class=&#34;headerlink&#34; title=&#34;ğŸ“š äºŒã€åˆ†é˜¶æ®µå­¦ä¹ è·¯çº¿ï¼ˆé™„èµ„æºï¼‰&#34;&gt;&lt;/a&gt;ğŸ“š &lt;strong&gt;äºŒã€åˆ†é˜¶æ®µå­¦ä¹ è·¯çº¿ï¼ˆé™„èµ„æºï¼‰&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&#34;â–¶-é˜¶æ®µ1ï¼šPLCæ ¸å¿ƒæ¦‚å¿µç­‘åŸºï¼ˆ1-2å‘¨ï¼‰&#34;&gt;&lt;a href=&#34;#â–¶-é˜¶æ®µ1ï¼šPLCæ ¸å¿ƒæ¦‚å¿µç­‘åŸºï¼ˆ1-2å‘¨ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;â–¶ é˜¶æ®µ1ï¼šPLCæ ¸å¿ƒæ¦‚å¿µç­‘åŸºï¼ˆ1-2å‘¨ï¼‰&#34;&gt;&lt;/a&gt;â–¶ &lt;strong&gt;é˜¶æ®µ1ï¼šPLCæ ¸å¿ƒæ¦‚å¿µç­‘åŸºï¼ˆ1-2å‘¨ï¼‰&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­¦ä¹ é‡ç‚¹&lt;/strong&gt;ï¼š&lt;ul&gt;
&lt;li&gt;PLCå·¥ä½œåŸç†ï¼ˆè¾“å…¥-å¤„ç†-è¾“å‡ºå¾ªç¯ï¼‰&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶ç»„æˆï¼ˆCPU/IOæ¨¡å—/ç”µæº/æ€»çº¿ï¼‰&lt;/li&gt;
&lt;li&gt;è¿›åˆ¶è½¬æ¢ï¼ˆäºŒè¿›åˆ¶/åå…­è¿›åˆ¶ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨èèµ„æº&lt;/strong&gt;ï¼š&lt;ul&gt;
&lt;li&gt;ä¹¦ç±ï¼šã€ŠPLCç¼–ç¨‹ä»å…¥é—¨åˆ°ç²¾é€šã€‹ï¼ˆå»–å¸¸åˆè‘—ï¼‰&lt;/li&gt;
&lt;li&gt;è§†é¢‘ï¼šBç«™â€œå·¥æ§è‡ªä¹ å®¤â€ã€ŠPLCåŸç†10è®²ã€‹ï¼ˆå…è´¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;â–¶-é˜¶æ®µ2ï¼šç¼–ç¨‹è¯­è¨€å®æˆ˜ï¼ˆé‡ç‚¹ï¼3-6å‘¨ï¼‰&#34;&gt;&lt;a href=&#34;#â–¶-é˜¶æ®µ2ï¼šç¼–ç¨‹è¯­è¨€å®æˆ˜ï¼ˆé‡ç‚¹ï¼3-6å‘¨ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;â–¶ é˜¶æ®µ2ï¼šç¼–ç¨‹è¯­è¨€å®æˆ˜ï¼ˆé‡ç‚¹ï¼3-6å‘¨ï¼‰&#34;&gt;&lt;/a&gt;â–¶ &lt;strong&gt;é˜¶æ®µ2ï¼šç¼–ç¨‹è¯­è¨€å®æˆ˜ï¼ˆé‡ç‚¹ï¼3-6å‘¨ï¼‰&lt;/strong&gt;&lt;/h3&gt;&lt;div class=&#34;table-container&#34;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;è¯­è¨€&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;å­¦ä¹ å»ºè®®&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;ä»¿çœŸè½¯ä»¶&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ¢¯å½¢å›¾(LD)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å…ˆæŒæ¡ï¼80%åŸºç¡€é¡¹ç›®ç”¨æ­¤è¯­è¨€&lt;/td&gt;
&lt;td&gt;è¥¿é—¨å­TIA Portalï¼ˆåšé€”ï¼‰å­¦ä¹ ç‰ˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;åŠŸèƒ½å—(FBD)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;å­¦ä¹ æ ‡å‡†åŠŸèƒ½å—ï¼ˆå®šæ—¶å™¨/è®¡æ•°å™¨ï¼‰&lt;/td&gt;
&lt;td&gt;ä¸‰è±GX Works2 æ¨¡æ‹Ÿå™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ç»“æ„åŒ–æ–‡æœ¬(ST)&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æœ‰Cè¯­è¨€åŸºç¡€å†å­¦&lt;/td&gt;
&lt;td&gt;Codesys V3.5ï¼ˆå…è´¹ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;âœ¨ &lt;strong&gt;å…³é”®ç»ƒä¹ &lt;/strong&gt;ï¼š&lt;br&gt;â‘  ç”µæœºæ­£åè½¬æ§åˆ¶&lt;br&gt;â‘¡ ä¸‰çº§ä¼ é€å¸¦è”åŠ¨&lt;br&gt;â‘¢ æ°´ç®±æ¶²ä½PIDè°ƒèŠ‚ï¼ˆæ¨¡æ‹Ÿé‡ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;â–¶-é˜¶æ®µ3ï¼šç¡¬ä»¶å®æ“ï¼ˆæ ¸å¿ƒç¯èŠ‚ï¼ï¼‰&#34;&gt;&lt;a href=&#34;#â–¶-é˜¶æ®µ3ï¼šç¡¬ä»¶å®æ“ï¼ˆæ ¸å¿ƒç¯èŠ‚ï¼ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;â–¶ é˜¶æ®µ3ï¼šç¡¬ä»¶å®æ“ï¼ˆæ ¸å¿ƒç¯èŠ‚ï¼ï¼‰&#34;&gt;&lt;/a&gt;â–¶ &lt;strong&gt;é˜¶æ®µ3ï¼šç¡¬ä»¶å®æ“ï¼ˆæ ¸å¿ƒç¯èŠ‚ï¼ï¼‰&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä½æˆæœ¬æ–¹æ¡ˆ&lt;/strong&gt;ï¼ˆæ€»é¢„ç®—ï¼œ500å…ƒï¼‰ï¼š&lt;pre class=&#34;mermaid&#34;&gt;  graph LR
  A[æ·˜å®äºŒæ‰‹PLC] --&gt; B[ä¸‰è±FX1S-20MR â‰ˆ200å…ƒ]
  B --&gt; C[æŒ‰é’®å¼€å…³å¥—è£… 50å…ƒ]
  C --&gt; D[ç»§ç”µå™¨æ¨¡å— 30å…ƒ]
  D --&gt; E[USBç¼–ç¨‹çº¿ 40å…ƒ]&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹Ÿæ–¹æ¡ˆ&lt;/strong&gt;ï¼ˆé›¶ç¡¬ä»¶ï¼‰ï¼š&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Factory IO&lt;/strong&gt;ï¼ˆ3Dä»¿çœŸè½¯ä»¶ï¼‰+ &lt;strong&gt;TIA Portal&lt;/strong&gt; è”åŠ¨å®éªŒ&lt;/li&gt;
&lt;li&gt;æ¨¡æ‹ŸçœŸå®åœºæ™¯ï¼šä¼ é€å¸¦åˆ†æ‹£/æ™ºèƒ½ä»“å‚¨/ç”µæ¢¯æ§åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;â–¶-é˜¶æ®µ4ï¼šå·¥ä¸šé€šä¿¡ä¸é«˜çº§åº”ç”¨ï¼ˆ2-3ä¸ªæœˆï¼‰&#34;&gt;&lt;a href=&#34;#â–¶-é˜¶æ®µ4ï¼šå·¥ä¸šé€šä¿¡ä¸é«˜çº§åº”ç”¨ï¼ˆ2-3ä¸ªæœˆï¼‰&#34; class=&#34;headerlink&#34; title=&#34;â–¶ é˜¶æ®µ4ï¼šå·¥ä¸šé€šä¿¡ä¸é«˜çº§åº”ç”¨ï¼ˆ2-3ä¸ªæœˆï¼‰&#34;&gt;&lt;/a&gt;â–¶ &lt;strong&gt;é˜¶æ®µ4ï¼šå·¥ä¸šé€šä¿¡ä¸é«˜çº§åº”ç”¨ï¼ˆ2-3ä¸ªæœˆï¼‰&lt;/strong&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é€šä¿¡åè®®&lt;/strong&gt;ï¼šModbus RTUï¼ˆå¿…å­¦ï¼‰ã€CANopen&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HMIå…¥é—¨&lt;/strong&gt;ï¼šç”¨å¨çº¶é€šMT8071IEåšç®€æ˜“æ§åˆ¶ç•Œé¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SCADAåŸºç¡€&lt;/strong&gt;ï¼šç»„æ€ç‹/åŠ›æ§ç»„æ€è½¯ä»¶æ•°æ®é‡‡é›†&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;ğŸ”§-ä¸‰ã€é¿å‘æŒ‡å—ï¼ˆè¡€æ³ªç»éªŒï¼ï¼‰&#34;&gt;&lt;a href=&#34;#ğŸ”§-ä¸‰ã€é¿å‘æŒ‡å—ï¼ˆè¡€æ³ªç»éªŒï¼ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;ğŸ”§ ä¸‰ã€é¿å‘æŒ‡å—ï¼ˆè¡€æ³ªç»éªŒï¼ï¼‰&#34;&gt;&lt;/a&gt;ğŸ”§ &lt;strong&gt;ä¸‰ã€é¿å‘æŒ‡å—ï¼ˆè¡€æ³ªç»éªŒï¼ï¼‰&lt;/strong&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;âŒ &lt;strong&gt;é”™è¯¯è·¯çº¿&lt;/strong&gt;ï¼šä¸€å¼€å§‹å°±é’»ç ”è¥¿é—¨å­S7-1500ï¼ˆå¤æ‚åº¦é«˜æ‰“å‡»ä¿¡å¿ƒï¼‰&lt;/li&gt;
&lt;li&gt;âœ… &lt;strong&gt;æ­£ç¡®è·¯çº¿&lt;/strong&gt;ï¼š&lt;strong&gt;å›½äº§PLCå…¥é—¨ï¼ˆä¿¡æ·/æ±‡å·ï¼‰â†’ ä¸‰è±FXç³»åˆ— â†’ è¥¿é—¨å­S7-1200&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ğŸš« &lt;strong&gt;å‹¿è¸©çš„å‘&lt;/strong&gt;ï¼š&lt;ol&gt;
&lt;li&gt;ä¸ç»ƒæ¡ˆä¾‹ç›´æ¥çœ‹æ‰‹å†Œ â†’ æ•ˆç‡æä½&lt;/li&gt;
&lt;li&gt;å¿½è§†PLCæ¥åœ° â†’ çƒ§æ¯æ¨¡å—é£é™©&lt;/li&gt;
&lt;li&gt;æœªå¤‡ä»½ç¨‹åºç›´æ¥ä¿®æ”¹ â†’ å¯¼è‡´è®¾å¤‡åœæœº&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;ğŸŒ-å››ã€æŒç»­è¿›é˜¶èµ„æº&#34;&gt;&lt;a href=&#34;#ğŸŒ-å››ã€æŒç»­è¿›é˜¶èµ„æº&#34; class=&#34;headerlink&#34; title=&#34;ğŸŒ å››ã€æŒç»­è¿›é˜¶èµ„æº&#34;&gt;&lt;/a&gt;ğŸŒ &lt;strong&gt;å››ã€æŒç»­è¿›é˜¶èµ„æº&lt;/strong&gt;&lt;/h2&gt;&lt;div class=&#34;table-container&#34;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;ç±»å‹&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æ¨èèµ„æº&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;æ•…éšœæ’æŸ¥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ã€ŠPLCæ•…éšœè¯Šæ–­ä¸ç»´æŠ¤ã€‹PDF + æŠ–éŸ³â€œå·¥æ§è€å¼ è¯´ç»´ä¿®â€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è¡Œä¸šæ¡ˆä¾‹&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ä¸­åå·¥æ§ç½‘è®ºå›æ¡ˆä¾‹åŒºï¼ˆçœŸå®é¡¹ç›®ç¨‹åºä¸‹è½½ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;è®¤è¯ä½“ç³»&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è¥¿é—¨å­S7-1200è®¤è¯å·¥ç¨‹å¸ˆï¼ˆå¯åœ¨çº¿è€ƒï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;å¼€æºé¡¹ç›®&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;GitHubæœç´¢â€œPLC Projectâ€å­¦ä¹ äº§çº¿æ§åˆ¶æºç &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;h2 id=&#34;ğŸš€-äº”ã€å°±ä¸šèƒ½åŠ›è½¬åŒ–å»ºè®®&#34;&gt;&lt;a href=&#34;#ğŸš€-äº”ã€å°±ä¸šèƒ½åŠ›è½¬åŒ–å»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;ğŸš€ äº”ã€å°±ä¸šèƒ½åŠ›è½¬åŒ–å»ºè®®&#34;&gt;&lt;/a&gt;ğŸš€ &lt;strong&gt;äº”ã€å°±ä¸šèƒ½åŠ›è½¬åŒ–å»ºè®®&lt;/strong&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ‰“é€ ä½œå“é›†&lt;/strong&gt;ï¼š&lt;ul&gt;
&lt;li&gt;ç”¨Factory IOå½•åˆ¶æ§åˆ¶ä»¿çœŸè§†é¢‘&lt;/li&gt;
&lt;li&gt;è‡ªåˆ¶PLCæ§åˆ¶å°ï¼ˆæ·˜å®é’£é‡‘ç®±+å…ƒå™¨ä»¶ç»„è£…ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‚ä¸é¡¹ç›®&lt;/strong&gt;ï¼š&lt;ul&gt;
&lt;li&gt;æ¥ç®€å•å¤–åŒ…ï¼šè®¾å¤‡æ”¹é€ /å°å‹éæ ‡è‡ªåŠ¨åŒ–ï¼ˆæ™ºé€ å®¶å¹³å°ï¼‰&lt;/li&gt;
&lt;li&gt;åŠ å…¥å·¥æ§ä¾ å®¢è¡Œç­‰ç¤¾ç¾¤åšå¿—æ„¿è€…é¡¹ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
        <category term="å¼€å‘" />
        <category term="plc" />
        <updated>2025-07-11T14:12:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/07/09/php-architecture03/</id>
        <title>phpæ¶æ„æ–¹é¢çš„è®¾è®¡ä¸æ€è€ƒï¼ˆä¸‰ï¼‰</title>
        <link rel="alternate" href="https://erik.xyz/2025/07/09/php-architecture03/"/>
        <content type="html">&lt;p&gt;PHPå¾®æœåŠ¡æ¶æ„ç»ˆææ•´åˆæ–¹æ¡ˆ:&lt;br&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
  &lt;pre class=&#34;mermaid&#34;&gt;  graph TD
      A[å®¢æˆ·ç«¯] --&gt; B{Kongç½‘å…³}
      B --&gt;|è·¯ç”±| C[ç”¨æˆ·æœåŠ¡]
      B --&gt;|è·¯ç”±| D[è®¢å•æœåŠ¡]
      B --&gt;|è·¯ç”±| E[æ”¯ä»˜æœåŠ¡]

      C --&gt;|æ³¨å†Œ| F[Consulé›†ç¾¤]
      D --&gt;|æ³¨å†Œ| F
      E --&gt;|æ³¨å†Œ| F

      C --&gt;|é…ç½®| G[Apollo]
      D --&gt;|é…ç½®| G
      E --&gt;|é…ç½®| G

      D --&gt;|æ¶ˆæ¯| H[RabbitMQé›†ç¾¤]
      H --&gt; E
      H --&gt; I[é€šçŸ¥æœåŠ¡]

      F --&gt; J[Prometheus]
      G --&gt; J
      H --&gt; J
      J --&gt; K[Grafana]

      L[Jaeger] --&gt; M[æœåŠ¡è¿½è¸ª]&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;åŸºç¡€è®¾æ–½å¿«é€Ÿéƒ¨ç½²&lt;br&gt;Docker Compose å…¨æ ˆé…ç½®&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;version: &amp;#x27;3.8&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;services:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  # æ³¨å†Œä¸­å¿ƒ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  consul-server:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: consul:1.15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports: [&amp;quot;8500:8500&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    command: &amp;quot;agent -server -bootstrap-expect=1 -ui -client 0.0.0.0&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  # APIç½‘å…³&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  kong:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: kong:3.4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    depends_on: [consul-server]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    environment:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      KONG_DATABASE: &amp;quot;off&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      KONG_DECLARATIVE_CONFIG: &amp;quot;/etc/kong/kong.yml&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      KONG_PROXY_ACCESS_LOG: &amp;quot;/dev/stdout&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      KONG_ADMIN_ACCESS_LOG: &amp;quot;/dev/stdout&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      KONG_PROXY_ERROR_LOG: &amp;quot;/dev/stderr&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports: [&amp;quot;8000:8000&amp;quot;, &amp;quot;8001:8001&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    volumes:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - ./kong:/etc/kong&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  # é…ç½®ä¸­å¿ƒ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  apollo:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: apolloconfig/apollo-portal:2.1.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports: [&amp;quot;8070:8070&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    environment:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      SPRING_DATASOURCE_URL: &amp;quot;jdbc:mysql://apollo-db:3306/ApolloPortalDB&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  # æ¶ˆæ¯é˜Ÿåˆ—&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  rabbitmq:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: rabbitmq:3.11-management&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports: [&amp;quot;5672:5672&amp;quot;, &amp;quot;15672:15672&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    environment:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      RABBITMQ_DEFAULT_USER: &amp;quot;admin&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      RABBITMQ_DEFAULT_PASS: &amp;quot;secret&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  # ç›‘æ§ç³»ç»Ÿ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  prometheus:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: prom/prometheus:v2.47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports: [&amp;quot;9090:9090&amp;quot;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    volumes:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - ./prometheus.yml:/etc/prometheus/prometheus.yml&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ ¸å¿ƒæœåŠ¡PHPå®ç°åŒ…&lt;/p&gt;
&lt;p&gt; composer.json å…³é”®ä¾èµ–&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;quot;require&amp;quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;php&amp;quot;: &amp;quot;&amp;gt;=8.2&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;ext-swoole&amp;quot;: &amp;quot;*&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;ext-redis&amp;quot;: &amp;quot;*&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;ext-amqp&amp;quot;: &amp;quot;*&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;sensiolabs/consul-php-sdk&amp;quot;: &amp;quot;^2.0&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;guzzlehttp/guzzle&amp;quot;: &amp;quot;^7.8&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;php-amqplib/php-amqplib&amp;quot;: &amp;quot;^3.2&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;resilience-php/resilience-php&amp;quot;: &amp;quot;^1.3&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;apolloconfig/apollo-client&amp;quot;: &amp;quot;^2.0&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡æ³¨å†Œä¸å‘ç°å®Œæ•´å®ç°&lt;/p&gt;
&lt;p&gt; æœåŠ¡æ³¨å†Œï¼ˆbootstrap.phpï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;use SensioLabs\Consul\ServiceFactory;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$consul = new ServiceFactory([&amp;#x27;base_uri&amp;#x27; =&amp;gt; &amp;#x27;http://consul-server:8500&amp;#x27;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// è‡ªåŠ¨è·å–æœ¬æœºIP&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$ip = trim(shell_exec(&amp;quot;hostname -i&amp;quot;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æ³¨å†ŒæœåŠ¡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$consul-&amp;gt;get(AgentInterface::class)-&amp;gt;registerService([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;ID&amp;#x27; =&amp;gt; &amp;#x27;order-service-&amp;#x27;.gethostname(),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Name&amp;#x27; =&amp;gt; &amp;#x27;order-service&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Address&amp;#x27; =&amp;gt; $ip,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Port&amp;#x27; =&amp;gt; 8000,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Check&amp;#x27; =&amp;gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;HTTP&amp;#x27; =&amp;gt; &amp;quot;http://&amp;#123;$ip&amp;#125;:8000/health&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;Interval&amp;#x27; =&amp;gt; &amp;#x27;5s&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;Timeout&amp;#x27; =&amp;gt; &amp;#x27;2s&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;DeregisterCriticalServiceAfter&amp;#x27; =&amp;gt; &amp;#x27;30s&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Tags&amp;#x27; =&amp;gt; [&amp;#x27;v2&amp;#x27;, &amp;#x27;primary&amp;#x27;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å¥åº·æ£€æŸ¥ç«¯ç‚¹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$app-&amp;gt;get(&amp;#x27;/health&amp;#x27;, function() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    check_database();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    check_redis();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    return json_response([&amp;#x27;status&amp;#x27; =&amp;gt; &amp;#x27;UP&amp;#x27;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class ServiceDiscovery &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private static $cache = [];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private static $ttl = 5; // ç¼“å­˜5ç§’&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public static function getInstance(string $service): string &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $now = time();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // ç¼“å­˜æœ‰æ•ˆæœŸå†…ç›´æ¥è¿”å›&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        if (isset(self::$cache[$service]) &amp;amp;&amp;amp; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $now - self::$cache[$service][&amp;#x27;timestamp&amp;#x27;] &amp;lt; self::$ttl) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            return self::selectInstance(self::$cache[$service][&amp;#x27;instances&amp;#x27;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // ä»Consulè·å–æ–°å®ä¾‹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $instances = $consul-&amp;gt;getCatalog()-&amp;gt;service($service)-&amp;gt;json();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        self::$cache[$service] = [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;instances&amp;#x27; =&amp;gt; $instances,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;timestamp&amp;#x27; =&amp;gt; $now&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        ];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return self::selectInstance($instances);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private static function selectInstance(array $instances): string &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // åŠ æƒéšæœºç®—æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $total = array_sum(array_column($instances, &amp;#x27;Weight&amp;#x27;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $rand = mt_rand(1, $total);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $current = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        foreach ($instances as $instance) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $current += $instance[&amp;#x27;Weight&amp;#x27;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            if ($rand &amp;lt;= $current) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                return &amp;quot;http://&amp;#123;$instance[&amp;#x27;ServiceAddress&amp;#x27;]&amp;#125;:&amp;#123;$instance[&amp;#x27;ServicePort&amp;#x27;]&amp;#125;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç»Ÿä¸€é…ç½®ä¸­å¿ƒæ¥å…¥&lt;/p&gt;
&lt;p&gt;Apolloé…ç½®ç›‘å¬&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$apollo = new \ApolloClient\Client([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;config_server&amp;#x27; =&amp;gt; &amp;#x27;http://apollo:8070&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;app_id&amp;#x27; =&amp;gt; &amp;#x27;order-service&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;cluster&amp;#x27; =&amp;gt; &amp;#x27;default&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// åˆå§‹åŒ–é…ç½®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$mysqlConfig = $apollo-&amp;gt;get(&amp;#x27;mysql&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DB::connect($mysqlConfig);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// åŠ¨æ€ç›‘å¬&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$apollo-&amp;gt;listen([&amp;#x27;mysql&amp;#x27;, &amp;#x27;redis&amp;#x27;], function($namespace, $config) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    switch ($namespace) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        case &amp;#x27;mysql&amp;#x27;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            DB::reconnect($config);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            break;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        case &amp;#x27;redis&amp;#x27;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            Redis::setConfig($config);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            break;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Logger::info(&amp;quot;Config updated: $namespace&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡é€šä¿¡å®Œæ•´æ–¹æ¡ˆ&lt;/p&gt;
&lt;p&gt;åŒæ­¥è°ƒç”¨ï¼ˆHTTPï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class HttpServiceClient &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    use CircuitBreaker;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function call(string $service, string $endpoint, array $data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return $this-&amp;gt;protect(function() use ($service, $endpoint, $data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $baseUrl = ServiceDiscovery::getInstance($service);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $client = new GuzzleHttp\Client([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#x27;base_uri&amp;#x27; =&amp;gt; $baseUrl,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#x27;timeout&amp;#x27; =&amp;gt; 2.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            return $client-&amp;gt;post($endpoint, [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#x27;json&amp;#x27; =&amp;gt; $data,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#x27;headers&amp;#x27; =&amp;gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#x27;X-Trace-Id&amp;#x27; =&amp;gt; Trace::getId()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;, function() &amp;#123; // é™çº§å¤„ç†&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            return [&amp;#x27;status&amp;#x27; =&amp;gt; &amp;#x27;degraded&amp;#x27;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¼‚æ­¥é€šä¿¡ï¼ˆRabbitMQï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class EventPublisher &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private $channel;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function __construct() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $conn = new AMQPStreamConnection(&amp;#x27;rabbitmq&amp;#x27;, 5672, &amp;#x27;admin&amp;#x27;, &amp;#x27;secret&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;channel = $conn-&amp;gt;channel();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // å£°æ˜æ­»ä¿¡äº¤æ¢å™¨&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;channel-&amp;gt;exchange_declare(&amp;#x27;dlx&amp;#x27;, &amp;#x27;direct&amp;#x27;, false, true);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;channel-&amp;gt;queue_declare(&amp;#x27;dlq&amp;#x27;, false, true);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;channel-&amp;gt;queue_bind(&amp;#x27;dlq&amp;#x27;, &amp;#x27;dlx&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function publish(string $event, array $data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;channel-&amp;gt;tx_select();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $message = new AMQPMessage(json_encode($data), [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#x27;delivery_mode&amp;#x27; =&amp;gt; AMQPMessage::DELIVERY_MODE_PERSISTENT,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#x27;message_id&amp;#x27; =&amp;gt; Uuid::uuid4(),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#x27;timestamp&amp;#x27; =&amp;gt; time()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $this-&amp;gt;channel-&amp;gt;basic_publish($message, &amp;#x27;events&amp;#x27;, $event);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            DB::table(&amp;#x27;outbox&amp;#x27;)-&amp;gt;insert([&amp;#x27;message_id&amp;#x27; =&amp;gt; $message-&amp;gt;get(&amp;#x27;message_id&amp;#x27;)]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $this-&amp;gt;channel-&amp;gt;tx_commit();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125; catch (Exception $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $this-&amp;gt;channel-&amp;gt;tx_rollback();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            throw $e;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡é™çº§ç†”æ–­ç­–ç•¥&lt;/p&gt;
&lt;p&gt;å¤šçº§é™çº§é…ç½®&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class DegradeManager &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private static $levels = [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;order-service&amp;#x27; =&amp;gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;full&amp;#x27; =&amp;gt; [&amp;#x27;threshold&amp;#x27; =&amp;gt; 0.95, &amp;#x27;fallback&amp;#x27; =&amp;gt; &amp;#x27;cache&amp;#x27;],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;cache&amp;#x27; =&amp;gt; [&amp;#x27;threshold&amp;#x27; =&amp;gt; 0.8, &amp;#x27;fallback&amp;#x27; =&amp;gt; &amp;#x27;readonly&amp;#x27;],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;readonly&amp;#x27; =&amp;gt; [&amp;#x27;threshold&amp;#x27; =&amp;gt; 0.5, &amp;#x27;fallback&amp;#x27; =&amp;gt; &amp;#x27;static&amp;#x27;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public static function handle(string $service, callable $func) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $status = self::getServiceStatus($service);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            switch ($status) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                case &amp;#x27;full&amp;#x27;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    return $func();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                case &amp;#x27;cache&amp;#x27;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    return Cache::remember(&amp;quot;fallback:$service&amp;quot;, 60, $func);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                case &amp;#x27;readonly&amp;#x27;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    if ($_SERVER[&amp;#x27;REQUEST_METHOD&amp;#x27;] === &amp;#x27;GET&amp;#x27;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        return $func();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    throw new DegradeException(&amp;#x27;åªè¯»æ¨¡å¼&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                case &amp;#x27;static&amp;#x27;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    return [&amp;#x27;status&amp;#x27; =&amp;gt; &amp;#x27;degraded&amp;#x27;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125; catch (Exception $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            self::recordFailure($service);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            return self::handle($service, $func); // è‡ªåŠ¨é™çº§&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private static function getServiceStatus(string $service): string &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $failureRate = Prometheus::getFailureRate($service);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        foreach (self::$levels[$service] as $level =&amp;gt; $config) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            if ($failureRate &amp;lt;= $config[&amp;#x27;threshold&amp;#x27;]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                return $level;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return &amp;#x27;static&amp;#x27;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç›‘æ§ä¸å‘Šè­¦é…ç½®&lt;/p&gt;
&lt;p&gt;PrometheusæŒ‡æ ‡æ”¶é›†&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class Metrics &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private static $counter;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public static function init() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $registry = new CollectorRegistry(new InMemory());&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        self::$counter = $registry-&amp;gt;registerCounter(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;php&amp;#x27;, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;http_requests_total&amp;#x27;, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;Total HTTP requests&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            [&amp;#x27;method&amp;#x27;, &amp;#x27;endpoint&amp;#x27;, &amp;#x27;status&amp;#x27;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        );&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // æš´éœ²æŒ‡æ ‡ç«¯ç‚¹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $app-&amp;gt;get(&amp;#x27;/metrics&amp;#x27;, function() use ($registry) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $renderer = new RenderTextFormat();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            return $renderer-&amp;gt;render($registry-&amp;gt;getMetricFamilySamples());&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public static function countRequest($method, $path, $status) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        self::$counter-&amp;gt;inc([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $method, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            preg_replace(&amp;#x27;/\d+/&amp;#x27;, &amp;#x27;&amp;#123;id&amp;#125;&amp;#x27;, $path),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $status&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// åœ¨ä¸­é—´ä»¶ä¸­è°ƒç”¨&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$app-&amp;gt;addMiddleware(function($req, $handler) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $start = microtime(true);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $response = $handler-&amp;gt;handle($req);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $duration = microtime(true) - $start;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Metrics::countRequest(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $req-&amp;gt;getMethod(),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $req-&amp;gt;getUri()-&amp;gt;getPath(),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $response-&amp;gt;getStatusCode()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    );&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    return $response;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å»ºè®®&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;éƒ¨ç½²3èŠ‚ç‚¹Consulé›†ç¾¤&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯ç”¨ACLå’ŒTLSåŠ å¯†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®¾ç½®è‡ªåŠ¨å¤‡ä»½ç­–ç•¥&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;APIç½‘å…³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Kongé›†ç¾¤ + Nginxè´Ÿè½½å‡è¡¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯ç”¨JWTæ’ä»¶å’Œé€Ÿç‡é™åˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é…ç½®WAFè§„åˆ™é˜²æ­¢æ”»å‡»&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é…ç½®ä¸­å¿ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Apolloå¤šç¯å¢ƒéš”ç¦»ï¼ˆDEV/TEST/PRODï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•æ„Ÿé…ç½®åŠ å¯†å­˜å‚¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®¾ç½®é…ç½®å˜æ›´å®¡æ‰¹æµç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¶ˆæ¯é˜Ÿåˆ—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;RabbitMQé•œåƒé˜Ÿåˆ—&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®¾ç½®åˆç†çš„TTLå’Œæ­»ä¿¡ç­–ç•¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç›‘æ§é˜Ÿåˆ—ç§¯å‹æƒ…å†µ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç›‘æ§ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Prometheusè”é‚¦é›†ç¾¤&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grafanaç»Ÿä¸€çœ‹æ¿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…³é”®æŒ‡æ ‡å‘Šè­¦ï¼ˆP99å»¶è¿Ÿ&amp;gt;500msï¼Œé”™è¯¯ç‡&amp;gt;1%ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å®Œæ•´æ¶æ„è°ƒç”¨æµç¨‹ç¤ºä¾‹&#34;&gt;&lt;a href=&#34;#å®Œæ•´æ¶æ„è°ƒç”¨æµç¨‹ç¤ºä¾‹&#34; class=&#34;headerlink&#34; title=&#34;å®Œæ•´æ¶æ„è°ƒç”¨æµç¨‹ç¤ºä¾‹&#34;&gt;&lt;/a&gt;å®Œæ•´æ¶æ„è°ƒç”¨æµç¨‹ç¤ºä¾‹&lt;/h5&gt;&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯è¯·æ±‚ â†’ Kongç½‘å…³ï¼ˆè®¤è¯+é™æµï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç½‘å…³æŸ¥è¯¢Consulè·å–è®¢å•æœåŠ¡å®ä¾‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®¢å•æœåŠ¡å¤„ç†æ—¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä»Apolloè·å–å½“å‰é…ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€šè¿‡HTTPè°ƒç”¨æ”¯ä»˜æœåŠ¡ï¼ˆå¸¦ç†”æ–­ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å‘é€æ¶ˆæ¯åˆ°RabbitMQ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ”¯ä»˜æœåŠ¡æ¶ˆè´¹æ¶ˆæ¯åï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ›´æ–°æ•°æ®åº“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®°å½•PrometheusæŒ‡æ ‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¨é€ç»“æœåˆ°é€šçŸ¥æœåŠ¡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…¨é“¾è·¯è¿½è¸ªæ•°æ®ä¸ŠæŠ¥Jaeger&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="phpæ¶æ„" />
        <category term="phpé¡¹ç›®" />
        <category term="phpæ¶æ„è®¾è®¡" />
        <updated>2025-07-08T17:37:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/07/06/php-architecture02/</id>
        <title>php æ¶æ„æ–¹é¢çš„è®¾è®¡ä¸æ€è€ƒï¼ˆäºŒï¼‰</title>
        <link rel="alternate" href="https://erik.xyz/2025/07/06/php-architecture02/"/>
        <content type="html">&lt;p&gt;åŸºäºä¹‹å‰çš„æ¶æ„è®¾è®¡ï¼Œè¿›ä¸€æ­¥æä¾›å®Œæ•´çš„å¯è½åœ°æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€ã€æœåŠ¡æ³¨å†Œä¸­å¿ƒå¢å¼ºå®ç°ï¼ˆConsul-PHPï¼‰&#34;&gt;&lt;a href=&#34;#ä¸€ã€æœåŠ¡æ³¨å†Œä¸­å¿ƒå¢å¼ºå®ç°ï¼ˆConsul-PHPï¼‰&#34; class=&#34;headerlink&#34; title=&#34;ä¸€ã€æœåŠ¡æ³¨å†Œä¸­å¿ƒå¢å¼ºå®ç°ï¼ˆConsul + PHPï¼‰&#34;&gt;&lt;/a&gt;ä¸€ã€æœåŠ¡æ³¨å†Œä¸­å¿ƒå¢å¼ºå®ç°ï¼ˆConsul + PHPï¼‰&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;å¥åº·æ£€æŸ¥ä¸è‡ªåŠ¨æ³¨é”€&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// æœåŠ¡æ³¨å†Œæ—¶å¢åŠ å¥åº·æ£€æŸ¥ç«¯ç‚¹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$consul-&amp;gt;get(AgentInterface::class)-&amp;gt;registerService([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;ID&amp;#x27; =&amp;gt; &amp;#x27;payment-service-&amp;#x27;.uniqid(),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Name&amp;#x27; =&amp;gt; &amp;#x27;payment-service&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Tags&amp;#x27; =&amp;gt; [&amp;#x27;primary&amp;#x27;, &amp;#x27;v2&amp;#x27;],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Address&amp;#x27; =&amp;gt; get_current_ip(),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Port&amp;#x27; =&amp;gt; 8000,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Check&amp;#x27; =&amp;gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;HTTP&amp;#x27; =&amp;gt; &amp;#x27;http://&amp;#x27;.get_current_ip().&amp;#x27;:8000/health&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;Interval&amp;#x27; =&amp;gt; &amp;#x27;5s&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;Timeout&amp;#x27; =&amp;gt; &amp;#x27;2s&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;DeregisterCriticalServiceAfter&amp;#x27; =&amp;gt; &amp;#x27;30s&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// PHPå¥åº·æ£€æŸ¥ç«¯ç‚¹å®ç°&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$app-&amp;gt;get(&amp;#x27;/health&amp;#x27;, function() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    return json_encode([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;status&amp;#x27; =&amp;gt; &amp;#x27;UP&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;db_connected&amp;#x27; =&amp;gt; DB::connection()-&amp;gt;getPdo() ? true : false,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;redis_connected&amp;#x27; =&amp;gt; Redis::ping() ? true : false,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;load&amp;#x27; =&amp;gt; sys_getloadavg()[0]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å‘ç°è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class ServiceLocator &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private static $services = [];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public static function getInstance($serviceName) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        if (!isset(self::$services[$serviceName]) || count(self::$services[$serviceName]) == 0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $instances = $consul-&amp;gt;getCatalog()-&amp;gt;service($serviceName)-&amp;gt;json();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            self::$services[$serviceName] = array_map(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                fn($s) =&amp;gt; new Instance($s[&amp;#x27;ServiceAddress&amp;#x27;], $s[&amp;#x27;ServicePort&amp;#x27;]),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                $instances&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            );&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // ä½¿ç”¨åŠ æƒéšæœºç®—æ³•é€‰æ‹©å®ä¾‹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $totalWeight = array_sum(array_map(fn($i) =&amp;gt; $i-&amp;gt;weight, self::$services[$serviceName]));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $rand = mt_rand(1, $totalWeight);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        foreach (self::$services[$serviceName] as $instance) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $rand -= $instance-&amp;gt;weight;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            if ($rand &amp;lt;= 0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                return $instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    // å®šæ—¶åˆ·æ–°æœåŠ¡åˆ—è¡¨&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public static function refresh() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        swoole_timer_tick(30000, function() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            foreach (array_keys(self::$services) as $name) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                $instances = $consul-&amp;gt;getCatalog()-&amp;gt;service($name)-&amp;gt;json();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                self::$services[$name] = $instances;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;äºŒã€API-ç½‘å…³æ·±åº¦é›†æˆï¼ˆKong-OpenRestyï¼‰&#34;&gt;&lt;a href=&#34;#äºŒã€API-ç½‘å…³æ·±åº¦é›†æˆï¼ˆKong-OpenRestyï¼‰&#34; class=&#34;headerlink&#34; title=&#34;äºŒã€API ç½‘å…³æ·±åº¦é›†æˆï¼ˆKong + OpenRestyï¼‰&#34;&gt;&lt;/a&gt;äºŒã€API ç½‘å…³æ·±åº¦é›†æˆï¼ˆKong + OpenRestyï¼‰&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;åŠ¨æ€è·¯ç”±é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;#lua&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-- kong/plugins/dynamic-router/handler.lua&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local DynamicRouterHandler = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    PRIORITY = 1000,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    VERSION = &amp;quot;1.0&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;function DynamicRouterHandler:access(conf)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -- ä»Consulè·å–æœ€æ–°æœåŠ¡å®ä¾‹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    local res, err = kong.request.make(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        method = &amp;quot;GET&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        url = &amp;quot;http://consul:8500/v1/catalog/service/&amp;quot; .. kong.request.get_header(&amp;quot;X-Service-Name&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    if not res then&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        kong.log.err(&amp;quot;Consul request failed: &amp;quot;, err)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return kong.response.exit(503)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    end&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    local instances = cjson.decode(res.body)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    if #instances == 0 then&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return kong.response.exit(404, &amp;#123; message = &amp;quot;Service unavailable&amp;quot; &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    end&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -- æ›´æ–°ä¸Šæ¸¸ç›®æ ‡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    local ok, err = kong.admin_api.post(&amp;quot;/upstreams/service-&amp;quot;..conf.service_name..&amp;quot;/targets&amp;quot;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        target = instances[1].ServiceAddress..&amp;quot;:&amp;quot;..instances[1].ServicePort,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        weight = 100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;end&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;return DynamicRouterHandler&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;PHP æ’ä»¶å¼€å‘ç¤ºä¾‹ï¼ˆJWT éªŒè¯ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// kong/plugins/jwt-validator/validate.php&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;?php&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$token = $_SERVER[&amp;#x27;HTTP_AUTHORIZATION&amp;#x27;] ?? &amp;#x27;&amp;#x27;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;if (!preg_match(&amp;#x27;/Bearer\s+(.*)$/i&amp;#x27;, $token, $matches)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    header(&amp;#x27;HTTP/1.1 401 Unauthorized&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    exit;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$jwt = $matches[1];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$userInfo = AuthService::validateJWT($jwt);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;if (!$userInfo) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    header(&amp;#x27;HTTP/1.1 403 Forbidden&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    exit;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å°†ç”¨æˆ·ä¿¡æ¯ä¼ é€’ç»™ä¸Šæ¸¸æœåŠ¡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;header(&amp;#x27;X-User-Id: &amp;#x27; . $userInfo[&amp;#x27;id&amp;#x27;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;header(&amp;#x27;X-User-Roles: &amp;#x27; . implode(&amp;#x27;,&amp;#x27;, $userInfo[&amp;#x27;roles&amp;#x27;]));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;ä¸‰ã€é…ç½®ä¸­å¿ƒå®Œæ•´æ–¹æ¡ˆï¼ˆApollo-PHPï¼‰&#34;&gt;&lt;a href=&#34;#ä¸‰ã€é…ç½®ä¸­å¿ƒå®Œæ•´æ–¹æ¡ˆï¼ˆApollo-PHPï¼‰&#34; class=&#34;headerlink&#34; title=&#34;ä¸‰ã€é…ç½®ä¸­å¿ƒå®Œæ•´æ–¹æ¡ˆï¼ˆApollo + PHPï¼‰&#34;&gt;&lt;/a&gt;ä¸‰ã€é…ç½®ä¸­å¿ƒå®Œæ•´æ–¹æ¡ˆï¼ˆApollo + PHPï¼‰&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;é…ç½®ç›‘å¬é•¿è½®è¯¢&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class ApolloWatcher &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private $client;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private $callbacks = [];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function __construct() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;client = new \ApolloClient\Client([...]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;startWatch();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function watch($namespace, callable $callback) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;callbacks[$namespace][] = $callback;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private function startWatch() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        swoole_timer_tick(1000, function() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            foreach ($this-&amp;gt;callbacks as $namespace =&amp;gt; $cbs) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                $notifications = $this-&amp;gt;client-&amp;gt;getNotifications([$namespace]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                if ($notifications[$namespace] &amp;gt; $this-&amp;gt;versions[$namespace] ?? 0) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    $config = $this-&amp;gt;client-&amp;gt;getConfig($namespace);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    foreach ($cbs as $cb) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        $cb($config);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    $this-&amp;gt;versions[$namespace] = $notifications[$namespace];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// ä½¿ç”¨ç¤ºä¾‹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$watcher = new ApolloWatcher();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$watcher-&amp;gt;watch(&amp;#x27;application&amp;#x27;, function($config) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Redis::set(&amp;#x27;app_config&amp;#x27;, json_encode($config));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®åŠ å¯†å­˜å‚¨&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class SecureConfig &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    private $key;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function __construct() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $this-&amp;gt;key = file_get_contents(&amp;#x27;/etc/apollo/key.pem&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function get($key) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $encrypted = Apollo::get($key);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return openssl_decrypt(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            base64_decode($encrypted),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#x27;aes-256-cbc&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $this-&amp;gt;key,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            0,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            substr($this-&amp;gt;key, 0, 16)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        );&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;å››ã€æœåŠ¡æ€»çº¿å¯é æ¶ˆæ¯æ–¹æ¡ˆï¼ˆRabbitMQï¼‰&#34;&gt;&lt;a href=&#34;#å››ã€æœåŠ¡æ€»çº¿å¯é æ¶ˆæ¯æ–¹æ¡ˆï¼ˆRabbitMQï¼‰&#34; class=&#34;headerlink&#34; title=&#34;å››ã€æœåŠ¡æ€»çº¿å¯é æ¶ˆæ¯æ–¹æ¡ˆï¼ˆRabbitMQï¼‰&#34;&gt;&lt;/a&gt;å››ã€æœåŠ¡æ€»çº¿å¯é æ¶ˆæ¯æ–¹æ¡ˆï¼ˆRabbitMQï¼‰&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;æ¶ˆæ¯äº‹åŠ¡ä¸ç¡®è®¤&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// ç”Ÿäº§è€…ç«¯&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;tx_select();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $msg = new AMQPMessage($data, [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;delivery_mode&amp;#x27; =&amp;gt; AMQPMessage::DELIVERY_MODE_PERSISTENT,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;message_id&amp;#x27; =&amp;gt; uniqid()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $channel-&amp;gt;basic_publish($msg, &amp;#x27;orders&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    DB::table(&amp;#x27;outbox&amp;#x27;)-&amp;gt;insert([&amp;#x27;message_id&amp;#x27; =&amp;gt; $msg-&amp;gt;get(&amp;#x27;message_id&amp;#x27;)]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $channel-&amp;gt;tx_commit();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; catch (Exception $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $channel-&amp;gt;tx_rollback();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Metrics::counter(&amp;#x27;publish_failed&amp;#x27;)-&amp;gt;inc();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æ¶ˆè´¹è€…ç«¯&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;basic_consume(&amp;#x27;orders&amp;#x27;, &amp;#x27;&amp;#x27;, false, false, false, false,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    function($msg) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        try &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            processOrder($msg-&amp;gt;body);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $msg-&amp;gt;ack();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            // å¹‚ç­‰å¤„ç†&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            if (!DB::table(&amp;#x27;processed_messages&amp;#x27;)-&amp;gt;where(&amp;#x27;msg_id&amp;#x27;, $msg-&amp;gt;get(&amp;#x27;message_id&amp;#x27;))-&amp;gt;exists()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                DB::table(&amp;#x27;processed_messages&amp;#x27;)-&amp;gt;insert([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#x27;msg_id&amp;#x27; =&amp;gt; $msg-&amp;gt;get(&amp;#x27;message_id&amp;#x27;),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#x27;processed_at&amp;#x27; =&amp;gt; now()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                ]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125; catch (Exception $e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $msg-&amp;gt;nack(true); // é‡æ–°å…¥é˜Ÿ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;æ­»ä¿¡é˜Ÿåˆ—é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// å£°æ˜æ­»ä¿¡äº¤æ¢å™¨&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;exchange_declare(&amp;#x27;dlx&amp;#x27;, &amp;#x27;direct&amp;#x27;, false, true, false);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;queue_declare(&amp;#x27;dlq&amp;#x27;, false, true, false, false);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;queue_bind(&amp;#x27;dlq&amp;#x27;, &amp;#x27;dlx&amp;#x27;, &amp;#x27;dead&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// ä¸»é˜Ÿåˆ—é…ç½®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;queue_declare(&amp;#x27;orders&amp;#x27;, false, true, false, false, false, [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;x-dead-letter-exchange&amp;#x27; =&amp;gt; &amp;#x27;dlx&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;x-dead-letter-routing-key&amp;#x27; =&amp;gt; &amp;#x27;dead&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;x-message-ttl&amp;#x27; =&amp;gt; 600000 // 10åˆ†é’Ÿåè¿›å…¥DLQ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;äº”ã€æœåŠ¡é™çº§å®Œæ•´ç­–ç•¥&#34;&gt;&lt;a href=&#34;#äº”ã€æœåŠ¡é™çº§å®Œæ•´ç­–ç•¥&#34; class=&#34;headerlink&#34; title=&#34;äº”ã€æœåŠ¡é™çº§å®Œæ•´ç­–ç•¥&#34;&gt;&lt;/a&gt;äº”ã€æœåŠ¡é™çº§å®Œæ•´ç­–ç•¥&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å¤šçº§é™çº§æ–¹æ¡ˆ&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;class OrderService &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    const DEGRADE_LEVELS = [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;full&amp;#x27; =&amp;gt; 0,    // æ­£å¸¸æœåŠ¡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;readonly&amp;#x27; =&amp;gt; 1, // åªè¯»æ¨¡å¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;cache&amp;#x27; =&amp;gt; 2,    // è¿”å›ç¼“å­˜æ•°æ®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;static&amp;#x27; =&amp;gt; 3    // è¿”å›é™æ€é¡µé¢&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    public function getOrder($id) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $level = CircuitBreaker::getStatus(&amp;#x27;order-service&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        switch ($level) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            case self::DEGRADE_LEVELS[&amp;#x27;full&amp;#x27;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                return DB::table(&amp;#x27;orders&amp;#x27;)-&amp;gt;find($id);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            case self::DEGRADE_LEVELS[&amp;#x27;readonly&amp;#x27;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                if (request()-&amp;gt;isMethod(&amp;#x27;GET&amp;#x27;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    return DB::table(&amp;#x27;orders&amp;#x27;)-&amp;gt;find($id);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                throw new DegradeException(&amp;#x27;åªè¯»æ¨¡å¼&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            case self::DEGRADE_LEVELS[&amp;#x27;cache&amp;#x27;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                return Cache::remember(&amp;quot;order:$id&amp;quot;, 60, function() use ($id) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    return DB::table(&amp;#x27;orders&amp;#x27;)-&amp;gt;find($id) ?? [];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            case self::DEGRADE_LEVELS[&amp;#x27;static&amp;#x27;]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                return [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#x27;id&amp;#x27; =&amp;gt; $id,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#x27;status&amp;#x27; =&amp;gt; &amp;#x27;degraded&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                    &amp;#x27;message&amp;#x27; =&amp;gt; &amp;#x27;ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åæŸ¥çœ‹è®¢å•çŠ¶æ€&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                ];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è‡ªåŠ¨é™çº§è§„åˆ™é…ç½®&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# degradation-rules.yaml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;services:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  order-service:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    failure_threshold: 50%  # å¤±è´¥ç‡é˜ˆå€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    slow_call_threshold: 2000ms  # æ…¢è°ƒç”¨é˜ˆå€¼&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    minimum_calls: 20  # æœ€å°è°ƒç”¨é‡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    sliding_window: 60s  # ç»Ÿè®¡çª—å£&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    wait_duration: 300s  # åŠå¼€çŠ¶æ€ç­‰å¾…æ—¶é—´&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fallbacks:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - condition: &amp;quot;error instanceof TimeoutException&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        action: &amp;quot;return cachedData()&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - condition: &amp;quot;error instanceof DBException&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        action: &amp;quot;switchToReadonlyMode()&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å…­ã€éƒ¨ç½²æ¶æ„ä¼˜åŒ–æ–¹æ¡ˆ&#34;&gt;&lt;a href=&#34;#å…­ã€éƒ¨ç½²æ¶æ„ä¼˜åŒ–æ–¹æ¡ˆ&#34; class=&#34;headerlink&#34; title=&#34;å…­ã€éƒ¨ç½²æ¶æ„ä¼˜åŒ–æ–¹æ¡ˆ&#34;&gt;&lt;/a&gt;å…­ã€éƒ¨ç½²æ¶æ„ä¼˜åŒ–æ–¹æ¡ˆ&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Kubernetes éƒ¨ç½²æ¨¡æ¿&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# deployment.yaml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apiVersion: apps/v1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;kind: Deployment&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;metadata:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  name: order-service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;spec:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  replicas: 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  strategy:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    rollingUpdate:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      maxSurge: 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      maxUnavailable: 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  template:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    spec:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      containers:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - name: php&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        image: my-registry/order-service:v1.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        ports:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        - containerPort: 8000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        livenessProbe:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          httpGet:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            path: /health&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            port: 8000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          initialDelaySeconds: 30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          periodSeconds: 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        readinessProbe:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          httpGet:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            path: /ready&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            port: 8000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          initialDelaySeconds: 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          periodSeconds: 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        envFrom:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        - configMapRef:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            name: apollo-config&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;---&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# service.yaml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apiVersion: v1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;kind: Service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;metadata:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  name: order-service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  annotations:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    consul.hashicorp.com/service-name: order-service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;spec:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ports:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  - port: 8000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    targetPort: 8000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  selector:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    app: order-service&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç›‘æ§å‘Šè­¦é…ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# prometheus-rules.yml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;groups:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- name: php-services&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  rules:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  - alert: HighErrorRate&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    expr: sum(rate(http_requests_total&amp;#123;status=~&amp;quot;5..&amp;quot;&amp;#125;[1m])) by (service) / sum(rate(http_requests_total[1m])) by (service) &amp;gt; 0.05&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for: 5m&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    labels:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      severity: critical&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    annotations:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      summary: &amp;quot;High error rate on &amp;#123;&amp;#123; $labels.service &amp;#125;&amp;#125;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      description: &amp;quot;Error rate is &amp;#123;&amp;#123; $value &amp;#125;&amp;#125;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  - alert: ServiceDown&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    expr: up&amp;#123;job=&amp;quot;php-services&amp;quot;&amp;#125; == 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    for: 1m&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    labels:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      severity: critical&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    annotations:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      summary: &amp;quot;&amp;#123;&amp;#123; $labels.instance &amp;#125;&amp;#125; is down&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸ƒã€å¼€å‘ç¯å¢ƒå·¥å…·é“¾&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ¬åœ°è°ƒè¯•æ–¹æ¡ˆï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# ä½¿ç”¨docker-composeå¯åŠ¨ä¾èµ–æœåŠ¡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f dev-env.yml up consul rabbitmq apollo&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# ä½¿ç”¨Xdebugè¿œç¨‹è°ƒè¯•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PHP_IDE_CONFIG=&amp;quot;serverName=my-service&amp;quot; php -dxdebug.mode=debug \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-dxdebug.client_host=host.docker.internal \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-dxdebug.client_port=9003 \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-dxdebug.start_with_request=yes \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;artisan serve&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;API æ–‡æ¡£ç”Ÿæˆï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; * @OA\Post(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     path=&amp;quot;/orders&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     tags=&amp;#123;&amp;quot;Orders&amp;quot;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     @OA\RequestBody(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *         @OA\JsonContent(ref=&amp;quot;#/components/schemas/OrderRequest&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     ),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     @OA\Response(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *         response=201,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *         description=&amp;quot;Order created&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *         @OA\JsonContent(ref=&amp;quot;#/components/schemas/Order&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     ),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     @OA\Response(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *         response=503,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *         description=&amp;quot;Service degraded&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *         @OA\JsonContent(ref=&amp;quot;#/components/schemas/Error&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; *     )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; * )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;public function createOrder(Request $request) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    // ...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;æ€§èƒ½æµ‹è¯•å·¥å…·ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# ä½¿ç”¨wrkè¿›è¡Œå‹åŠ›æµ‹è¯•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;wrk -t4 -c100 -d60s --latency http://localhost:8000/api/orders&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# ç”Ÿæˆç«ç„°å›¾&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;php -dxdebug.profiler_enable=1 -dxdebug.profiler_output_dir=/tmp \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-dxdebug.profiler_output_name=cachegrind.out.%p artisan serve&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å…³é”®ä¼˜åŒ–ç‚¹æ€»ç»“&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å‘ç°ï¼šé‡‡ç”¨ Consul é›†ç¾¤+å¥åº·æ£€æŸ¥+å®¢æˆ·ç«¯ç¼“å­˜ï¼Œå®ç°ç§’çº§æœåŠ¡çŠ¶æ€æ›´æ–°&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ¶ˆæ¯å¯é ï¼šé€šè¿‡äº‹åŠ¡æ¶ˆæ¯+æ­»ä¿¡é˜Ÿåˆ—+å¹‚ç­‰å¤„ç†ä¿éšœæ¶ˆæ¯ä¸ä¸¢å¤±&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é…ç½®ç®¡ç†ï¼šApollo é•¿è½®è¯¢+åŠ å¯†å­˜å‚¨+ç‰ˆæœ¬å›æº¯å®ç°å®‰å…¨é…ç½®ä¸­å¿ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é™çº§ç­–ç•¥ï¼šå¤šçº§é™çº§ï¼ˆå…¨åŠŸèƒ½ â†’ åªè¯» â†’ ç¼“å­˜ â†’ é™æ€ï¼‰ä¿éšœæ ¸å¿ƒé“¾è·¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯è§‚æµ‹æ€§ï¼šPrometheus æŒ‡æ ‡+Jaeger è¿½è¸ª+ELK æ—¥å¿—ä¸‰ä½ä¸€ä½“ç›‘æ§&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="phpæ¶æ„" />
        <category term="phpé¡¹ç›®" />
        <category term="phpæ¶æ„è®¾è®¡" />
        <updated>2025-07-06T15:45:22.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/07/05/php-architecture01/</id>
        <title>phpæ¶æ„æ–¹é¢çš„è®¾è®¡ä¸æ€è€ƒï¼ˆä¸€ï¼‰</title>
        <link rel="alternate" href="https://erik.xyz/2025/07/05/php-architecture01/"/>
        <content type="html">&lt;p&gt;PHPçš„å¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼Œæ¶µç›–æœåŠ¡æ³¨å†Œä¸­å¿ƒã€æœåŠ¡è°ƒåº¦ã€æœåŠ¡é™çº§ã€æœåŠ¡ç½‘å…³ã€æœåŠ¡é…ç½®ã€æœåŠ¡æ€»çº¿ç­‰æ ¸å¿ƒæ¨¡å—çš„å®Œæ•´æ¢³ç†å’Œå®ç°æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;pre class=&#34;mermaid&#34;&gt;graph TD
    A[æœåŠ¡ç½‘å…³] --&gt; B[æœåŠ¡æ³¨å†Œä¸­å¿ƒ]
    A --&gt; C[æœåŠ¡é…ç½®ä¸­å¿ƒ]
    D[æœåŠ¡æä¾›è€…] --&gt; B
    E[æœåŠ¡æ¶ˆè´¹è€…] --&gt; B
    F[æœåŠ¡æ€»çº¿] --&gt; D
    F --&gt; E
    G[æœåŠ¡è°ƒåº¦å™¨] --&gt; F
    H[é™çº§ç®¡ç†å™¨] --&gt; C&lt;/pre&gt;

&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h4 id=&#34;ä¸€ã€æ¶æ„æ ¸å¿ƒæ¨¡å—ä¸å®ç°æŠ€æœ¯é€‰å‹&#34;&gt;&lt;a href=&#34;#ä¸€ã€æ¶æ„æ ¸å¿ƒæ¨¡å—ä¸å®ç°æŠ€æœ¯é€‰å‹&#34; class=&#34;headerlink&#34; title=&#34;ä¸€ã€æ¶æ„æ ¸å¿ƒæ¨¡å—ä¸å®ç°æŠ€æœ¯é€‰å‹&#34;&gt;&lt;/a&gt;ä¸€ã€æ¶æ„æ ¸å¿ƒæ¨¡å—ä¸å®ç°æŠ€æœ¯é€‰å‹&lt;/h4&gt;&lt;div class=&#34;table-container&#34;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ¨¡å—&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ¨èæŠ€æœ¯&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;PHPå¯¹æ¥æ–¹å¼&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç‰¹ç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœåŠ¡æ³¨å†Œä¸­å¿ƒ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Consulã€Nacos&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;HTTP API/PHPå®¢æˆ·ç«¯åº“&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ”¯æŒå¥åº·æ£€æŸ¥ã€æœåŠ¡å‘ç°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœåŠ¡ç½‘å…³&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Kongã€APISIX&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Nginxä»£ç†/PHPæ’ä»¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŠ¨æ€è·¯ç”±ã€é™æµã€è®¤è¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœåŠ¡é…ç½®ä¸­å¿ƒ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Apolloã€Nacos&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;HTTPé•¿è½®è¯¢/PHP SDK&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é…ç½®çƒ­æ›´æ–°ã€ç‰ˆæœ¬ç®¡ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœåŠ¡æ€»çº¿&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RabbitMQã€Kafka&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PHPæ‰©å±•(php-amqplib/rdkafka)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼‚æ­¥è§£è€¦ã€å¯é æ¶ˆæ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœåŠ¡è°ƒåº¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Workerman/Swoole&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŸç”ŸPHPæ”¯æŒ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åç¨‹è°ƒåº¦ã€é«˜æ€§èƒ½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœåŠ¡é™çº§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ResiliencePHP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Composeråº“&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç†”æ–­ã€é™æµã€é™çº§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ†å¸ƒå¼è¿½è¸ª&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Jaegerã€Zipkin&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OpenTracing-PHP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…¨é“¾è·¯ç›‘æ§&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;h4 id=&#34;äºŒã€å„æ¨¡å—å…·ä½“å®ç°æ–¹æ¡ˆ&#34;&gt;&lt;a href=&#34;#äºŒã€å„æ¨¡å—å…·ä½“å®ç°æ–¹æ¡ˆ&#34; class=&#34;headerlink&#34; title=&#34;äºŒã€å„æ¨¡å—å…·ä½“å®ç°æ–¹æ¡ˆ&#34;&gt;&lt;/a&gt;äºŒã€å„æ¨¡å—å…·ä½“å®ç°æ–¹æ¡ˆ&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ˆConsul + PHPï¼‰&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// å®‰è£…Consul PHPå®¢æˆ·ç«¯ï¼šcomposer require sensiolabs/consul-php-sdk&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;use SensioLabs\Consul\ServiceFactory;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;use SensioLabs\Consul\Services\AgentInterface;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$consul = new ServiceFactory([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;base_uri&amp;#x27; =&amp;gt; &amp;#x27;http://consul-server:8500&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æœåŠ¡æ³¨å†Œ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$consul-&amp;gt;get(AgentInterface::class)-&amp;gt;registerService([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;ID&amp;#x27; =&amp;gt; &amp;#x27;order-service-001&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Name&amp;#x27; =&amp;gt; &amp;#x27;order-service&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Address&amp;#x27; =&amp;gt; &amp;#x27;192.168.1.101&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Port&amp;#x27; =&amp;gt; 8000,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;Check&amp;#x27; =&amp;gt; [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;HTTP&amp;#x27; =&amp;gt; &amp;#x27;http://192.168.1.101:8000/health&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#x27;Interval&amp;#x27; =&amp;gt; &amp;#x27;10s&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æœåŠ¡å‘ç°&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$services = $consul-&amp;gt;getCatalog()-&amp;gt;service(&amp;#x27;order-service&amp;#x27;)-&amp;gt;json();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$instances = array_map(fn($s) =&amp;gt; &amp;quot;&amp;#123;$s[&amp;#x27;ServiceAddress&amp;#x27;]&amp;#125;:&amp;#123;$s[&amp;#x27;ServicePort&amp;#x27;]&amp;#125;&amp;quot;, $services);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;APIç½‘å…³ï¼ˆKong + PHPï¼‰&lt;/p&gt;
 &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# Kongé…ç½®ç¤ºä¾‹&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  location /api/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    access_by_lua_block &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      -- PHPè®¤è¯æ’ä»¶&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      local res = ngx.location.capture(&amp;quot;/auth.php?token=&amp;quot;..ngx.var.arg_token)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      if res.status ~= 200 then&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        ngx.exit(401)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      end&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    proxy_pass http://php-upstream;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    proxy_set_header X-Service-Name $route_name;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;é…ç½®ä¸­å¿ƒï¼ˆApollo + PHPï¼‰ &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// ä½¿ç”¨apollo-client-php&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$client = new \ApolloClient\Client([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;config_server&amp;#x27; =&amp;gt; &amp;#x27;http://apollo-config:8080&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;app_id&amp;#x27; =&amp;gt; &amp;#x27;user-service&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;cluster&amp;#x27; =&amp;gt; &amp;#x27;default&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// è·å–é…ç½®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$mysqlConfig = $client-&amp;gt;get(&amp;#x27;mysql.connection&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// ç›‘å¬é…ç½®å˜æ›´&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$client-&amp;gt;listen(function($key, $value) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    if ($key === &amp;#x27;feature_toggle&amp;#x27;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        FeatureToggle::update($value);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;æœåŠ¡æ€»çº¿ï¼ˆRabbitMQ + PHPï¼‰ &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// ç”Ÿäº§è€…&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$connection = new AMQPStreamConnection(&amp;#x27;rabbitmq&amp;#x27;, 5672, &amp;#x27;guest&amp;#x27;, &amp;#x27;guest&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel = $connection-&amp;gt;channel();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;queue_declare(&amp;#x27;order_events&amp;#x27;, false, true, false, false);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$msg = new AMQPMessage(json_encode([&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;event&amp;#x27; =&amp;gt; &amp;#x27;ORDER_CREATED&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;data&amp;#x27; =&amp;gt; [&amp;#x27;id&amp;#x27; =&amp;gt; 123]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]), [&amp;#x27;delivery_mode&amp;#x27; =&amp;gt; 2]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;basic_publish($msg, &amp;#x27;&amp;#x27;, &amp;#x27;order_events&amp;#x27;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æ¶ˆè´¹è€…&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$channel-&amp;gt;basic_consume(&amp;#x27;order_events&amp;#x27;, &amp;#x27;&amp;#x27;, false, false, false, false, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    function($msg) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $event = json_decode($msg-&amp;gt;body, true);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        EventDispatcher::dispatch($event);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $msg-&amp;gt;ack();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;æœåŠ¡é™çº§ï¼ˆResiliencePHPï¼‰ &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;use Resilience\Retry;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;use Resilience\CircuitBreaker;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// ç†”æ–­å™¨é…ç½®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$circuitBreaker = CircuitBreaker::builder()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt;withFailureRateThreshold(50)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt;withWaitDuration(10000)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt;build();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å¸¦ç†”æ–­çš„é‡è¯•æœºåˆ¶&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$result = Retry::with(Retry::maxAttempts(3))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt;decorate($circuitBreaker)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt;run(function() use ($service) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return $service-&amp;gt;callApi();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;, function($e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        // é™çº§å¤„ç†&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return [&amp;#x27;status&amp;#x27; =&amp;gt; &amp;#x27;degraded&amp;#x27;, &amp;#x27;data&amp;#x27; =&amp;gt; cached_data()];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼è°ƒåº¦ï¼ˆSwooleåç¨‹ï¼‰ &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;use Swoole\Coroutine;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å¹¶å‘è°ƒç”¨å¤šä¸ªæœåŠ¡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Coroutine\run(function() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $results = [];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $wg = new Coroutine\WaitGroup();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $services = [&amp;#x27;inventory&amp;#x27;, &amp;#x27;payment&amp;#x27;, &amp;#x27;notification&amp;#x27;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    foreach ($services as $service) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        $wg-&amp;gt;add();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        go(function() use ($service, &amp;amp;$results, $wg) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $results[$service] = callService($service);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            $wg-&amp;gt;done();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    $wg-&amp;gt;wait();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    // å¤„ç†èšåˆç»“æœ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    processResults($results);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸‰ã€å®Œæ•´æ¶æ„éƒ¨ç½²æ–¹æ¡ˆ&#34;&gt;&lt;a href=&#34;#ä¸‰ã€å®Œæ•´æ¶æ„éƒ¨ç½²æ–¹æ¡ˆ&#34; class=&#34;headerlink&#34; title=&#34;ä¸‰ã€å®Œæ•´æ¶æ„éƒ¨ç½²æ–¹æ¡ˆ&#34;&gt;&lt;/a&gt;ä¸‰ã€å®Œæ•´æ¶æ„éƒ¨ç½²æ–¹æ¡ˆ&lt;/h4&gt;&lt;pre class=&#34;mermaid&#34;&gt;graph LR
    A[å®¢æˆ·ç«¯] --&gt; B[Kongç½‘å…³]
    B --&gt; C[è®¤è¯æœåŠ¡]
    B --&gt; D[ç”¨æˆ·æœåŠ¡]
    B --&gt; E[è®¢å•æœåŠ¡]
    B --&gt; F[æ”¯ä»˜æœåŠ¡]

    subgraph å¾®æœåŠ¡é›†ç¾¤
        C --&gt;|æ³¨å†Œ| H[Consul]
        D --&gt;|æ³¨å†Œ| H
        E --&gt;|æ³¨å†Œ| H
        F --&gt;|æ³¨å†Œ| H

        C --&gt;|é…ç½®| I[Apollo]
        D --&gt;|é…ç½®| I
        E --&gt;|é…ç½®| I
        F --&gt;|é…ç½®| I

        E --&gt;|æ¶ˆæ¯| J[RabbitMQ]
        J --&gt; F
        J --&gt; K[é€šçŸ¥æœåŠ¡]
    end

    H --&gt; L[Prometheusç›‘æ§]
    I --&gt; L
    J --&gt; L
    L --&gt; M[Grafana]&lt;/pre&gt;

&lt;h4 id=&#34;å››ã€å…³é”®ç»„ä»¶å®‰è£…ä¸é…ç½®&#34;&gt;&lt;a href=&#34;#å››ã€å…³é”®ç»„ä»¶å®‰è£…ä¸é…ç½®&#34; class=&#34;headerlink&#34; title=&#34;å››ã€å…³é”®ç»„ä»¶å®‰è£…ä¸é…ç½®&#34;&gt;&lt;/a&gt;å››ã€å…³é”®ç»„ä»¶å®‰è£…ä¸é…ç½®&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;åŸºç¡€è®¾æ–½éƒ¨ç½²ï¼ˆDockerç¤ºä¾‹ï¼‰ &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;# docker-compose.yml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;version: &amp;#x27;3&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;services:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  consul:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: consul:latest&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - &amp;quot;8500:8500&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  kong:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: kong:latest&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    depends_on:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - postgres&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - &amp;quot;8000:8000&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - &amp;quot;8001:8001&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  apollo:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: apolloconfig/apollo-portal&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - &amp;quot;8070:8070&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  rabbitmq:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    image: rabbitmq:management&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ports:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - &amp;quot;5672:5672&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      - &amp;quot;15672:15672&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;PHPæœåŠ¡Dockerfile&lt;/p&gt;
 &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;FROM php:8.2-fpm&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# å®‰è£…å¿…è¦æ‰©å±•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;RUN apt-get update &amp;amp;&amp;amp; apt-get install -y \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    libzip-dev \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    librabbitmq-dev \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;amp;&amp;amp; docker-php-ext-install zip pdo_mysql \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;amp;&amp;amp; pecl install amqp \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;amp;&amp;amp; docker-php-ext-enable amqp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# å®‰è£…Composer&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;COPY --from=composer:latest /usr/bin/composer /usr/bin/composer&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;WORKDIR /var/www&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;COPY . .&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;RUN composer install --no-dev --optimize-autoloader&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;äº”ã€ç”Ÿäº§ç¯å¢ƒå»ºè®®&#34;&gt;&lt;a href=&#34;#äº”ã€ç”Ÿäº§ç¯å¢ƒå»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;äº”ã€ç”Ÿäº§ç¯å¢ƒå»ºè®®&#34;&gt;&lt;/a&gt;äº”ã€ç”Ÿäº§ç¯å¢ƒå»ºè®®&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä½¿ç”¨Consulé›†ç¾¤ï¼ˆè‡³å°‘3èŠ‚ç‚¹ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¼€å¯ACLå®‰å…¨æ§åˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é›†æˆPrometheusç›‘æ§&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç½‘å…³å±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Kongé›†ç¾¤ + Nginxè´Ÿè½½å‡è¡¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯ç”¨JWTè®¤è¯æ’ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é…ç½®é€Ÿç‡é™åˆ¶ï¼ˆ1000rps/æœåŠ¡ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é…ç½®ç®¡ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Apolloå¤šç¯å¢ƒé…ç½®ï¼ˆDEV/TEST/PRODï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•æ„Ÿé…ç½®åŠ å¯†å­˜å‚¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é…ç½®å˜æ›´å®¡è®¡æ—¥å¿—&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡é€šä¿¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;åŒæ­¥è°ƒç”¨ï¼šHTTP/2 + Protobuf&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¼‚æ­¥æ¶ˆæ¯ï¼šRabbitMQé•œåƒé˜Ÿåˆ—&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœåŠ¡ç½‘æ ¼ï¼šIstioï¼ˆå¯é€‰ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯è§‚æµ‹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ—¥å¿—ï¼šELKæ”¶é›†Nginx/PHPæ—¥å¿—&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŒ‡æ ‡ï¼šPrometheusæ”¶é›†æœåŠ¡æŒ‡æ ‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¿½è¸ªï¼šJaegerå®ç°å…¨é“¾è·¯è¿½è¸ª&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…­ã€PHPå¾®æœåŠ¡å¼€å‘å·¥å…·åŒ…&#34;&gt;&lt;a href=&#34;#å…­ã€PHPå¾®æœåŠ¡å¼€å‘å·¥å…·åŒ…&#34; class=&#34;headerlink&#34; title=&#34;å…­ã€PHPå¾®æœåŠ¡å¼€å‘å·¥å…·åŒ…&#34;&gt;&lt;/a&gt;å…­ã€PHPå¾®æœåŠ¡å¼€å‘å·¥å…·åŒ…&lt;/h4&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;composer require:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  sensiolabs/consul-php-sdk     # Consulå®¢æˆ·ç«¯&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  guzzlehttp/guzzle             # HTTPå®¢æˆ·ç«¯&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  php-amqplib/php-amqplib       # RabbitMQ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  kwn/php-jaeger-client         # Jaegerè¿½è¸ª&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  resilience-php/resilience-php # ç†”æ–­é™çº§&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ext-swoole                    # åç¨‹è°ƒåº¦&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
        <category term="phpæ¶æ„" />
        <category term="phpæœåŠ¡" />
        <category term="phpæœåŠ¡è®¾è®¡" />
        <updated>2025-07-05T03:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/06/27/emm-mdm-systems/</id>
        <title>EMMä¸MDMç³»ç»Ÿè¯¦è§£</title>
        <link rel="alternate" href="https://erik.xyz/2025/06/27/emm-mdm-systems/"/>
        <content type="html">&lt;p&gt;EMMï¼ˆEnterprise Mobility Managementï¼Œä¼ä¸šç§»åŠ¨åŒ–ç®¡ç†ï¼‰å’ŒMDMï¼ˆMobile Device Managementï¼Œç§»åŠ¨è®¾å¤‡ç®¡ç†ï¼‰æ˜¯ä¼ä¸šç”¨äºå®‰å…¨ç®¡ç†ç§»åŠ¨è®¾å¤‡ã€åº”ç”¨åŠæ•°æ®çš„æ ¸å¿ƒæŠ€æœ¯ä½“ç³»ã€‚ä¸‹é¢ä»å®šä¹‰ã€åŠŸèƒ½ã€æ¼”è¿›å’Œåº”ç”¨åœºæ™¯ç­‰æ–¹é¢è¿›è¡Œç³»ç»Ÿè¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;ğŸ“± ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ&lt;br&gt;MDMï¼ˆç§»åŠ¨è®¾å¤‡ç®¡ç†ï¼‰&lt;br&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å®šä¹‰ï¼šä¸“æ³¨äºç§»åŠ¨è®¾å¤‡ï¼ˆå¦‚æ‰‹æœºã€å¹³æ¿ï¼‰çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒ…æ‹¬æ³¨å†Œã€é…ç½®ã€ç›‘æ§ã€è¿œç¨‹æ§åˆ¶ï¼ˆå¦‚é”å®š/æ“¦é™¤ï¼‰åŠåœç”¨146ã€‚&lt;/p&gt;
&lt;p&gt;é€‚ç”¨åœºæ™¯ï¼šé€‚ç”¨äºä¼ä¸šç»Ÿä¸€é…å‘çš„è®¾å¤‡ï¼ˆå¦‚ç‰©æµæ‰‹æŒç»ˆç«¯ã€å…¬å¸æ‰‹æœºï¼‰ï¼Œéœ€å®Œå…¨æ§åˆ¶ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿ39ã€‚&lt;/p&gt;
&lt;p&gt;EMMï¼ˆä¼ä¸šç§»åŠ¨åŒ–ç®¡ç†ï¼‰&lt;/p&gt;
&lt;p&gt;å®šä¹‰ï¼šMDMçš„æ‰©å±•ï¼Œæ˜¯ä¸€å¥—ç»¼åˆè§£å†³æ–¹æ¡ˆï¼Œé™¤è®¾å¤‡ç®¡ç†å¤–ï¼Œè¿˜åŒ…å«ç§»åŠ¨åº”ç”¨ç®¡ç†ï¼ˆMAMï¼‰ã€ç§»åŠ¨å†…å®¹ç®¡ç†ï¼ˆMCMï¼‰ã€ç§»åŠ¨èº«ä»½ç®¡ç†ï¼ˆMIMï¼‰ç­‰ç»„ä»¶ï¼Œç›®æ ‡æ˜¯åœ¨ä¿éšœå®‰å…¨çš„å‰æä¸‹æå‡ç§»åŠ¨åŠå…¬æ•ˆç‡189ã€‚&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒèƒ½åŠ›ï¼šæ”¯æŒBYODï¼ˆè‡ªå¸¦è®¾å¤‡åŠå…¬ï¼‰ï¼Œé€šè¿‡â€œå®¹å™¨åŒ–â€æŠ€æœ¯éš”ç¦»ä¼ä¸šæ•°æ®ä¸ä¸ªäººæ•°æ®ï¼Œå®ç°ç»†ç²’åº¦æ§åˆ¶ï¼ˆå¦‚ä»…æ“¦é™¤ä¼ä¸šåº”ç”¨æ•°æ®ï¼‰59ã€‚&lt;/p&gt;
&lt;p&gt;âš™ï¸ äºŒã€æ ¸å¿ƒåŠŸèƒ½ç»„ä»¶&lt;br&gt;EMMé€šè¿‡ä»¥ä¸‹æ¨¡å—ååŒå·¥ä½œï¼š&lt;/p&gt;
&lt;p&gt;MDMï¼šè®¾å¤‡æ³¨å†Œã€ç­–ç•¥é…ç½®ï¼ˆå¯†ç å¤æ‚åº¦ã€åŠ å¯†ï¼‰ã€è¿œç¨‹æ“¦é™¤16ã€‚&lt;/p&gt;
&lt;p&gt;MAMï¼ˆç§»åŠ¨åº”ç”¨ç®¡ç†ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;ä¼ä¸šåº”ç”¨å•†åº—åˆ†å‘ã€é™é»˜å®‰è£…/æ›´æ–°ï¼›&lt;/p&gt;
&lt;p&gt;æ§åˆ¶åº”ç”¨æƒé™ï¼ˆå¦‚ç¦æ­¢æˆªå±/ç²˜è´´ï¼‰19ã€‚&lt;/p&gt;
&lt;p&gt;MCMï¼ˆç§»åŠ¨å†…å®¹ç®¡ç†ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;å®‰å…¨åˆ†å‘ä¼ä¸šæ–‡ä»¶ï¼ˆå¦‚åˆåŒã€æŠ¥è¡¨ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;æ•°æ®åŠ å¯†å­˜å‚¨ï¼Œé™åˆ¶åˆ†äº«è‡³éæˆæƒåº”ç”¨18ã€‚&lt;/p&gt;
&lt;p&gt;MIMï¼ˆç§»åŠ¨èº«ä»½ç®¡ç†ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰ã€å¤šå› ç´ è®¤è¯ï¼›&lt;/p&gt;
&lt;p&gt;åŸºäºè§’è‰²/è®¾å¤‡çŠ¶æ€åŠ¨æ€è°ƒæ•´è®¿é—®æƒé™18ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ“Š ä¸‰ã€MDMä¸EMMçš„åŒºåˆ«&lt;br&gt;ç»´åº¦    MDM    EMM&lt;br&gt;ç®¡ç†å¯¹è±¡    è®¾å¤‡ç¡¬ä»¶åŠæ“ä½œç³»ç»Ÿ    è®¾å¤‡+åº”ç”¨+æ•°æ®+èº«ä»½&lt;br&gt;æ§åˆ¶ç²’åº¦    è®¾å¤‡çº§ï¼ˆå…¨ç›˜æ§åˆ¶ï¼‰    åº”ç”¨/æ•°æ®çº§ï¼ˆå¦‚ä»…ç®¡ç†ä¼ä¸šå®¹å™¨ï¼‰&lt;br&gt;é€‚ç”¨åœºæ™¯    ä¼ä¸šç»Ÿä¸€é…å‘è®¾å¤‡ï¼ˆCOBO/COPEï¼‰    BYODï¼ˆå‘˜å·¥ä¸ªäººè®¾å¤‡ï¼‰ä¸ºä¸»&lt;br&gt;éšç§å…¼å®¹æ€§    ä½ï¼ˆéœ€å®Œå…¨æ§åˆ¶è®¾å¤‡ï¼‰    é«˜ï¼ˆéš”ç¦»ä¼ä¸šæ•°æ®ï¼Œä¿æŠ¤ä¸ªäººéšç§ï¼‰&lt;br&gt;æ¼”è¿›å…³ç³»    EMMçš„åŸºç¡€ç»„ä»¶    MDMçš„æ‰©å±•ä¸å‡çº§&lt;br&gt;ç¤ºä¾‹ï¼šåœ¨BYODåœºæ™¯ä¸­ï¼ŒEMMå…è®¸å‘˜å·¥ç”¨ä¸ªäººæ‰‹æœºè®¿é—®ä¼ä¸šé‚®ç®±ï¼Œä½†ä»…å¯¹ä¼ä¸šé‚®ç®±Appå†…çš„æ•°æ®åŠ å¯†å¹¶è¿œç¨‹æ“¦é™¤ï¼Œä¸å½±å“ä¸ªäººç…§ç‰‡ç­‰éšç§å†…å®¹59ã€‚&lt;/p&gt;
&lt;p&gt;â³ å››ã€æŠ€æœ¯æ¼”è¿›ï¼šä»MDMåˆ°EMM&lt;br&gt;ç§»åŠ¨ç®¡ç†æŠ€æœ¯ç»å†äº†ä¸‰ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;p&gt;è®¾å¤‡é©±åŠ¨é˜¶æ®µï¼ˆ2007-2012ï¼‰ï¼šMDMä¸»å¯¼ï¼ŒåŠŸèƒ½é™äºè®¾å¤‡æ³¨å†Œã€å¯†ç ç­–ç•¥ã€è¿œç¨‹æ“¦é™¤210ã€‚&lt;/p&gt;
&lt;p&gt;åº”ç”¨ç®¡ç†é˜¶æ®µï¼ˆ2011-2013ï¼‰ï¼šMAMå…´èµ·ï¼Œå¼•å…¥æ²™ç®±/å®¹å™¨éš”ç¦»ä¼ä¸šåº”ç”¨æ•°æ®ï¼Œé€‚åº”BYODéœ€æ±‚25ã€‚&lt;/p&gt;
&lt;p&gt;å†…å®¹ä¸èº«ä»½èåˆé˜¶æ®µï¼ˆ2013è‡³ä»Šï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;EMMæ•´åˆMCM/MIMï¼Œå®ç°åŸºäºè§’è‰²ã€ä½ç½®ã€è®¾å¤‡çŠ¶æ€çš„åŠ¨æ€ç­–ç•¥ï¼ˆå¦‚â€œå‡ºå·®æ—¶ç¦æ­¢è®¿é—®è´¢åŠ¡ç³»ç»Ÿâ€ï¼‰10ï¼›&lt;/p&gt;
&lt;p&gt;å‘UEMï¼ˆç»Ÿä¸€ç«¯ç‚¹ç®¡ç†ï¼‰æ¼”è¿›ï¼Œè¦†ç›–PCã€IoTç­‰æ›´å¤šç»ˆç«¯35ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ¢ äº”ã€ä¼ä¸šåº”ç”¨ä»·å€¼&lt;br&gt;å®‰å…¨æå‡ï¼šé˜²æ­¢æ•°æ®æ³„éœ²ï¼ˆå¦‚é˜»æ–­ä¼ä¸šæ–‡ä»¶ä¿å­˜è‡³ä¸ªäººäº‘ç›˜ï¼‰ã€æŠµå¾¡è¶Šç‹±/rootè®¾å¤‡é£é™©16ã€‚&lt;/p&gt;
&lt;p&gt;æ•ˆç‡ä¼˜åŒ–ï¼š&lt;/p&gt;
&lt;p&gt;è‡ªåŠ¨åˆ†å‘åº”ç”¨ï¼ˆå¦‚é”€å”®å›¢é˜Ÿç»Ÿä¸€å®‰è£…CRMå·¥å…·ï¼‰ï¼›&lt;/p&gt;
&lt;p&gt;è¿œç¨‹æ•…éšœæ’æŸ¥ï¼Œå‡å°‘ç°åœºæ”¯æŒæˆæœ¬9ã€‚&lt;/p&gt;
&lt;p&gt;åˆè§„æ”¯æŒï¼šæ»¡è¶³GDPRç­‰æ³•è§„è¦æ±‚ï¼Œå®¡è®¡æ—¥å¿—è®°å½•æ•æ„Ÿæ“ä½œ68ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ’ æ€»ç»“&lt;br&gt;MDMæ˜¯ç§»åŠ¨ç®¡ç†çš„èµ·ç‚¹ï¼Œèšç„¦è®¾å¤‡æ§åˆ¶ï¼›EMMæ˜¯æ›´æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡åº”ç”¨/æ•°æ®/èº«ä»½çš„ç²¾ç»†ç®¡ç†ï¼Œåœ¨å®‰å…¨ä¸å‘˜å·¥ä½“éªŒé—´å–å¾—å¹³è¡¡ã€‚éšç€è¿œç¨‹åŠå…¬æ™®åŠï¼ŒEMMå·²æˆä¸ºä¼ä¸šç§»åŠ¨åŒ–è½¬å‹çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼Œå¹¶æŒç»­å‘è·¨ç»ˆç«¯ã€æ™ºèƒ½åŒ–çš„UEMæ–¹å‘æ¼”è¿›358ã€‚&lt;/p&gt;
</content>
        <category term="ç³»ç»Ÿ" />
        <category term="emm" />
        <category term="mdm" />
        <updated>2025-06-27T02:12:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/06/10/php-game-fish/</id>
        <title>phpå¼€å‘æ•é±¼æ¸¸æˆçš„æ„æ€</title>
        <link rel="alternate" href="https://erik.xyz/2025/06/10/php-game-fish/"/>
        <content type="html">&lt;p&gt;ä½¿ç”¨PHPå¼€å‘æ•é±¼æ¸¸æˆæ¶‰åŠå‰åç«¯åä½œï¼Œä»¥ä¸‹æ˜¯æ ¸å¿ƒå®ç°æ€è·¯å’Œä»£ç ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;h3 id=&#34;ä¸€ã€ç³»ç»Ÿè®¾è®¡&#34;&gt;&lt;a href=&#34;#ä¸€ã€ç³»ç»Ÿè®¾è®¡&#34; class=&#34;headerlink&#34; title=&#34;ä¸€ã€ç³»ç»Ÿè®¾è®¡&#34;&gt;&lt;/a&gt;ä¸€ã€ç³»ç»Ÿè®¾è®¡&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å‰ç«¯&lt;/strong&gt;ï¼šHTML5 Canvas + JavaScript ç»˜åˆ¶æ¸¸æˆåœºæ™¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åç«¯&lt;/strong&gt;ï¼šPHP å¤„ç†æ¸¸æˆé€»è¾‘å’Œæ•°æ®åº“æ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“&lt;/strong&gt;ï¼šMySQL å­˜å‚¨ç©å®¶æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€šä¿¡&lt;/strong&gt;ï¼šAJAX å®ç°å‰åç«¯äº¤äº’&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äºŒã€æ ¸å¿ƒåŠŸèƒ½å®ç°&#34;&gt;&lt;a href=&#34;#äºŒã€æ ¸å¿ƒåŠŸèƒ½å®ç°&#34; class=&#34;headerlink&#34; title=&#34;äºŒã€æ ¸å¿ƒåŠŸèƒ½å®ç°&#34;&gt;&lt;/a&gt;äºŒã€æ ¸å¿ƒåŠŸèƒ½å®ç°&lt;/h3&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h4 id=&#34;1-æ•°æ®åº“è®¾è®¡ï¼ˆMySQLï¼‰&#34;&gt;&lt;a href=&#34;#1-æ•°æ®åº“è®¾è®¡ï¼ˆMySQLï¼‰&#34; class=&#34;headerlink&#34; title=&#34;1. æ•°æ®åº“è®¾è®¡ï¼ˆMySQLï¼‰&#34;&gt;&lt;/a&gt;1. æ•°æ®åº“è®¾è®¡ï¼ˆMySQLï¼‰&lt;/h4&gt;&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;CREATE TABLE&lt;/span&gt; players (&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    id &lt;span class=&#34;type&#34;&gt;INT&lt;/span&gt; AUTO_INCREMENT &lt;span class=&#34;keyword&#34;&gt;PRIMARY KEY&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    username &lt;span class=&#34;type&#34;&gt;VARCHAR&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;UNIQUE&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    password &lt;span class=&#34;type&#34;&gt;VARCHAR&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;255&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    gold &lt;span class=&#34;type&#34;&gt;INT&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1000&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    score &lt;span class=&#34;type&#34;&gt;INT&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;DEFAULT&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;2-PHPåç«¯é€»è¾‘ï¼ˆç»“åˆå‰ç«¯äº¤äº’ï¼‰&#34;&gt;&lt;a href=&#34;#2-PHPåç«¯é€»è¾‘ï¼ˆç»“åˆå‰ç«¯äº¤äº’ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;2. PHPåç«¯é€»è¾‘ï¼ˆç»“åˆå‰ç«¯äº¤äº’ï¼‰&#34;&gt;&lt;/a&gt;2. PHPåç«¯é€»è¾‘ï¼ˆç»“åˆå‰ç«¯äº¤äº’ï¼‰&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;æ¸¸æˆæ ¸å¿ƒæ–‡ä»¶ï¼š&lt;code&gt;game.php&lt;/code&gt;&lt;/strong&gt;&lt;br&gt;&lt;figure class=&#34;highlight php&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;lt;?php&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_ invoke__&#34;&gt;session_start&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// è¿æ¥æ•°æ®åº“&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title function_ invoke__&#34;&gt;mysqli&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;localhost&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;username&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;password&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;fishing_game&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;FishingGame&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;__construct&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable language_&#34;&gt;$this&lt;/span&gt;-&amp;gt;db = &lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ•é±¼é€»è¾‘&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;catchFish&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$playerId&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$cannonType&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$fishType&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable&#34;&gt;$cost&lt;/span&gt; = &lt;span class=&#34;variable language_&#34;&gt;$this&lt;/span&gt;-&amp;gt;&lt;span class=&#34;title function_ invoke__&#34;&gt;getCannonCost&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$cannonType&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable&#34;&gt;$reward&lt;/span&gt; = &lt;span class=&#34;variable language_&#34;&gt;$this&lt;/span&gt;-&amp;gt;&lt;span class=&#34;title function_ invoke__&#34;&gt;getFishReward&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$fishType&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;// æ‰£é™¤é‡‘å¸&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable language_&#34;&gt;$this&lt;/span&gt;-&amp;gt;db-&amp;gt;&lt;span class=&#34;title function_ invoke__&#34;&gt;query&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;UPDATE players SET gold = gold - &lt;span class=&#34;subst&#34;&gt;$cost&lt;/span&gt; WHERE id = &lt;span class=&#34;subst&#34;&gt;$playerId&lt;/span&gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;// æ•è·åˆ¤å®šï¼ˆç®€åŒ–ç‰ˆæ¦‚ç‡è®¡ç®—ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable&#34;&gt;$success&lt;/span&gt; = (&lt;span class=&#34;title function_ invoke__&#34;&gt;rand&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;100&lt;/span&gt;) &amp;gt; &lt;span class=&#34;number&#34;&gt;30&lt;/span&gt;); &lt;span class=&#34;comment&#34;&gt;// 70%æˆåŠŸç‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$success&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;variable language_&#34;&gt;$this&lt;/span&gt;-&amp;gt;db-&amp;gt;&lt;span class=&#34;title function_ invoke__&#34;&gt;query&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;UPDATE players SET gold = gold + &lt;span class=&#34;subst&#34;&gt;$reward&lt;/span&gt;, score = score + &lt;span class=&#34;subst&#34;&gt;$reward&lt;/span&gt; WHERE id = &lt;span class=&#34;subst&#34;&gt;$playerId&lt;/span&gt;&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; [&lt;span class=&#34;string&#34;&gt;&amp;#x27;success&amp;#x27;&lt;/span&gt; =&amp;gt; &lt;span class=&#34;literal&#34;&gt;true&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;reward&amp;#x27;&lt;/span&gt; =&amp;gt; &lt;span class=&#34;variable&#34;&gt;$reward&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; [&lt;span class=&#34;string&#34;&gt;&amp;#x27;success&amp;#x27;&lt;/span&gt; =&amp;gt; &lt;span class=&#34;literal&#34;&gt;false&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;getCannonCost&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$type&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable&#34;&gt;$costs&lt;/span&gt; = [&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; =&amp;gt; &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; =&amp;gt; &lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt; =&amp;gt; &lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;]; &lt;span class=&#34;comment&#34;&gt;// ç‚®å¼¹ç±»å‹å¯¹åº”æ¶ˆè€—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;$costs&lt;/span&gt;[&lt;span class=&#34;variable&#34;&gt;$type&lt;/span&gt;] ?? &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;getFishReward&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$type&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable&#34;&gt;$rewards&lt;/span&gt; = [&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; =&amp;gt; &lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; =&amp;gt; &lt;span class=&#34;number&#34;&gt;25&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt; =&amp;gt; &lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;]; &lt;span class=&#34;comment&#34;&gt;// é±¼ç±»å¥–åŠ±&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;$rewards&lt;/span&gt;[&lt;span class=&#34;variable&#34;&gt;$type&lt;/span&gt;] ?? &lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å®ä¾‹åŒ–æ¸¸æˆ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$game&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;FishingGame&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$db&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å¤„ç†AJAXè¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;variable&#34;&gt;$_SERVER&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;#x27;REQUEST_METHOD&amp;#x27;&lt;/span&gt;] === &lt;span class=&#34;string&#34;&gt;&amp;#x27;POST&amp;#x27;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable&#34;&gt;$playerId&lt;/span&gt; = &lt;span class=&#34;variable&#34;&gt;$_SESSION&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;#x27;player_id&amp;#x27;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable&#34;&gt;$data&lt;/span&gt; = &lt;span class=&#34;title function_ invoke__&#34;&gt;json_decode&lt;/span&gt;(&lt;span class=&#34;title function_ invoke__&#34;&gt;file_get_contents&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;php://input&amp;#x27;&lt;/span&gt;), &lt;span class=&#34;literal&#34;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;isset&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$data&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;#x27;action&amp;#x27;&lt;/span&gt;]) &amp;amp;&amp;amp; &lt;span class=&#34;variable&#34;&gt;$data&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;#x27;action&amp;#x27;&lt;/span&gt;] === &lt;span class=&#34;string&#34;&gt;&amp;#x27;catch&amp;#x27;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;variable&#34;&gt;$response&lt;/span&gt; = &lt;span class=&#34;variable&#34;&gt;$game&lt;/span&gt;-&amp;gt;&lt;span class=&#34;title function_ invoke__&#34;&gt;catchFish&lt;/span&gt;(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;variable&#34;&gt;$playerId&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;variable&#34;&gt;$data&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;#x27;cannon&amp;#x27;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;variable&#34;&gt;$data&lt;/span&gt;[&lt;span class=&#34;string&#34;&gt;&amp;#x27;fishType&amp;#x27;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        );&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;title function_ invoke__&#34;&gt;header&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;Content-Type: application/json&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;title function_ invoke__&#34;&gt;json_encode&lt;/span&gt;(&lt;span class=&#34;variable&#34;&gt;$response&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;exit&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-å‰ç«¯æ ¸å¿ƒå®ç°ï¼ˆJavaScriptï¼‰&#34;&gt;&lt;a href=&#34;#3-å‰ç«¯æ ¸å¿ƒå®ç°ï¼ˆJavaScriptï¼‰&#34; class=&#34;headerlink&#34; title=&#34;3. å‰ç«¯æ ¸å¿ƒå®ç°ï¼ˆJavaScriptï¼‰&#34;&gt;&lt;/a&gt;3. å‰ç«¯æ ¸å¿ƒå®ç°ï¼ˆJavaScriptï¼‰&lt;/h4&gt;&lt;figure class=&#34;highlight html&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;108&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;canvas&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;id&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;gameCanvas&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;width&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;800&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;height&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;600&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;canvas&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// æ¸¸æˆé…ç½®&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;variable constant_&#34;&gt;FISH_TYPES&lt;/span&gt; = &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;: &amp;#123; &lt;span class=&#34;attr&#34;&gt;speed&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;, &lt;span class=&#34;attr&#34;&gt;color&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;#FF9900&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;attr&#34;&gt;size&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;30&lt;/span&gt; &amp;#125;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;: &amp;#123; &lt;span class=&#34;attr&#34;&gt;speed&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;, &lt;span class=&#34;attr&#34;&gt;color&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;#00CCFF&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;attr&#34;&gt;size&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;50&lt;/span&gt; &amp;#125;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;: &amp;#123; &lt;span class=&#34;attr&#34;&gt;speed&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;attr&#34;&gt;color&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;#FF66CC&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;attr&#34;&gt;size&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;80&lt;/span&gt; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;FishingGame&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;constructor&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;canvas&lt;/span&gt; = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;getElementById&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;gameCanvas&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt; = &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;canvas&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;getContext&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;2d&amp;#x27;&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fishes&lt;/span&gt; = [];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;player&lt;/span&gt; = &amp;#123; &lt;span class=&#34;attr&#34;&gt;gold&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;1000&lt;/span&gt;, &lt;span class=&#34;attr&#34;&gt;score&lt;/span&gt;: &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; &amp;#125;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;init&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;init&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;generateFish&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;gameLoop&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;canvas&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;click&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;handleClick&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;bind&lt;/span&gt;(&lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;));&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;generateFish&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// éšæœºç”Ÿæˆé±¼ç¾¤&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;setInterval&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; type = &lt;span class=&#34;title class_&#34;&gt;Math&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;floor&lt;/span&gt;(&lt;span class=&#34;title class_&#34;&gt;Math&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;random&lt;/span&gt;() * &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;) + &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fishes&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        type,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;x&lt;/span&gt;: -&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;y&lt;/span&gt;: &lt;span class=&#34;title class_&#34;&gt;Math&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;random&lt;/span&gt;() * &lt;span class=&#34;number&#34;&gt;500&lt;/span&gt; + &lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        ...&lt;span class=&#34;variable constant_&#34;&gt;FISH_TYPES&lt;/span&gt;[type]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &amp;#125;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &amp;#125;, &lt;span class=&#34;number&#34;&gt;2000&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;handleClick&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;e&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; rect = &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;canvas&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;getBoundingClientRect&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; clickX = e.&lt;span class=&#34;property&#34;&gt;clientX&lt;/span&gt; - rect.&lt;span class=&#34;property&#34;&gt;left&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; clickY = e.&lt;span class=&#34;property&#34;&gt;clientY&lt;/span&gt; - rect.&lt;span class=&#34;property&#34;&gt;top&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ£€æµ‹ç‚¹å‡»åˆ°çš„é±¼&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; cannonType = &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; &lt;span class=&#34;comment&#34;&gt;// é»˜è®¤ç‚®å¼¹ç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; i = &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fishes&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt; - &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; i &amp;gt;= &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i--) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; fish = &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fishes&lt;/span&gt;[i];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; distance = &lt;span class=&#34;title class_&#34;&gt;Math&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;sqrt&lt;/span&gt;(&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;title class_&#34;&gt;Math&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;pow&lt;/span&gt;(fish.&lt;span class=&#34;property&#34;&gt;x&lt;/span&gt; - clickX, &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;) + &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;title class_&#34;&gt;Math&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;pow&lt;/span&gt;(fish.&lt;span class=&#34;property&#34;&gt;y&lt;/span&gt; - clickY, &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      );&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;(distance &amp;lt; fish.&lt;span class=&#34;property&#34;&gt;size&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;sendCatchRequest&lt;/span&gt;(fish.&lt;span class=&#34;property&#34;&gt;type&lt;/span&gt;, cannonType);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fishes&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;splice&lt;/span&gt;(i, &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;sendCatchRequest&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;fishType, cannonType&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; response = &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;fetch&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;game.php&amp;#x27;&lt;/span&gt;, &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;method&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;POST&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;headers&lt;/span&gt;: &amp;#123; &lt;span class=&#34;string&#34;&gt;&amp;#x27;Content-Type&amp;#x27;&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;application/json&amp;#x27;&lt;/span&gt; &amp;#125;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;body&lt;/span&gt;: &lt;span class=&#34;title class_&#34;&gt;JSON&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;stringify&lt;/span&gt;(&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;action&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;catch&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;fishType&lt;/span&gt;: fishType,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;cannon&lt;/span&gt;: cannonType&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &amp;#125;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; result = &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; response.&lt;span class=&#34;title function_&#34;&gt;json&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;(result.&lt;span class=&#34;property&#34;&gt;success&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;player&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;gold&lt;/span&gt; += result.&lt;span class=&#34;property&#34;&gt;reward&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;player&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;score&lt;/span&gt; += result.&lt;span class=&#34;property&#34;&gt;reward&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;showEffect&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;+&amp;#x27;&lt;/span&gt;+result.&lt;span class=&#34;property&#34;&gt;reward&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;gameLoop&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;clearRect&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;800&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;600&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ç»˜åˆ¶èƒŒæ™¯&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fillStyle&lt;/span&gt; = &lt;span class=&#34;string&#34;&gt;&amp;#x27;#3399FF&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;fillRect&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;800&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;600&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ›´æ–°å¹¶ç»˜åˆ¶é±¼&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fishes&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;forEach&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;params&#34;&gt;fish&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      fish.&lt;span class=&#34;property&#34;&gt;x&lt;/span&gt; += fish.&lt;span class=&#34;property&#34;&gt;speed&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;(fish.&lt;span class=&#34;property&#34;&gt;x&lt;/span&gt; &amp;gt; &lt;span class=&#34;number&#34;&gt;850&lt;/span&gt;) fish.&lt;span class=&#34;property&#34;&gt;x&lt;/span&gt; = -&lt;span class=&#34;number&#34;&gt;50&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;beginPath&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fillStyle&lt;/span&gt; = fish.&lt;span class=&#34;property&#34;&gt;color&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;arc&lt;/span&gt;(fish.&lt;span class=&#34;property&#34;&gt;x&lt;/span&gt;, fish.&lt;span class=&#34;property&#34;&gt;y&lt;/span&gt;, fish.&lt;span class=&#34;property&#34;&gt;size&lt;/span&gt;/&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;title class_&#34;&gt;Math&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;PI&lt;/span&gt; * &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;fill&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ç»˜åˆ¶UI&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;fillStyle&lt;/span&gt; = &lt;span class=&#34;string&#34;&gt;&amp;#x27;#000&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;font&lt;/span&gt; = &lt;span class=&#34;string&#34;&gt;&amp;#x27;20px Arial&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;fillText&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;`é‡‘å¸: &lt;span class=&#34;subst&#34;&gt;$&amp;#123;&lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.player.gold&amp;#125;&lt;/span&gt;`&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;30&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;ctx&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;fillText&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;`åˆ†æ•°: &lt;span class=&#34;subst&#34;&gt;$&amp;#123;&lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.player.score&amp;#125;&lt;/span&gt;`&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;60&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;title function_&#34;&gt;requestAnimationFrame&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;gameLoop&lt;/span&gt;());&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;FishingGame&lt;/span&gt;();&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ä¸‰ã€æ¸¸æˆåŠŸèƒ½æ‰©å±•å»ºè®®&#34;&gt;&lt;a href=&#34;#ä¸‰ã€æ¸¸æˆåŠŸèƒ½æ‰©å±•å»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;ä¸‰ã€æ¸¸æˆåŠŸèƒ½æ‰©å±•å»ºè®®&#34;&gt;&lt;/a&gt;ä¸‰ã€æ¸¸æˆåŠŸèƒ½æ‰©å±•å»ºè®®&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;é«˜çº§åŠŸèƒ½&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ å¤šç§æ­¦å™¨ç³»ç»Ÿï¼ˆæ¿€å…‰ç‚®ã€æ¸”ç½‘ï¼‰&lt;/li&gt;
&lt;li&gt;å®ç°é±¼ç¾¤ç‰¹æ®Šè¡Œä¸ºï¼ˆBOSSé±¼ã€é±¼ç¾¤è¿å¾™ï¼‰&lt;/li&gt;
&lt;li&gt;é“å…·ç³»ç»Ÿï¼ˆé‡‘å¸åŠ å€ã€å†°å†»æ•ˆæœï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ€§èƒ½ä¼˜åŒ–&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WebSocketå®ç°å®æ—¶é€šä¿¡&lt;/li&gt;
&lt;li&gt;å¯¹è±¡æ± é‡ç”¨é±¼å¯¹è±¡&lt;/li&gt;
&lt;li&gt;ç²¾çµå›¾ä»£æ›¿çº¯è‰²ç»˜åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å®‰å…¨å¢å¼º&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‚®å¼¹æ¶ˆè€—éªŒè¯&lt;/li&gt;
&lt;li&gt;é¢‘ç‡é™åˆ¶ï¼ˆé˜²ä½œå¼Šï¼‰&lt;/li&gt;
&lt;li&gt;æ•°æ®åŠ å¯†ä¼ è¾“&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å•†ä¸šåŒ–åŠŸèƒ½&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…è´­é‡‘å¸ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;æ¯æ—¥ä»»åŠ¡å¥–åŠ±&lt;/li&gt;
&lt;li&gt;ç©å®¶æ’è¡Œæ¦œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å››ã€éƒ¨ç½²æ³¨æ„äº‹é¡¹&#34;&gt;&lt;a href=&#34;#å››ã€éƒ¨ç½²æ³¨æ„äº‹é¡¹&#34; class=&#34;headerlink&#34; title=&#34;å››ã€éƒ¨ç½²æ³¨æ„äº‹é¡¹&#34;&gt;&lt;/a&gt;å››ã€éƒ¨ç½²æ³¨æ„äº‹é¡¹&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨PHP 7.4+ è·å–æœ€ä½³æ€§èƒ½&lt;/li&gt;
&lt;li&gt;é…ç½®OPCacheåŠ é€ŸPHPæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;å‰ç«¯èµ„æºä½¿ç”¨CDNåŠ é€Ÿ&lt;/li&gt;
&lt;li&gt;å®šæœŸå¤‡ä»½ç©å®¶æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å®Œæ•´å®ç°éœ€åŒ…å«ç”¨æˆ·ç³»ç»Ÿï¼ˆæ³¨å†Œ/ç™»å½•ï¼‰ã€æ¸¸æˆå•†åŸã€ç¤¾äº¤åŠŸèƒ½ç­‰æ¨¡å—ã€‚å®é™…å¼€å‘ä¸­å»ºè®®ä½¿ç”¨æ¸¸æˆå¼•æ“å¦‚Phaser.jsæ›¿ä»£åŸç”ŸCanvas APIä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="php" />
        <category term="æ¸¸æˆ" />
        <updated>2025-06-10T15:09:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/05/26/webman-hyperf-change/</id>
        <title>webmanå’Œhyperfå¯¹æ¯”è§£æ</title>
        <link rel="alternate" href="https://erik.xyz/2025/05/26/webman-hyperf-change/"/>
        <content type="html">&lt;p&gt;å¥½çš„ï¼Œæˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨ä¸€ä¸‹ &lt;code&gt;webman&lt;/code&gt;ã€&lt;code&gt;Hyperf&lt;/code&gt; çš„åº•å±‚åŸç†ä»¥åŠ PHP ä¸­æ³¨è§£ï¼ˆAnnotationsï¼‰çš„å®ç°åŸç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-webman-åº•å±‚åŸç†&#34;&gt;&lt;a href=&#34;#1-webman-åº•å±‚åŸç†&#34; class=&#34;headerlink&#34; title=&#34;1. webman åº•å±‚åŸç†&#34;&gt;&lt;/a&gt;1. webman åº•å±‚åŸç†&lt;/h2&gt;&lt;p&gt;&lt;code&gt;webman&lt;/code&gt; çš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ &lt;strong&gt;è½»é‡ã€é«˜æ€§èƒ½ã€æ˜“ç”¨&lt;/strong&gt;ã€‚å®ƒæ„å»ºåœ¨å¼ºå¤§çš„å¼‚æ­¥äº‹ä»¶é©±åŠ¨ç½‘ç»œåº“ &lt;strong&gt;Workerman&lt;/strong&gt; ä¹‹ä¸Šï¼Œå……åˆ†åˆ©ç”¨äº† PHP çš„ CLIï¼ˆå‘½ä»¤è¡Œæ¥å£ï¼‰æ¨¡å¼å’Œäº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œæ‘’å¼ƒäº†ä¼ ç»Ÿçš„ PHP-FPM æ¨¡å¼ï¼Œä»è€Œå®ç°äº†é«˜æ€§èƒ½å’Œé«˜å¹¶å‘ã€‚&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h3 id=&#34;æ ¸å¿ƒåŸç†å‰–æ&#34;&gt;&lt;a href=&#34;#æ ¸å¿ƒåŸç†å‰–æ&#34; class=&#34;headerlink&#34; title=&#34;æ ¸å¿ƒåŸç†å‰–æ&#34;&gt;&lt;/a&gt;æ ¸å¿ƒåŸç†å‰–æ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åŸºäº Workermanï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶é©±åŠ¨ï¼š&lt;/strong&gt; Workerman ä½¿ç”¨ &lt;code&gt;libevent&lt;/code&gt; (é»˜è®¤)ã€&lt;code&gt;event&lt;/code&gt; æˆ– &lt;code&gt;swoole&lt;/code&gt; æ‰©å±•æä¾›çš„äº‹ä»¶å¾ªç¯åº“ã€‚å®ƒåœ¨ä¸€ä¸ªæˆ–å¤šä¸ªä¸»è¿›ç¨‹ä¸­åˆ›å»ºå’Œç®¡ç†ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶å¾ªç¯ (&lt;code&gt;event loop&lt;/code&gt;)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éé˜»å¡ I/Oï¼š&lt;/strong&gt; æ‰€æœ‰ç½‘ç»œæ“ä½œï¼ˆTCP/UDP/Unix Socket ç›‘å¬å’Œè¿æ¥ï¼‰éƒ½æ˜¯éé˜»å¡çš„ã€‚å½“ä¸€ä¸ªè¿æ¥ä¸Šæœ‰æ•°æ®å¯è¯»ã€å¯å†™æˆ–å‘ç”Ÿé”™è¯¯æ—¶ï¼Œäº‹ä»¶å¾ªç¯ä¼šè§¦å‘æ³¨å†Œçš„å›è°ƒå‡½æ•°è¿›è¡Œå¤„ç†ã€‚è¿™é¿å…äº†ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºçº¿ç¨‹æˆ–è¿›ç¨‹çš„å·¨å¤§å¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤šè¿›ç¨‹æ¨¡å‹ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸»è¿›ç¨‹ (Master)ï¼š&lt;/strong&gt; è´Ÿè´£è§£æé…ç½®ã€åˆ›å»ºç›‘å¬å¥—æ¥å­—ã€ç®¡ç†å­è¿›ç¨‹ï¼ˆWorker è¿›ç¨‹ï¼‰ã€ç›‘æ§å­è¿›ç¨‹çŠ¶æ€ï¼ˆå¦‚å´©æºƒé‡å¯ï¼‰ã€å¤„ç†ä¿¡å·ï¼ˆå¦‚ reload, stop, statusï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Worker è¿›ç¨‹ (Worker)ï¼š&lt;/strong&gt; çœŸæ­£å¤„ç†ä¸šåŠ¡é€»è¾‘çš„è¿›ç¨‹ã€‚ä¸»è¿›ç¨‹ &lt;code&gt;fork&lt;/code&gt; å‡ºå¤šä¸ª Worker å­è¿›ç¨‹ã€‚&lt;strong&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº› Worker è¿›ç¨‹æ˜¯å¸¸é©»å†…å­˜çš„&lt;/strong&gt;ã€‚æ¯ä¸ª Worker è¿›ç¨‹éƒ½ç‹¬ç«‹è¿è¡Œç€è‡ªå·±çš„äº‹ä»¶å¾ªç¯ï¼Œå¤„ç†åˆ†é…ç»™å®ƒçš„è¿æ¥è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿›ç¨‹é—´é€šä¿¡ (IPC)ï¼š&lt;/strong&gt; Master å’Œ Worker ä¹‹é—´é€šå¸¸é€šè¿‡ Unix Socket ç®¡é“è¿›è¡Œé€šä¿¡ï¼ˆä¾‹å¦‚å‘é€ reload ä¿¡å·ã€çŠ¶æ€æŸ¥è¯¢ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åè®®æ”¯æŒï¼š&lt;/strong&gt; Workerman å†…ç½®äº†å¯¹ HTTPã€WebSocketã€TCPã€UDP ç­‰åè®®çš„æ”¯æŒï¼Œå¹¶èƒ½è‡ªå®šä¹‰åè®®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;webman åœ¨ Workerman ä¸Šçš„å°è£…ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PSR å…¼å®¹ï¼š&lt;/strong&gt; æä¾›äº†ç¬¦åˆ PSR-7 (HTTP æ¶ˆæ¯æ¥å£)ã€PSR-15 (HTTP ä¸­é—´ä»¶)ã€PSR-11 (å®¹å™¨) ç­‰æ ‡å‡†çš„å®ç°ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ä½¿ç”¨ç†Ÿæ‚‰çš„ä¸­é—´ä»¶æ¨¡å¼å’Œä¾èµ–æ³¨å…¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±ï¼š&lt;/strong&gt; æä¾›çµæ´»çš„è·¯ç”±é…ç½®ï¼ˆå¦‚æ–‡ä»¶è·¯ç”± &lt;code&gt;route.php&lt;/code&gt;ï¼‰ï¼Œå°† HTTP è¯·æ±‚æ˜ å°„åˆ°å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•æˆ–é—­åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸­é—´ä»¶ï¼š&lt;/strong&gt; å®ç°äº†æ´‹è‘±åœˆæ¨¡å‹çš„ä¸­é—´ä»¶æœºåˆ¶ï¼Œæ–¹ä¾¿å¤„ç†è¯·æ±‚å‰ã€åçš„é€»è¾‘ï¼ˆå¦‚é‰´æƒã€æ—¥å¿—ã€è·¨åŸŸï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶å™¨ï¼š&lt;/strong&gt; ç»„ç»‡ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§†å›¾ï¼š&lt;/strong&gt; æ”¯æŒç®€å•çš„æ¨¡æ¿æ¸²æŸ“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®åº“/Redisï¼š&lt;/strong&gt; æä¾›ä¾¿æ·çš„å°è£…ï¼Œä½†éœ€è¦æ³¨æ„&lt;strong&gt;åœ¨é»˜è®¤ Worker è¿›ç¨‹æ¨¡å‹ä¸‹ï¼Œæ•°æ®åº“è¿æ¥ä¸èƒ½åƒ Swoole åç¨‹é‚£æ ·è‡ªåŠ¨é‡Šæ”¾/é‡ç”¨ï¼Œéœ€è¦å¼€å‘è€…è‡ªè¡Œç®¡ç†è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;ï¼ˆé€šå¸¸åœ¨ä¸€ä¸ªè¯·æ±‚å¤„ç†å‘¨æœŸå†…åˆ›å»ºå’Œå…³é—­ï¼Œæˆ–ä½¿ç”¨è¿æ¥æ± ï¼‰ã€‚webman å®˜æ–¹æä¾›äº† &lt;code&gt;webman/redis-queue&lt;/code&gt; ç­‰æ’ä»¶æ¥å¸®åŠ©ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶ç›‘æ§ä¸çƒ­æ›´æ–°ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;php webman start&lt;/code&gt; é»˜è®¤å¯åŠ¨æ—¶å¸¦ &lt;code&gt;-w&lt;/code&gt; å‚æ•°å¼€å¯ç›‘æ§ã€‚&lt;/li&gt;
&lt;li&gt;Workerman åˆ©ç”¨ Linux å†…æ ¸çš„ &lt;code&gt;inotify&lt;/code&gt; æœºåˆ¶ï¼ˆæˆ– macOS çš„ &lt;code&gt;kqueue&lt;/code&gt;ï¼‰ç›‘æ§é¡¹ç›®æ–‡ä»¶ï¼ˆ&lt;code&gt;.php&lt;/code&gt;, &lt;code&gt;.env&lt;/code&gt; ç­‰ï¼‰çš„æ›´æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;å½“æ£€æµ‹åˆ°æ–‡ä»¶ä¿®æ”¹ï¼Œä¸»è¿›ç¨‹ä¼šå‘æ‰€æœ‰ Worker è¿›ç¨‹å‘é€ &lt;code&gt;SIGUSR1&lt;/code&gt; ä¿¡å·ã€‚&lt;/li&gt;
&lt;li&gt;Worker è¿›ç¨‹æ”¶åˆ°ä¿¡å·åï¼Œå®‰å…¨åœ°é€€å‡ºå½“å‰æ­£åœ¨å¤„ç†çš„è¯·æ±‚ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œç„¶åä¼˜é›…åœ°é‡å¯è‡ªèº«ï¼ˆé‡æ–°åŠ è½½ä¿®æ”¹åçš„ä»£ç ï¼‰ï¼Œè€Œä¸»è¿›ç¨‹ä¿æŒè¿è¡Œå¹¶é‡æ–° &lt;code&gt;fork&lt;/code&gt; æ–°çš„ Worker è¿›ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹&lt;strong&gt;éå¸¸å¿«é€Ÿ&lt;/strong&gt;ï¼Œç”¨æˆ·å‡ ä¹æ„ŸçŸ¥ä¸åˆ°æœåŠ¡ä¸­æ–­ï¼Œå®ç°äº†â€œçƒ­æ›´æ–°â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;é«˜æ€§èƒ½å…³é”®ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¸¸é©»å†…å­˜ï¼š&lt;/strong&gt; æœ€å¤§çš„ä¼˜åŠ¿ã€‚æ¡†æ¶æ ¸å¿ƒã€ä¸šåŠ¡ä»£ç ã€é…ç½®ç­‰åœ¨ Worker è¿›ç¨‹å¯åŠ¨æ—¶åŠ è½½ä¸€æ¬¡ï¼Œé©»ç•™åœ¨å†…å­˜ä¸­ã€‚å¤„ç†åç»­è¯·æ±‚æ—¶&lt;strong&gt;æ— éœ€é‡å¤åˆå§‹åŒ–æ¡†æ¶ã€åŠ è½½æ ¸å¿ƒæ–‡ä»¶ã€è¿æ¥æ•°æ®åº“ï¼ˆå¦‚æœè¿æ¥æ± ç®¡ç†å¾—å½“ï¼‰&lt;/strong&gt;ï¼Œæå¤§å‡å°‘äº†å¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶é©±åŠ¨ &amp;amp; éé˜»å¡ï¼š&lt;/strong&gt; é«˜æ•ˆå¤„ç†é«˜å¹¶å‘è¿æ¥ï¼Œå°¤å…¶é€‚åˆ I/O å¯†é›†å‹åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è½»é‡çº§ï¼š&lt;/strong&gt; æ¡†æ¶æœ¬èº«ä»£ç é‡å°‘ï¼ŒæŠ½è±¡å±‚è–„ï¼Œå¼€é”€å°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“ webman åŸç†ï¼š&lt;/strong&gt; åˆ©ç”¨ Workerman çš„äº‹ä»¶é©±åŠ¨ã€éé˜»å¡ I/O å’Œå¤šè¿›ç¨‹æ¨¡å‹æä¾›é«˜æ€§èƒ½ç½‘ç»œåŸºç¡€ã€‚webman åœ¨å…¶ä¸Šæ„å»ºäº†ä¸€ä¸ªç¬¦åˆç°ä»£ PHP å¼€å‘è§„èŒƒï¼ˆPSRï¼‰çš„è½»é‡çº§ Web æ¡†æ¶ï¼Œå¹¶é€šè¿‡æ–‡ä»¶ç›‘æ§å®ç°äº†ä¾¿æ·çš„çƒ­æ›´æ–°ã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå¸¸é©»å†…å­˜å¸¦æ¥çš„æ€§èƒ½æå‡å’Œ Workerman çš„ç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-Hyperf-åº•å±‚åŸç†&#34;&gt;&lt;a href=&#34;#2-Hyperf-åº•å±‚åŸç†&#34; class=&#34;headerlink&#34; title=&#34;2. Hyperf åº•å±‚åŸç†&#34;&gt;&lt;/a&gt;2. Hyperf åº•å±‚åŸç†&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Hyperf&lt;/code&gt; æ˜¯ä¸€ä¸ª &lt;strong&gt;é«˜æ€§èƒ½ã€é«˜çµæ´»æ€§çš„ä¼ä¸šçº§åç¨‹æ¡†æ¶&lt;/strong&gt;ã€‚å®ƒçš„æ ¸å¿ƒå»ºç«‹åœ¨ &lt;strong&gt;Swoole&lt;/strong&gt; æ‰©å±•ä¹‹ä¸Šï¼Œæ·±åº¦åˆ©ç”¨äº† Swoole æä¾›çš„ &lt;strong&gt;åç¨‹&lt;/strong&gt; èƒ½åŠ›æ¥å®ç°é«˜æ€§èƒ½å’Œé«˜å¹¶å‘ï¼Œå¹¶å¼•å…¥äº†å¤§é‡ Java Spring Cloud ç­‰æ¡†æ¶çš„è®¾è®¡ç†å¿µï¼ˆå¦‚ä¾èµ–æ³¨å…¥ã€AOPã€æ³¨è§£é©±åŠ¨ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ ¸å¿ƒåŸç†å‰–æ-1&#34;&gt;&lt;a href=&#34;#æ ¸å¿ƒåŸç†å‰–æ-1&#34; class=&#34;headerlink&#34; title=&#34;æ ¸å¿ƒåŸç†å‰–æ&#34;&gt;&lt;/a&gt;æ ¸å¿ƒåŸç†å‰–æ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åŸºäº Swooleï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åç¨‹ï¼š&lt;/strong&gt; Swoole çš„æ ¸å¿ƒèƒ½åŠ›ã€‚åç¨‹æ˜¯ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ï¼Œç”±æ¡†æ¶æˆ–è¿è¡Œæ—¶è‡ªèº«è°ƒåº¦ï¼Œåˆ‡æ¢æˆæœ¬æä½ï¼ˆé€šå¸¸åªæœ‰å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼‰ã€‚Hyperf &lt;strong&gt;æ·±åº¦æ‹¥æŠ±åç¨‹&lt;/strong&gt;ï¼Œå‡ ä¹æ‰€æœ‰ç»„ä»¶ï¼ˆHTTP Serverã€Database Clientã€Redis Clientã€RPC Client/Serverã€AMQP ç­‰ï¼‰éƒ½è®¾è®¡ä¸º&lt;strong&gt;åç¨‹å®‰å…¨&lt;/strong&gt;æˆ–&lt;strong&gt;åç¨‹å‹å¥½&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åç¨‹è°ƒåº¦ï¼š&lt;/strong&gt; Swoole æä¾›äº†åç¨‹è°ƒåº¦å™¨ã€‚å½“ä¸€ä¸ªåç¨‹é‡åˆ° I/O æ“ä½œï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ã€ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å†™ï¼‰æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æŒ‚èµ·ï¼ˆ&lt;code&gt;yield&lt;/code&gt;ï¼‰ï¼Œå°† CPU è®©ç»™å…¶ä»–å°±ç»ªçš„åç¨‹ã€‚å½“ I/O æ“ä½œå®Œæˆï¼Œè°ƒåº¦å™¨ä¼šæ¢å¤ï¼ˆ&lt;code&gt;resume&lt;/code&gt;ï¼‰è¯¥åç¨‹ç»§ç»­æ‰§è¡Œã€‚è¿™ä½¿å¾—&lt;strong&gt;å•è¿›ç¨‹å†…å¯ä»¥å¹¶å‘å¤„ç†æˆåƒä¸Šä¸‡ä¸ªè¿æ¥/ä»»åŠ¡&lt;/strong&gt;ï¼Œä¸”ä»£ç é€»è¾‘ä¾ç„¶æ˜¯&lt;strong&gt;é¡ºåºç¼–å†™&lt;/strong&gt;ï¼ˆå¼‚æ­¥å›è°ƒçš„ &lt;code&gt;callback hell&lt;/code&gt; é—®é¢˜å¾—åˆ°æå¤§ç¼“è§£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äº‹ä»¶é©±åŠ¨ï¼š&lt;/strong&gt; åº•å±‚ä»ç„¶æ˜¯äº‹ä»¶é©±åŠ¨ï¼ˆåŸºäº &lt;code&gt;epoll&lt;/code&gt;/&lt;code&gt;kqueue&lt;/code&gt; ç­‰ï¼‰ï¼ŒSwoole çš„äº‹ä»¶å¾ªç¯é©±åŠ¨ç€åç¨‹çš„è°ƒåº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Serverï¼š&lt;/strong&gt; æä¾›é«˜æ€§èƒ½çš„ HTTP Serverã€WebSocket Serverã€TCP/UDP Server ç­‰ã€‚Hyperf ä¸»è¦ä½¿ç”¨ HTTP Serverã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Hyperf åœ¨ Swoole ä¸Šçš„é«˜çº§å°è£…ä¸æ¶æ„ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼ºå¤§çš„ä¾èµ–æ³¨å…¥å®¹å™¨ (DI Container)ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;æ˜¯æ•´ä¸ªæ¡†æ¶çš„åŸºçŸ³ï¼ˆåŸºäº &lt;code&gt;hyperf/di&lt;/code&gt; ç»„ä»¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°äº† &lt;code&gt;PSR-11&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒè‡ªåŠ¨è£…é…ï¼ˆAutowiringï¼‰ã€æ¥å£ç»‘å®šå®ç°ã€æ„é€ å‡½æ•°æ³¨å…¥ã€å±æ€§æ³¨å…¥ã€æ–¹æ³•æ³¨å…¥ã€‚&lt;/li&gt;
&lt;li&gt;ç®¡ç†ç€åº”ç”¨ä¸­å‡ ä¹æ‰€æœ‰å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå•ä¾‹ã€åŸå‹ç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ˜¯ AOP å’Œæ³¨è§£é©±åŠ¨å®ç°çš„åŸºç¡€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³¨è§£é©±åŠ¨å¼€å‘ (Annotation-Driven Development)ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;Hyperf &lt;strong&gt;é‡åº¦ä¾èµ–æ³¨è§£&lt;/strong&gt;æ¥é…ç½®è·¯ç”±ã€å®šä¹‰ä¸­é—´ä»¶ã€å£°æ˜ AOP åˆ‡é¢ã€æ ‡è®°å®šæ—¶ä»»åŠ¡ã€é…ç½®ä¾èµ–æ³¨å…¥ã€å®šä¹‰ RPC æœåŠ¡ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;æ¡†æ¶å¯åŠ¨æ—¶ï¼ˆæˆ–åœ¨ &lt;code&gt;Worker&lt;/code&gt; è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œå–å†³äºæ³¨è§£ä½œç”¨åŸŸï¼‰ï¼Œä¼šé€šè¿‡&lt;strong&gt;åå°„&lt;/strong&gt;æ‰«æä»£ç ï¼Œè§£æç±»ã€æ–¹æ³•ã€å±æ€§ä¸Šçš„æ³¨è§£ï¼Œæ”¶é›†å…ƒæ•°æ®ï¼Œå¹¶åŠ¨æ€ç”Ÿæˆä»£ç†ç±»æˆ–è¿›è¡Œç›¸åº”çš„é…ç½®æ³¨å†Œï¼ˆå¦‚å°†è·¯ç”±ä¿¡æ¯æ³¨å†Œåˆ°è·¯ç”±å™¨ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æå¤§æé«˜äº†å¼€å‘æ•ˆç‡å’Œä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ï¼ˆé…ç½®ç´§è´´ä»£ç ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¢å‘åˆ‡é¢ç¼–ç¨‹ (AOP)ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;åŸºäº DI å®¹å™¨å’ŒåŠ¨æ€ä»£ç†å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;å…è®¸å¼€å‘è€…å®šä¹‰â€œåˆ‡é¢â€ï¼ˆ&lt;code&gt;Aspect&lt;/code&gt;ï¼‰ç±»ï¼Œå…¶ä¸­åŒ…å«â€œé€šçŸ¥â€ï¼ˆ&lt;code&gt;Advice&lt;/code&gt; - å¦‚ &lt;code&gt;@Before&lt;/code&gt;, &lt;code&gt;@After&lt;/code&gt;, &lt;code&gt;@Around&lt;/code&gt;ï¼‰å’Œâ€œåˆ‡å…¥ç‚¹â€ï¼ˆ&lt;code&gt;Pointcut&lt;/code&gt; - é€šè¿‡æ³¨è§£æˆ–è¡¨è¾¾å¼æŒ‡å®šå“ªäº›ç±»çš„å“ªäº›æ–¹æ³•éœ€è¦è¢«åˆ‡å…¥ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ¡†æ¶åœ¨è¿è¡Œæ—¶ï¼Œä¼šä¸ºåŒ¹é… &lt;code&gt;Pointcut&lt;/code&gt; çš„ç›®æ ‡ç±»&lt;strong&gt;ç”Ÿæˆä»£ç†ç±»&lt;/strong&gt;ã€‚å½“è°ƒç”¨ç›®æ ‡æ–¹æ³•æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨ä»£ç†ç±»çš„æ–¹æ³•ï¼Œä»£ç†ç±»ä¼šæŒ‰é¡ºåºæ‰§è¡Œç›¸å…³çš„ &lt;code&gt;Advice&lt;/code&gt; é€»è¾‘ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ã€äº‹åŠ¡ç®¡ç†ã€ç¼“å­˜å¤„ç†ã€æƒé™æ ¡éªŒç­‰ï¼‰ï¼Œç„¶åå†è°ƒç”¨æˆ–ç¯ç»•è°ƒç”¨åŸå§‹ç›®æ ‡æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°äº†æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCross-Cutting Concernsï¼‰ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„è§£è€¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åç¨‹ä¸Šä¸‹æ–‡ç®¡ç†ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;ç”±äºåç¨‹æ˜¯è½»é‡çº§ä¸”å¹¶å‘æ‰§è¡Œçš„ï¼Œä¼ ç»Ÿçš„å…¨å±€å˜é‡ã€å•ä¾‹æ¨¡å¼åœ¨åç¨‹ç¯å¢ƒä¸‹å¯èƒ½ä¸å®‰å…¨ï¼ˆä¸€ä¸ªåç¨‹ä¿®æ”¹ä¼šå½±å“å…¶ä»–åç¨‹ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Hyperf æä¾›äº† &lt;code&gt;hyperf/context&lt;/code&gt; ç»„ä»¶ï¼Œåˆ©ç”¨ Swoole çš„åç¨‹ API (&lt;code&gt;Swoole\Coroutine::getContext()&lt;/code&gt;) å®ç°&lt;strong&gt;åç¨‹çº§åˆ«çš„ä¸Šä¸‹æ–‡éš”ç¦»&lt;/strong&gt;ã€‚&lt;code&gt;Context&lt;/code&gt; ç±»å…è®¸å®‰å…¨åœ°åœ¨åŒä¸€ä¸ªåç¨‹å†…å­˜å‚¨å’Œè·å–æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥æ± ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;ä¸ºæ˜‚è´µçš„èµ„æºï¼ˆå¦‚æ•°æ®åº“è¿æ¥ã€Redis è¿æ¥ã€HTTP å®¢æˆ·ç«¯è¿æ¥ï¼‰æä¾›æ± åŒ–ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;å½“åç¨‹éœ€è¦èµ„æºæ—¶ï¼Œä»æ± ä¸­è·å–ï¼›ä½¿ç”¨å®Œæ¯•åï¼Œå½’è¿˜åˆ°æ± ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯è¿æ¥çš„å¼€é”€&lt;/strong&gt;ï¼Œæå¤§æå‡æ€§èƒ½ï¼Œå¹¶ä¸”&lt;strong&gt;å¤©ç„¶é€‚é…åç¨‹æ¨¡å‹&lt;/strong&gt;ï¼ˆæ¯ä¸ªåç¨‹ä½¿ç”¨ç‹¬ç«‹çš„è¿æ¥ï¼Œé¿å…å¹¶å‘é—®é¢˜ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»„ä»¶åŒ–ä¸å¼‚æ­¥éé˜»å¡å®¢æˆ·ç«¯ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;Hyperf æä¾›äº†å¤§é‡å¼€ç®±å³ç”¨çš„é«˜æ€§èƒ½åç¨‹ç»„ä»¶ï¼šæ•°æ®åº“ (&lt;code&gt;hyperf/database&lt;/code&gt; - åŸºäº Eloquent/Doctrine, å¸¦è¿æ¥æ± )ã€Redis (&lt;code&gt;hyperf/redis&lt;/code&gt; - å¸¦è¿æ¥æ± )ã€ç¼“å­˜ã€é˜Ÿåˆ— (&lt;code&gt;hyperf/async-queue&lt;/code&gt;)ã€RPC (&lt;code&gt;hyperf/json-rpc&lt;/code&gt;)ã€æœåŠ¡æ³¨å†Œä¸å‘ç° (&lt;code&gt;hyperf/service-governance&lt;/code&gt;)ã€é…ç½®ä¸­å¿ƒ (&lt;code&gt;hyperf/config&lt;/code&gt;)ã€åˆ†å¸ƒå¼è¿½è¸ª (&lt;code&gt;hyperf/tracer&lt;/code&gt;)ã€é™æµç†”æ–­ (&lt;code&gt;hyperf/rate-limit&lt;/code&gt;, &lt;code&gt;hyperf/circuit-breaker&lt;/code&gt;)ã€GraphQLã€gRPCã€AMQPã€WebSocket ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;è¿™äº›å®¢æˆ·ç«¯åº•å±‚éƒ½ä½¿ç”¨ Swoole æä¾›çš„åç¨‹ Client æˆ–è‡ªè¡Œå®ç°çš„åç¨‹åŒ– Clientï¼Œç¡®ä¿æ‰€æœ‰ I/O æ“ä½œéƒ½æ˜¯&lt;strong&gt;å¼‚æ­¥éé˜»å¡&lt;/strong&gt;çš„ï¼Œèƒ½å¤Ÿè¢«åç¨‹è°ƒåº¦å™¨æŒ‚èµ·å’Œæ¢å¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿›ç¨‹æ¨¡å‹ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸»è¿›ç¨‹ (Master)ï¼š&lt;/strong&gt; ç®¡ç†æœåŠ¡ç”Ÿå‘½å‘¨æœŸã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Manager è¿›ç¨‹ï¼š&lt;/strong&gt; ç®¡ç† Worker/TaskWorker è¿›ç¨‹ï¼ˆåˆ›å»ºã€å›æ”¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Worker è¿›ç¨‹ï¼š&lt;/strong&gt; å¤„ç†ç½‘ç»œè¯·æ±‚ï¼ˆHTTP, WebSocket, TCP ç­‰ï¼‰ã€‚&lt;strong&gt;æ¯ä¸ª Worker è¿›ç¨‹æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åç¨‹è°ƒåº¦å•å…ƒ&lt;/strong&gt;ï¼Œå†…éƒ¨å¯ä»¥å¹¶å‘è¿è¡Œå¤§é‡åç¨‹å¤„ç†è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TaskWorker è¿›ç¨‹ (å¯é€‰)ï¼š&lt;/strong&gt; ä¸“é—¨å¤„ç†è€—æ—¶è¾ƒé•¿çš„åŒæ­¥é˜»å¡ä»»åŠ¡ï¼ˆå¦‚æŸäº›å¤æ‚è®¡ç®—ã€è°ƒç”¨ä¸æ”¯æŒåç¨‹çš„åº“ï¼‰ã€‚Worker è¿›ç¨‹é€šè¿‡ &lt;code&gt;task()&lt;/code&gt; æŠ•é€’ä»»åŠ¡åˆ° TaskWorkerã€‚Hyperf ä¹Ÿæä¾›äº†åŸºäºæ¶ˆæ¯é˜Ÿåˆ— (&lt;code&gt;async-queue&lt;/code&gt;) çš„å¼‚æ­¥ä»»åŠ¡å¤„ç†æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çƒ­æ›´æ–°ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;åŸç†ç±»ä¼¼ webman/Workermanï¼Œä½¿ç”¨ &lt;code&gt;inotify&lt;/code&gt;/&lt;code&gt;kqueue&lt;/code&gt; ç›‘æ§æ–‡ä»¶å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;å‘ Worker è¿›ç¨‹å‘é€ä¿¡å· (&lt;code&gt;SIGUSR1&lt;/code&gt; æˆ– &lt;code&gt;SIGTERM&lt;/code&gt;) é€šçŸ¥å…¶ä¼˜é›…é‡å¯ï¼ˆå®Œæˆå½“å‰è¯·æ±‚åé€€å‡ºï¼Œä¸»è¿›ç¨‹é‡æ–°æ‹‰èµ·æ–° Worker åŠ è½½æ–°ä»£ç ï¼‰ã€‚Hyperf çš„ DI å®¹å™¨å’Œä»£ç†ç±»ç”Ÿæˆæœºåˆ¶ä½¿å¾—çƒ­æ›´æ–°ç›¸å¯¹å¯é ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“ Hyperf åŸç†ï¼š&lt;/strong&gt; æ·±åº¦é›†æˆ Swoole åç¨‹ï¼Œæ„å»ºäº†ä¸€ä¸ªé«˜æ€§èƒ½ã€ä¼ä¸šçº§çš„å¾®æœåŠ¡æ¡†æ¶ã€‚å…¶æ ¸å¿ƒåœ¨äºå¼ºå¤§çš„ä¾èµ–æ³¨å…¥å®¹å™¨ã€åŸºäºæ³¨è§£çš„å…ƒç¼–ç¨‹å’Œé…ç½®ã€AOP è§£è€¦æ¨ªåˆ‡å…³æ³¨ç‚¹ã€å®Œå–„çš„åç¨‹ä¸Šä¸‹æ–‡å’Œè¿æ¥æ± ç®¡ç†ï¼Œä»¥åŠå¤§é‡å¼€ç®±å³ç”¨çš„é«˜æ€§èƒ½åç¨‹ç»„ä»¶ã€‚å®ƒæ›´é€‚åˆæ„å»ºå¤æ‚çš„ã€åˆ†å¸ƒå¼çš„é«˜å¹¶å‘ç³»ç»Ÿï¼ˆå¦‚å¾®æœåŠ¡æ¶æ„ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-PHP-æ³¨è§£-Annotations-åŸç†&#34;&gt;&lt;a href=&#34;#3-PHP-æ³¨è§£-Annotations-åŸç†&#34; class=&#34;headerlink&#34; title=&#34;3. PHP æ³¨è§£ (Annotations) åŸç†&#34;&gt;&lt;/a&gt;3. PHP æ³¨è§£ (Annotations) åŸç†&lt;/h2&gt;&lt;p&gt;æ³¨è§£ï¼ˆPHP 8 ä¹‹å‰å¸¸ç§°ä¸º DocBlock Annotationsï¼ŒPHP 8 å¼•å…¥äº†åŸç”Ÿ Attributesï¼‰æ˜¯ä¸€ç§&lt;strong&gt;å…ƒæ•°æ®&lt;/strong&gt;æœºåˆ¶ã€‚å®ƒå…è®¸ä½ å°†ç»“æ„åŒ–çš„ä¿¡æ¯ï¼ˆå…ƒæ•°æ®ï¼‰é™„åŠ åˆ°ä»£ç å…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ã€å±æ€§ã€å‡½æ•°ã€å‚æ•°ï¼‰ä¸Šã€‚è¿™äº›ä¿¡æ¯æœ¬èº«&lt;strong&gt;ä¸ä¼šç›´æ¥å½±å“ä»£ç çš„é€»è¾‘æ‰§è¡Œ&lt;/strong&gt;ï¼Œä½†å¯ä»¥è¢«&lt;strong&gt;å¤–éƒ¨å·¥å…·ï¼ˆå¦‚æ¡†æ¶ã€åº“ã€IDEã€æ–‡æ¡£ç”Ÿæˆå™¨ï¼‰åœ¨è¿è¡Œæ—¶æˆ–ç¼–è¯‘æ—¶è¯»å–å¹¶åˆ©ç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®ç°åŸç†-é‡ç‚¹åœ¨æ¡†æ¶å¦‚ä½•åˆ©ç”¨&#34;&gt;&lt;a href=&#34;#å®ç°åŸç†-é‡ç‚¹åœ¨æ¡†æ¶å¦‚ä½•åˆ©ç”¨&#34; class=&#34;headerlink&#34; title=&#34;å®ç°åŸç† (é‡ç‚¹åœ¨æ¡†æ¶å¦‚ä½•åˆ©ç”¨)&#34;&gt;&lt;/a&gt;å®ç°åŸç† (é‡ç‚¹åœ¨æ¡†æ¶å¦‚ä½•åˆ©ç”¨)&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;PHP 8 ä¹‹å‰ (DocBlock Annotations)ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨ä½ç½®ï¼š&lt;/strong&gt; å…ƒæ•°æ®ä»¥ç‰¹å®šæ ¼å¼çš„æ³¨é‡Šå—ï¼ˆ&lt;code&gt;/** ... */&lt;/code&gt;ï¼‰å½¢å¼å†™åœ¨ä»£ç å…ƒç´ çš„ä¸Šæ–¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¼å¼ï¼š&lt;/strong&gt; éµå¾ª PHPDoc æ ‡å‡†ï¼Œä½†æ¡†æ¶ä¼šå®šä¹‰è‡ªå·±çš„ç‰¹æ®Šæ ‡ç­¾ï¼ˆå¦‚ &lt;code&gt;@Route&lt;/code&gt;, &lt;code&gt;@Inject&lt;/code&gt;, &lt;code&gt;@Cacheable&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£æï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åå°„ (Reflection)ï¼š&lt;/strong&gt; æ¡†æ¶åˆ©ç”¨ PHP çš„åå°„ API (&lt;code&gt;ReflectionClass&lt;/code&gt;, &lt;code&gt;ReflectionMethod&lt;/code&gt;, &lt;code&gt;ReflectionProperty&lt;/code&gt;) è·å–ä»£ç å…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ã€å±æ€§ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·å– DocCommentï¼š&lt;/strong&gt; é€šè¿‡åå°„å¯¹è±¡çš„ &lt;code&gt;getDocComment()&lt;/code&gt; æ–¹æ³•è·å–è¯¥å…ƒç´ ä¸Šçš„æ–‡æ¡£æ³¨é‡Šå­—ç¬¦ä¸²ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£æå­—ç¬¦ä¸²ï¼š&lt;/strong&gt; æ¡†æ¶éœ€è¦ç¼–å†™è‡ªå·±çš„è§£æå™¨ï¼ˆæˆ–ä½¿ç”¨åº“å¦‚ &lt;code&gt;doctrine/annotations&lt;/code&gt;ï¼‰æ¥è§£æè¿™ä¸ªå­—ç¬¦ä¸²ã€‚è§£æå™¨ï¼š&lt;ul&gt;
&lt;li&gt;è¯†åˆ«ä»¥ &lt;code&gt;@&lt;/code&gt; å¼€å¤´çš„æ ‡è®°ï¼ˆTagsï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è§£ææ ‡è®°åçš„å‚æ•°ï¼ˆå¯èƒ½æ˜¯ç®€å•çš„å­—ç¬¦ä¸²ã€é”®å€¼å¯¹ã€æ•°ç»„ã€ç”šè‡³åµŒå¥—ç»“æ„ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å°†è§£æç»“æœè½¬æ¢ä¸ºç»“æ„åŒ–çš„æ•°æ®ï¼ˆé€šå¸¸æ˜¯æ•°ç»„æˆ–ç‰¹å®šçš„æ³¨è§£å¯¹è±¡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤„ç†ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯åŠ¨æ—¶æ‰«æï¼š&lt;/strong&gt; æ¡†æ¶é€šå¸¸åœ¨å¯åŠ¨é˜¶æ®µï¼ˆæˆ–é¦–æ¬¡è¯·æ±‚æ—¶ï¼‰æ‰«ææŒ‡å®šçš„ç›®å½•æˆ–å‘½åç©ºé—´ä¸‹çš„æ‰€æœ‰ PHP æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åå°„ä¸è§£æï¼š&lt;/strong&gt; å¯¹æ‰«æåˆ°çš„ç±»ã€æ–¹æ³•ã€å±æ€§ä½¿ç”¨åå°„è·å– DocComment å¹¶è¿›è¡Œè§£æã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…ƒæ•°æ®æ”¶é›†ï¼š&lt;/strong&gt; å°†è§£æå¾—åˆ°çš„ç»“æ„åŒ–æ³¨è§£ä¿¡æ¯æ”¶é›†å¹¶å­˜å‚¨èµ·æ¥ï¼ˆä¾‹å¦‚ï¼Œå°† &lt;code&gt;@Route&lt;/code&gt; ä¿¡æ¯æ³¨å†Œåˆ°è·¯ç”±è¡¨ä¸­ï¼›å°† &lt;code&gt;@Inject&lt;/code&gt; ä¿¡æ¯ç”¨äº DI å®¹å™¨çš„è‡ªåŠ¨è£…é…é…ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿è¡Œæ—¶åˆ©ç”¨ï¼š&lt;/strong&gt; åœ¨å¤„ç†è¯·æ±‚æˆ–æ‰§è¡Œç‰¹å®šé€»è¾‘æ—¶ï¼Œæ¡†æ¶ä¼šæ ¹æ®ä¹‹å‰æ”¶é›†çš„æ³¨è§£å…ƒæ•°æ®æ¥æŒ‡å¯¼è¡Œä¸ºï¼ˆå¦‚æ ¹æ®è·¯ç”±æ³¨è§£åŒ¹é…æ§åˆ¶å™¨æ–¹æ³•ï¼›æ ¹æ®ç¼“å­˜æ³¨è§£å†³å®šæ˜¯å¦ä»ç¼“å­˜è¯»å–æ•°æ®ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;PHP 8 åŠä¹‹å (åŸç”Ÿ Attributes)ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¯­è¨€çº§æ”¯æŒï¼š&lt;/strong&gt; PHP 8 å°†æ³¨è§£ä½œä¸º&lt;strong&gt;ä¸€çº§è¯­è¨€ç‰¹æ€§&lt;/strong&gt;å¼•å…¥ï¼Œç§°ä¸º &lt;strong&gt;Attributes&lt;/strong&gt;ã€‚å®ƒä»¬ä¸å†æ˜¯æ³¨é‡Šï¼Œè€Œæ˜¯&lt;strong&gt;æ­£å¼çš„è¯­æ³•ç»“æ„&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®šä¹‰ï¼š&lt;/strong&gt; ä½¿ç”¨ &lt;code&gt;#[...]&lt;/code&gt; è¯­æ³•å®šä¹‰ã€‚Attribute æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ PHP ç±»ï¼ˆé€šå¸¸ç»§æ‰¿è‡ª &lt;code&gt;\Attribute&lt;/code&gt;ï¼‰ï¼Œå¯ä»¥æœ‰è‡ªå·±çš„æ„é€ å‡½æ•°ã€å±æ€§å’Œæ–¹æ³•ï¼Œç”¨äºå®šä¹‰å’ŒéªŒè¯å…ƒæ•°æ®çš„ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åå°„è·å–ï¼š&lt;/strong&gt; åå°„ API æ–°å¢äº† &lt;code&gt;getAttributes()&lt;/code&gt; æ–¹æ³•ï¼ˆä¾‹å¦‚ &lt;code&gt;ReflectionClass::getAttributes()&lt;/code&gt;ï¼‰ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ª &lt;code&gt;ReflectionAttribute&lt;/code&gt; å¯¹è±¡æ•°ç»„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®ä¾‹åŒ–ï¼š&lt;/strong&gt; å¯ä»¥é€šè¿‡ &lt;code&gt;ReflectionAttribute::newInstance()&lt;/code&gt; æ–¹æ³•å®ä¾‹åŒ– Attribute ç±»å¯¹è±¡ï¼ˆå¦‚æœå®šä¹‰äº†ç±»ï¼‰ï¼Œä¼ å…¥çš„å‚æ•°å°±æ˜¯åœ¨ Attribute å®šä¹‰æ—¶æä¾›çš„å‚æ•°ã€‚è¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ª&lt;strong&gt;å¼ºç±»å‹çš„ã€ç»“æ„åŒ–çš„æ³¨è§£å¯¹è±¡&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½ï¼š&lt;/strong&gt; åŸç”Ÿè¯­æ³•ï¼Œè§£æé€Ÿåº¦æ¯”è§£æ DocComment å­—ç¬¦ä¸²å¿«å¾—å¤šã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éªŒè¯ï¼š&lt;/strong&gt; Attribute ç±»å¯ä»¥å®šä¹‰æ„é€ å‡½æ•°å‚æ•°ç±»å‹ï¼ŒPHP å¼•æ“ä¼šåœ¨å®šä¹‰æ—¶å°±è¿›è¡Œå‚æ•°ç±»å‹æ£€æŸ¥ï¼Œé¿å…è¿è¡Œæ—¶è§£æé”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»“æ„æ¸…æ™°ï¼š&lt;/strong&gt; å¼ºç±»å‹å¯¹è±¡æ¯”è§£æå­—ç¬¦ä¸²å¾—åˆ°çš„æ•°ç»„æ›´æ¸…æ™°ã€æ›´å®‰å…¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IDE æ”¯æŒï¼š&lt;/strong&gt; IDE èƒ½æ›´å¥½åœ°è¯†åˆ«ã€è‡ªåŠ¨è¡¥å…¨å’Œæ£€æŸ¥ Attributesã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¡†æ¶å¤„ç†æµç¨‹ (ç±»ä¼¼ DocBlockï¼Œä½†æ›´é«˜æ•ˆå®‰å…¨)ï¼š&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;å¯åŠ¨æ‰«æç›®å½•/å‘½åç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åå°„ API è·å–ç±»/æ–¹æ³•/å±æ€§ã€‚&lt;/li&gt;
&lt;li&gt;è°ƒç”¨ &lt;code&gt;getAttributes()&lt;/code&gt; è·å–é™„åŠ çš„ Attribute åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;newInstance()&lt;/code&gt; å®ä¾‹åŒ–éœ€è¦çš„ Attribute å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;æ”¶é›†è¿™äº› Attribute å¯¹è±¡åŒ…å«çš„å…ƒæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®å…ƒæ•°æ®é…ç½®æ¡†æ¶ï¼ˆæ³¨å†Œè·¯ç”±ã€é…ç½® DIã€å®šä¹‰ AOP åˆ‡å…¥ç‚¹ç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“æ³¨è§£åŸç†ï¼š&lt;/strong&gt; æ— è®ºæ˜¯æ—§çš„ DocBlock è¿˜æ˜¯æ–°çš„åŸç”Ÿ Attributeï¼Œæ³¨è§£çš„æœ¬è´¨éƒ½æ˜¯&lt;strong&gt;é™„åŠ åœ¨ä»£ç å…ƒç´ ä¸Šçš„å…ƒæ•°æ®&lt;/strong&gt;ã€‚æ¡†æ¶é€šè¿‡ &lt;strong&gt;åå°„æœºåˆ¶&lt;/strong&gt; åœ¨&lt;strong&gt;å¯åŠ¨é˜¶æ®µï¼ˆæˆ–æŒ‰éœ€ï¼‰&lt;/strong&gt; æ‰«æä»£ç ï¼Œ&lt;strong&gt;è§£æ&lt;/strong&gt;è¿™äº›å…ƒæ•°æ®ï¼Œå°†å…¶è½¬æ¢ä¸º&lt;strong&gt;ç»“æ„åŒ–ä¿¡æ¯&lt;/strong&gt;ï¼Œå¹¶&lt;strong&gt;åˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥åŠ¨æ€é…ç½®æ¡†æ¶è¡Œä¸ºã€ç”Ÿæˆä»£ç†ä»£ç ï¼ˆAOPï¼‰æˆ–æŒ‡å¯¼è¿è¡Œæ—¶é€»è¾‘&lt;/strong&gt;ã€‚åŸç”Ÿ Attributes åœ¨æ€§èƒ½ã€ç±»å‹å®‰å…¨æ€§å’Œå¼€å‘ä½“éªŒä¸Šå¸¦æ¥äº†æ˜¾è‘—æå‡ã€‚åƒ Hyperf è¿™ç±»ç°ä»£æ¡†æ¶å·²å…¨é¢è½¬å‘ä½¿ç”¨åŸç”Ÿ Attributesã€‚&lt;/p&gt;
&lt;h2 id=&#34;webman-vs-Hyperf-æ ¸å¿ƒåŸç†å¯¹æ¯”æ‘˜è¦&#34;&gt;&lt;a href=&#34;#webman-vs-Hyperf-æ ¸å¿ƒåŸç†å¯¹æ¯”æ‘˜è¦&#34; class=&#34;headerlink&#34; title=&#34;webman vs Hyperf æ ¸å¿ƒåŸç†å¯¹æ¯”æ‘˜è¦&#34;&gt;&lt;/a&gt;webman vs Hyperf æ ¸å¿ƒåŸç†å¯¹æ¯”æ‘˜è¦&lt;/h2&gt;&lt;div class=&#34;table-container&#34;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç‰¹æ€§&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;webman&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Hyperf&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æ ¸å¿ƒå¼•æ“&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Workerman (äº‹ä»¶é©±åŠ¨, å¤šè¿›ç¨‹)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Swoole (äº‹ä»¶é©±åŠ¨ + &lt;strong&gt;åç¨‹&lt;/strong&gt;, å¤šè¿›ç¨‹)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;ç¼–ç¨‹æ¨¡å‹&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;äº‹ä»¶å›è°ƒ + ä¼ ç»ŸåŒæ­¥é€»è¾‘ (éœ€è‡ªè¡Œç®¡ç†é˜»å¡I/O)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;åç¨‹&lt;/strong&gt; (åŒæ­¥å†™æ³•, å¼‚æ­¥éé˜»å¡I/O)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æ€§èƒ½å…³é”®&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸¸é©»å†…å­˜ (å‡å°‘åˆå§‹åŒ–å¼€é”€)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸¸é©»å†…å­˜ + &lt;strong&gt;åç¨‹&lt;/strong&gt; (é«˜å¹¶å‘, ä½èµ„æºæ¶ˆè€—)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;è¿æ¥ç®¡ç†&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éœ€æ‰‹åŠ¨ç®¡ç†æˆ–å€ŸåŠ©æ’ä»¶/è¿æ¥æ± &lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;å†…ç½®åç¨‹è¿æ¥æ± &lt;/strong&gt; (DB, Redis, HTTP Clientç­‰)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æ ¸å¿ƒæœºåˆ¶&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è½»é‡è·¯ç”±ã€ä¸­é—´ä»¶ã€PSR å°è£…&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;å¼ºå¤§çš„DIå®¹å™¨&lt;/strong&gt;ã€&lt;strong&gt;æ³¨è§£é©±åŠ¨&lt;/strong&gt;ã€&lt;strong&gt;AOP&lt;/strong&gt;ã€ä¸°å¯Œç»„ä»¶åŒ–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;å¹¶å‘èƒ½åŠ›&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é«˜ (å¤šè¿›ç¨‹)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;æé«˜&lt;/strong&gt; (å¤šè¿›ç¨‹ + å•è¿›ç¨‹å†…é«˜åç¨‹å¹¶å‘)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;å¤æ‚åº¦&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;è½»é‡ç®€å•&lt;/strong&gt;ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;åŠŸèƒ½å¼ºå¤§å¤æ‚&lt;/strong&gt;ï¼Œå­¦ä¹ æ›²çº¿è¾ƒé™¡ (éœ€ç†è§£DI, AOP, åç¨‹)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;å®šä½&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é«˜æ€§èƒ½ HTTP API / ç®€å•å®æ—¶åº”ç”¨&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼ä¸šçº§ã€å¾®æœåŠ¡ã€åˆ†å¸ƒå¼ç³»ç»Ÿã€å¤æ‚é«˜å¹¶å‘åº”ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;çƒ­æ›´æ–°&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ”¯æŒ (åŸºäº inotify/kqueue)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ”¯æŒ (åŸºäº inotify/kqueue)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;strong&gt;ä»£è¡¨æŠ€æœ¯&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ–‡ä»¶ç›‘å¬ã€Workerman API&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Attributesã€AOPã€ä¾èµ–æ³¨å…¥ã€è¿æ¥æ± ã€æœåŠ¡æ²»ç†&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
</content>
        <category term="php" />
        <category term="hyperf" />
        <category term="webman" />
        <updated>2025-05-26T13:55:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/04/11/python-backstage-project/</id>
        <title>pythonåç«¯ç®¡ç†æ¡†æ¶æœ‰å“ªäº›</title>
        <link rel="alternate" href="https://erik.xyz/2025/04/11/python-backstage-project/"/>
        <content type="html">&lt;p&gt;Python åç«¯ç®¡ç†æ¡†æ¶ä¸»è¦ç”¨äºå¿«é€Ÿæ„å»ºåå°ç®¡ç†ç³»ç»Ÿï¼ˆå¦‚æ•°æ®ç®¡ç†ã€ç”¨æˆ·æƒé™æ§åˆ¶ç­‰ï¼‰ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„ Python åç«¯ç®¡ç†æ¡†æ¶åˆ†ç±»åŠä»£è¡¨å·¥å…·ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;1-åŸºäº-Django-çš„æ¡†æ¶&#34;&gt;&lt;a href=&#34;#1-åŸºäº-Django-çš„æ¡†æ¶&#34; class=&#34;headerlink&#34; title=&#34;1. åŸºäº Django çš„æ¡†æ¶&#34;&gt;&lt;/a&gt;&lt;strong&gt;1. åŸºäº Django çš„æ¡†æ¶&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Django Admin&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;Django å†…ç½®çš„ç®¡ç†åå°ï¼Œå¼€ç®±å³ç”¨ã€‚  &lt;/li&gt;
&lt;li&gt;æ”¯æŒ ORM è‡ªåŠ¨ç”Ÿæˆ CRUD ç•Œé¢ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šé»˜è®¤ç•Œé¢è¾ƒç®€é™‹ï¼ˆå¯é€šè¿‡æ’ä»¶ç¾åŒ–ï¼‰ã€‚  &lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ç¤ºä¾‹ï¼šæ³¨å†Œæ¨¡å‹åˆ° Admin&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; django.contrib &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; .models &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; Product&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;@admin.register(&lt;span class=&#34;params&#34;&gt;Product&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;ProductAdmin&lt;/span&gt;(admin.ModelAdmin):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    list_display = (&lt;span class=&#34;string&#34;&gt;&amp;#x27;name&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;price&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Django Jet&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;ç°ä»£åŒ–çš„ Django Admin ä¸»é¢˜ï¼ˆæ”¯æŒå“åº”å¼å¸ƒå±€ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Django Grappelli&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;ç»å…¸çš„ç¾åŒ–æ‰©å±•ï¼Œæä¾›æ›´å‹å¥½çš„ UIã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Django Suit&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;å¦ä¸€ä¸ªæµè¡Œçš„ Admin ä¸»é¢˜ï¼ˆéœ€ä»˜è´¹ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;2-åŸºäº-Flask-çš„æ¡†æ¶&#34;&gt;&lt;a href=&#34;#2-åŸºäº-Flask-çš„æ¡†æ¶&#34; class=&#34;headerlink&#34; title=&#34;2. åŸºäº Flask çš„æ¡†æ¶&#34;&gt;&lt;/a&gt;&lt;strong&gt;2. åŸºäº Flask çš„æ¡†æ¶&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Flask-Admin&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è½»é‡çº§ã€é«˜åº¦å¯å®šåˆ¶ï¼Œæ”¯æŒå¤šç§æ•°æ®åº“åç«¯ï¼ˆSQLAlchemyã€MongoDB ç­‰ï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šçµæ´»æ€§é«˜ï¼Œé€‚åˆä¸­å¤§å‹é¡¹ç›®ã€‚  &lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ç¤ºä¾‹ï¼šé›†æˆ Flask-Admin&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; flask &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; Flask&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; flask_sqlalchemy &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; SQLAlchemy&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; flask_admin &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; Admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; flask_admin.contrib.sqla &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; ModelView&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;app = Flask(__name__)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;db = SQLAlchemy(app)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;admin = Admin(app, name=&lt;span class=&#34;string&#34;&gt;&amp;#x27;ç®¡ç†åå°&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Product&lt;/span&gt;(db.Model):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;id&lt;/span&gt; = db.Column(db.Integer, primary_key=&lt;span class=&#34;literal&#34;&gt;True&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    name = db.Column(db.String(&lt;span class=&#34;number&#34;&gt;80&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;admin.add_view(ModelView(Product, db.session))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Flask-AppBuilder&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿«é€Ÿç”Ÿæˆ CRUD ç•Œé¢ï¼Œå†…ç½® RBAC æƒé™æ§åˆ¶ã€‚  &lt;/li&gt;
&lt;li&gt;æä¾›å›¾è¡¨ã€è¡¨å•ç”Ÿæˆç­‰é«˜çº§åŠŸèƒ½ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-ç‹¬ç«‹-é€šç”¨æ¡†æ¶&#34;&gt;&lt;a href=&#34;#3-ç‹¬ç«‹-é€šç”¨æ¡†æ¶&#34; class=&#34;headerlink&#34; title=&#34;3. ç‹¬ç«‹/é€šç”¨æ¡†æ¶&#34;&gt;&lt;/a&gt;&lt;strong&gt;3. ç‹¬ç«‹/é€šç”¨æ¡†æ¶&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SQLAlchemy-Admin&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;åŸºäº SQLAlchemy çš„ç‹¬ç«‹ç®¡ç†ç•Œé¢ï¼Œä¸ä¾èµ– Web æ¡†æ¶ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WTForms-Alchemy&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨ä» SQLAlchemy æ¨¡å‹ç”Ÿæˆè¡¨å•ï¼ˆå¸¸ä¸ Flask-Admin é…åˆä½¿ç”¨ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;4-åŸºäº-FastAPI-çš„æ¡†æ¶&#34;&gt;&lt;a href=&#34;#4-åŸºäº-FastAPI-çš„æ¡†æ¶&#34; class=&#34;headerlink&#34; title=&#34;4. åŸºäº FastAPI çš„æ¡†æ¶&#34;&gt;&lt;/a&gt;&lt;strong&gt;4. åŸºäº FastAPI çš„æ¡†æ¶&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;FastAPI Admin&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼‚æ­¥æ”¯æŒï¼Œé€‚åˆé«˜æ€§èƒ½åœºæ™¯ã€‚  &lt;/li&gt;
&lt;li&gt;æä¾›æ¨¡å‹ç®¡ç†ã€æ–‡ä»¶ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚  &lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ç¤ºä¾‹ï¼šFastAPI-Admin åŸºç¡€ä½¿ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; fastapi &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; FastAPI&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; fastapi_admin.app &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; app &lt;span class=&#34;keyword&#34;&gt;as&lt;/span&gt; admin_app&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; fastapi_admin.providers.login &lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; UsernamePasswordProvider&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;app = FastAPI()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;admin_app.add_provider(UsernamePasswordProvider())&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;app.mount(&lt;span class=&#34;string&#34;&gt;&amp;quot;/admin&amp;quot;&lt;/span&gt;, admin_app)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;SQLModel-Admin&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäº SQLModelï¼ˆFastAPI å®˜æ–¹ ORMï¼‰çš„ç®¡ç†ç•Œé¢ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;5-ä½ä»£ç -å¯è§†åŒ–å·¥å…·&#34;&gt;&lt;a href=&#34;#5-ä½ä»£ç -å¯è§†åŒ–å·¥å…·&#34; class=&#34;headerlink&#34; title=&#34;5. ä½ä»£ç /å¯è§†åŒ–å·¥å…·&#34;&gt;&lt;/a&gt;&lt;strong&gt;5. ä½ä»£ç /å¯è§†åŒ–å·¥å…·&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AppSmith / ToolJet&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;æ”¯æŒè¿æ¥æ•°æ®åº“/APIï¼Œé€šè¿‡æ‹–æ‹½ç”Ÿæˆç®¡ç†ç•Œé¢ï¼ˆéçº¯ Pythonï¼Œä½†å¯é›†æˆï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Django Builder&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;å¯è§†åŒ–æ„å»º Django åå°çš„ç¬¬ä¸‰æ–¹å·¥å…·ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;é€‰æ‹©å»ºè®®&#34;&gt;&lt;a href=&#34;#é€‰æ‹©å»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;é€‰æ‹©å»ºè®®&#34;&gt;&lt;/a&gt;&lt;strong&gt;é€‰æ‹©å»ºè®®&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¿«é€ŸåŸå‹&lt;/strong&gt;ï¼šç”¨ Django Adminï¼ˆDjango é¡¹ç›®ï¼‰æˆ– Flask-AppBuilderï¼ˆFlask é¡¹ç›®ï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜å®šåˆ¶åŒ–&lt;/strong&gt;ï¼šé€‰ Flask-Admin æˆ–æ‰‹åŠ¨æ‰©å±• Django Adminã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç°ä»£å¼‚æ­¥æ¶æ„&lt;/strong&gt;ï¼šé€‰ FastAPI Adminã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½ä»£ç éœ€æ±‚&lt;/strong&gt;ï¼šAppSmith/ToolJet + Python APIã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¹æ®é¡¹ç›®éœ€æ±‚å’ŒæŠ€æœ¯æ ˆé€‰æ‹©åˆé€‚çš„å·¥å…·ï¼Œèƒ½å¤§å¹…æå‡åå°ç®¡ç†ç³»ç»Ÿçš„å¼€å‘æ•ˆç‡ï¼&lt;/p&gt;
</content>
        <category term="python" />
        <updated>2025-04-11T13:24:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/03/22/github-open-project-im/</id>
        <title>githubå¼€æºçš„å³æ—¶é€šè®¯é¡¹ç›®</title>
        <link rel="alternate" href="https://erik.xyz/2025/03/22/github-open-project-im/"/>
        <content type="html">&lt;p&gt;ä»¥ä¸‹æ˜¯ GitHub ä¸Šå½“å‰æ´»è·ƒä¸”åŠŸèƒ½å¼ºå¤§çš„å¼€æºå³æ—¶é€šè®¯ï¼ˆIMï¼‰é¡¹ç›®ï¼Œæ¶µç›–ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆã€è½»é‡çº§åº”ç”¨å’Œåˆ›æ–°å‹å¹³å°ï¼Œé€‚åˆä¸åŒå¼€å‘éœ€æ±‚ï¼š&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ğŸ”§-ä¸€ã€ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼ˆé«˜å¯ç”¨ã€å¯æ‰©å±•ï¼‰&#34;&gt;&lt;a href=&#34;#ğŸ”§-ä¸€ã€ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼ˆé«˜å¯ç”¨ã€å¯æ‰©å±•ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;ğŸ”§ ä¸€ã€ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼ˆé«˜å¯ç”¨ã€å¯æ‰©å±•ï¼‰&#34;&gt;&lt;/a&gt;ğŸ”§ &lt;strong&gt;ä¸€ã€ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼ˆé«˜å¯ç”¨ã€å¯æ‰©å±•ï¼‰&lt;/strong&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;OpenIM&lt;/strong&gt;  &lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯æ ˆ&lt;/strong&gt;ï¼šGo è¯­è¨€æœåŠ¡ç«¯ï¼Œæ”¯æŒ Android/iOS/Web/Flutter ç­‰å…¨å¹³å° SDK ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒç‰¹æ€§&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;ç§æœ‰åŒ–éƒ¨ç½²ï¼Œæ•°æ®å®Œå…¨è‡ªæ§ï¼Œæ”¯æŒé›†ç¾¤æ‰©å±•è‡³äº¿çº§ç”¨æˆ· ã€‚  &lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯å¿…è¾¾ï¼ˆ100% å¯é æ€§ï¼‰ï¼Œæ”¯æŒå•èŠã€ç¾¤èŠï¼ˆ10 ä¸‡äººè¶…å¤§ç¾¤ï¼‰ã€å·²è¯»å›æ‰§ã€æ¶ˆæ¯æ’¤å›ç­‰ ã€‚  &lt;/li&gt;
&lt;li&gt;é›†æˆç»„ç»‡æ¶æ„ã€å·¥ä½œåœˆã€éŸ³è§†é¢‘é€šè¯ï¼Œé€‚åˆæ”¿ä¼åŠå…¬åœºæ™¯ ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šæ›¿ä»£å•†ä¸š IM äº‘æœåŠ¡ï¼ˆå¦‚èäº‘ã€ç¯ä¿¡ï¼‰ï¼Œé™ä½é•¿æœŸæˆæœ¬ ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡¹ç›®åœ°å€&lt;/strong&gt;ï¼š&lt;a href=&#34;https://github.com/OpenIMSDK&#34;&gt;GitHub - OpenIMSDK&lt;/a&gt; | ğŸŒŸ &lt;strong&gt;Star 9k+&lt;/strong&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ğŸ–¥ï¸-äºŒã€è½»é‡çº§è·¨å¹³å°åº”ç”¨&#34;&gt;&lt;a href=&#34;#ğŸ–¥ï¸-äºŒã€è½»é‡çº§è·¨å¹³å°åº”ç”¨&#34; class=&#34;headerlink&#34; title=&#34;ğŸ–¥ï¸ äºŒã€è½»é‡çº§è·¨å¹³å°åº”ç”¨&#34;&gt;&lt;/a&gt;ğŸ–¥ï¸ &lt;strong&gt;äºŒã€è½»é‡çº§è·¨å¹³å°åº”ç”¨&lt;/strong&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;HuLa&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯æ ˆ&lt;/strong&gt;ï¼šåŸºäº Tauriï¼ˆRust è·¨å¹³å°æ¡†æ¶ï¼‰ + Vue 3 + TypeScriptï¼Œæ”¯æŒ Windows/macOS/Linux ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒç‰¹æ€§&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;è½»é‡é«˜æ•ˆï¼ˆèµ„æºå ç”¨ä½ï¼‰ï¼Œæ”¯æŒæ–‡å­—ã€è¯­éŸ³ã€è§†é¢‘é€šè¯åŠæ–‡ä»¶ä¼ è¾“ ã€‚  &lt;/li&gt;
&lt;li&gt;å†…ç½®ä¸»é¢˜å®šåˆ¶ã€è¡¨æƒ…åŒ…ã€ç¾¤ç»„ç®¡ç†ï¼Œç•Œé¢ç®€æ´æ˜“ç”¨ ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šä¸ªäººå¼€å‘è€…å¿«é€Ÿæ„å»ºæ¡Œé¢ç«¯èŠå¤©åº”ç”¨ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡¹ç›®åœ°å€&lt;/strong&gt;ï¼š&lt;a href=&#34;https://github.com/HuLaSpark/HuLa&#34;&gt;GitHub - HuLaSpark&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Tailchat&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯æ ˆ&lt;/strong&gt;ï¼šReact + TypeScript + Node.jsï¼Œæ’ä»¶åŒ–æ¶æ„ï¼ˆç±»ä¼¼ Discordï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒç‰¹æ€§&lt;/strong&gt;ï¼š  &lt;ul&gt;
&lt;li&gt;é«˜åº¦å¯æ‰©å±•çš„æ’ä»¶ç³»ç»Ÿï¼ˆ30+ å®˜æ–¹æ’ä»¶ï¼‰ï¼Œæ”¯æŒèº«ä»½ç»„æƒé™ç®¡ç†ã€è‡ªå®šä¹‰é¢æ¿ ã€‚  &lt;/li&gt;
&lt;li&gt;å¤šç«¯åŒæ­¥ï¼ˆWeb/ç§»åŠ¨/æ¡Œé¢ï¼‰ï¼Œé›†æˆå¼€æ”¾å¹³å°ï¼ˆæœºå™¨äººã€ç¬¬ä¸‰æ–¹ç™»å½•ï¼‰ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;ï¼šç¤¾åŒºåä½œã€æ¸¸æˆç¤¾äº¤ç­‰éœ€å®šåˆ¶åŒ–åŠŸèƒ½çš„åœºæ™¯ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡¹ç›®åœ°å€&lt;/strong&gt;ï¼š&lt;a href=&#34;https://github.com/msgbyte/tailchat&#34;&gt;GitHub - Tailchat&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ğŸ”Œ-ä¸‰ã€å‚ç›´åœºæ™¯ä¸é›†æˆæ–¹æ¡ˆ&#34;&gt;&lt;a href=&#34;#ğŸ”Œ-ä¸‰ã€å‚ç›´åœºæ™¯ä¸é›†æˆæ–¹æ¡ˆ&#34; class=&#34;headerlink&#34; title=&#34;ğŸ”Œ ä¸‰ã€å‚ç›´åœºæ™¯ä¸é›†æˆæ–¹æ¡ˆ&#34;&gt;&lt;/a&gt;ğŸ”Œ &lt;strong&gt;ä¸‰ã€å‚ç›´åœºæ™¯ä¸é›†æˆæ–¹æ¡ˆ&lt;/strong&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åŸºäºç¯ä¿¡ SDK çš„ç¤¾äº¤åº”ç”¨&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä»£è¡¨é¡¹ç›®&lt;/strong&gt;ï¼šé«˜ä»¿å¾®ä¿¡ã€å›¾å¿†ï¼ˆLBS ç¤¾äº¤ï¼‰ã€ç¾è‚¤ GOï¼ˆç”µå•†å®¢æœï¼‰ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šæä¾›å®Œæ•´ UI å’Œä¸šåŠ¡é€»è¾‘æºç ï¼Œé€‚åˆå¿«é€Ÿé›†æˆç¤¾äº¤åŠŸèƒ½ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡¹ç›®ç¤ºä¾‹&lt;/strong&gt;ï¼š&lt;a href=&#34;https://github.com/CameloeAnthony/Perfect_IM_SNS&#34;&gt;GitHub - ç¯ä¿¡ Demo åˆé›†&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;FreeTubeï¼ˆéšç§å‘ IM æ‰©å±•ï¼‰&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯æ ˆ&lt;/strong&gt;ï¼šJavaScript æ¡Œé¢åº”ç”¨ï¼Œä¸“æ³¨éšç§ä¿æŠ¤ ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹è‰²&lt;/strong&gt;ï¼šæ— å¹¿å‘Šã€æ— è¿½è¸ªï¼Œæœ¬åœ°å­˜å‚¨ç”¨æˆ·æ•°æ®ï¼Œé€‚åˆå®‰å…¨æ•æ„Ÿåœºæ™¯ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¡¹ç›®åœ°å€&lt;/strong&gt;ï¼š&lt;a href=&#34;https://github.com/FreeTubeApp/FreeTube&#34;&gt;GitHub - FreeTube&lt;/a&gt; | ğŸŒŸ Star 15k+ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ğŸ“Š-æ ¸å¿ƒé¡¹ç›®å¯¹æ¯”&#34;&gt;&lt;a href=&#34;#ğŸ“Š-æ ¸å¿ƒé¡¹ç›®å¯¹æ¯”&#34; class=&#34;headerlink&#34; title=&#34;ğŸ“Š æ ¸å¿ƒé¡¹ç›®å¯¹æ¯”&#34;&gt;&lt;/a&gt;ğŸ“Š &lt;strong&gt;æ ¸å¿ƒé¡¹ç›®å¯¹æ¯”&lt;/strong&gt;&lt;/h3&gt;&lt;div class=&#34;table-container&#34;&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;é¡¹ç›®&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;æŠ€æœ¯ä¼˜åŠ¿&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;éƒ¨ç½²å¤æ‚åº¦&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;OpenIM&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;é«˜å¹¶å‘ã€ä¼ä¸šçº§åŠŸèƒ½å…¨&lt;/td&gt;
&lt;td&gt;æ”¿åŠ¡/å¤§å‹ä¼ä¸š IM&lt;/td&gt;
&lt;td&gt;ä¸­é«˜ï¼ˆéœ€ Dockerï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;HuLa&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;è½»é‡è·¨å¹³å°ã€å¼€å‘å¿«æ·&lt;/td&gt;
&lt;td&gt;ä¸ªäºº/å°å›¢é˜Ÿæ¡Œé¢åº”ç”¨&lt;/td&gt;
&lt;td&gt;ä½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Tailchat&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;æ’ä»¶åŒ–ã€é«˜åº¦å¯å®šåˆ¶&lt;/td&gt;
&lt;td&gt;ç¤¾åŒº/æ¸¸æˆç¤¾äº¤å¹³å°&lt;/td&gt;
&lt;td&gt;ä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ğŸ’¡-å››ã€é€‰å‹å»ºè®®&#34;&gt;&lt;a href=&#34;#ğŸ’¡-å››ã€é€‰å‹å»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;ğŸ’¡ å››ã€é€‰å‹å»ºè®®&#34;&gt;&lt;/a&gt;ğŸ’¡ &lt;strong&gt;å››ã€é€‰å‹å»ºè®®&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¿½æ±‚ä¼ä¸šçº§ç¨³å®šæ€§&lt;/strong&gt;ï¼šé€‰æ‹© &lt;strong&gt;OpenIM&lt;/strong&gt;ï¼Œæ”¯æŒç§æœ‰åŒ–éƒ¨ç½²å’Œå›½äº§åŒ–éœ€æ±‚ ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¿«é€Ÿå¼€å‘æ¡Œé¢ç«¯åº”ç”¨&lt;/strong&gt;ï¼š&lt;strong&gt;HuLa&lt;/strong&gt; çš„ç°ä»£å‰ç«¯æŠ€æœ¯æ ˆï¼ˆVue3 + Tauriï¼‰å¯å¤§å¹…æå‡æ•ˆç‡ ã€‚  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éœ€è¦é«˜åº¦å®šåˆ¶åŒ–&lt;/strong&gt;ï¼š&lt;strong&gt;Tailchat&lt;/strong&gt; çš„æ’ä»¶æœºåˆ¶å…è®¸è‡ªç”±æ‰©å±•åŠŸèƒ½ ã€‚  &lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ æ›´å¤šé¡¹ç›®æºç å’Œéƒ¨ç½²æŒ‡å—å¯è®¿é—®å¯¹åº” GitHub ä»“åº“ã€‚è‹¥éœ€æ›¿ä»£å•†ä¸š IM æœåŠ¡ï¼ˆå¦‚èäº‘ã€ç¯ä¿¡ï¼‰ï¼ŒOpenIM çš„ç§æœ‰åŒ–æ–¹æ¡ˆèƒ½æ˜¾è‘—é™ä½æˆæœ¬å¹¶æå‡æ•°æ®å®‰å…¨æ€§ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="php" />
        <category term="im" />
        <updated>2025-03-22T02:01:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/02/13/open-source-esktop-sharing-tool/</id>
        <title>å¼€æºæ¡Œé¢å…±äº«å·¥å…·</title>
        <link rel="alternate" href="https://erik.xyz/2025/02/13/open-source-esktop-sharing-tool/"/>
        <content type="html">&lt;h2 id=&#34;1-xrdp&#34;&gt;&lt;a href=&#34;#1-xrdp&#34; class=&#34;headerlink&#34; title=&#34;1. xrdp&#34;&gt;&lt;/a&gt;1. &lt;a href=&#34;https://github.com/neutrinolabs/xrdp&#34;&gt;xrdp&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šxrdp æ˜¯ä¸€ä¸ªå¼€æºçš„è¿œç¨‹æ¡Œé¢åè®® (RDP) æœåŠ¡å™¨ï¼Œå…è®¸ Linux ç³»ç»Ÿé€šè¿‡ Windows çš„ RDP å®¢æˆ·ç«¯è¿œç¨‹è®¿é—®ã€‚å®ƒä¸ Microsoft RDP åè®®å…¼å®¹ï¼Œèƒ½å¤Ÿè®©ä½ ä» Windows å®¢æˆ·ç«¯è¿æ¥åˆ° Linux ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ï¼šé€šå¸¸å¯ä»¥é€šè¿‡ Linux çš„åŒ…ç®¡ç†å™¨å®‰è£…ï¼Œä¾‹å¦‚åœ¨ Ubuntu ä¸Šä½¿ç”¨å‘½ä»¤ï¼š&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo apt install xrdp&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-VNC-Virtual-Network-Computing&#34;&gt;&lt;a href=&#34;#2-VNC-Virtual-Network-Computing&#34; class=&#34;headerlink&#34; title=&#34;2. VNC (Virtual Network Computing)&#34;&gt;&lt;/a&gt;2. VNC (Virtual Network Computing)&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šVNC æ˜¯ä¸€ç§å›¾å½¢æ¡Œé¢å…±äº«ç³»ç»Ÿï¼Œæ”¯æŒè·¨å¹³å°è¿œç¨‹è®¿é—®ã€‚å¸¸è§çš„å¼€æº VNC å®ç°æœ‰ï¼š&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;TightVNC&lt;/strong&gt;ï¼šè½»é‡çº§ä¸”æ€§èƒ½ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TigerVNC&lt;/strong&gt;ï¼šå¢å¼ºäº†æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RealVNC&lt;/strong&gt;ï¼šæä¾›å•†ä¸šå’Œå¼€æºç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ï¼šå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨ï¼ˆå¦‚ &lt;code&gt;apt&lt;/code&gt;ï¼‰å®‰è£…ï¼Œæˆ–é€šè¿‡ä¸‹è½½å…¶æºä»£ç æ¥å®‰è£…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-NoMachine&#34;&gt;&lt;a href=&#34;#3-NoMachine&#34; class=&#34;headerlink&#34; title=&#34;3. NoMachine&#34;&gt;&lt;/a&gt;3. &lt;a href=&#34;https://www.nomachine.com/&#34;&gt;NoMachine&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šNoMachine æ˜¯ä¸€æ¬¾å¼€æºè¿œç¨‹æ¡Œé¢è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒè·¨å¹³å°è¿œç¨‹è®¿é—®ã€‚å®ƒå…·æœ‰é«˜æ€§èƒ½å’Œè¾ƒä½å»¶è¿Ÿï¼Œæ”¯æŒéŸ³è§†é¢‘æµå’Œæ–‡ä»¶ä¼ è¾“ç­‰åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ï¼šå¯ä»¥ç›´æ¥ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®˜æ–¹çš„å¼€æºç‰ˆæœ¬è¿›è¡Œå®‰è£…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-Remmina&#34;&gt;&lt;a href=&#34;#4-Remmina&#34; class=&#34;headerlink&#34; title=&#34;4. Remmina&#34;&gt;&lt;/a&gt;4. &lt;a href=&#34;https://github.com/FreeRDP/Remmina&#34;&gt;Remmina&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šRemmina æ˜¯ä¸€ä¸ªæ”¯æŒå¤šç§è¿œç¨‹æ¡Œé¢åè®®çš„å®¢æˆ·ç«¯ï¼Œæ”¯æŒ RDPã€VNCã€SSH ç­‰å¤šç§åè®®ã€‚å®ƒçš„è®¾è®¡éå¸¸é€‚åˆ Linux ç”¨æˆ·ï¼Œä½†ä¹Ÿæ”¯æŒå…¶ä»–æ“ä½œç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ï¼šå¤§å¤šæ•° Linux å‘è¡Œç‰ˆéƒ½å¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼Œä¾‹å¦‚ï¼š&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install remmina&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5-FreeRDP&#34;&gt;&lt;a href=&#34;#5-FreeRDP&#34; class=&#34;headerlink&#34; title=&#34;5. FreeRDP&#34;&gt;&lt;/a&gt;5. &lt;a href=&#34;https://github.com/FreeRDP/FreeRDP&#34;&gt;FreeRDP&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šFreeRDP æ˜¯ä¸€ä¸ªå¼€æºçš„è¿œç¨‹æ¡Œé¢åè®®å®ç°ï¼Œå¯ä»¥ç”¨ä½œ RDP å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚å®ƒæ”¯æŒ Windows å’Œ Linux ç³»ç»Ÿä¹‹é—´çš„è¿œç¨‹è®¿é—®ï¼Œå¹¶ä¸”éå¸¸è½»é‡çº§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ï¼šå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ï¼Œä¾‹å¦‚ï¼š&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt install freerdp2-x11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-WayVNC&#34;&gt;&lt;a href=&#34;#6-WayVNC&#34; class=&#34;headerlink&#34; title=&#34;6. WayVNC&#34;&gt;&lt;/a&gt;6. WayVNC&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šWayVNC æ˜¯ä¸“é—¨ä¸º Wayland å…¼å®¹çš„ Linux ç³»ç»Ÿè®¾è®¡çš„ VNC æœåŠ¡å™¨ï¼Œé€‚ç”¨äºé‚£äº›ä½¿ç”¨ Wayland æ˜¾ç¤ºæœåŠ¡å™¨çš„ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ï¼šå¯ä»¥é€šè¿‡æºç ç¼–è¯‘å®‰è£…ï¼Œæˆ–æŸ¥æ‰¾ç›¸å…³çš„ Linux åŒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;7-Guacamole&#34;&gt;&lt;a href=&#34;#7-Guacamole&#34; class=&#34;headerlink&#34; title=&#34;7. Guacamole&#34;&gt;&lt;/a&gt;7. &lt;a href=&#34;http://guacamole.apache.org/&#34;&gt;Guacamole&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŠŸèƒ½&lt;/strong&gt;ï¼šGuacamole æ˜¯ä¸€ä¸ªåŸºäº Web çš„è¿œç¨‹æ¡Œé¢å®¢æˆ·ç«¯ï¼Œæ”¯æŒ RDPã€VNC å’Œ SSHã€‚ä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®å¹¶è¿œç¨‹æ§åˆ¶è®¡ç®—æœºï¼Œå®‰è£…è¾ƒä¸ºå¤æ‚ï¼Œé€šå¸¸éœ€è¦é…ç½® Web æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…&lt;/strong&gt;ï¼šéœ€è¦åœ¨æœåŠ¡å™¨ç«¯å®‰è£… Guacamoleï¼Œå¹¶é…ç½®ç›¸åº”çš„ Web æœåŠ¡å™¨ã€‚å®ƒæ”¯æŒå„ç§æ“ä½œç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="å·¥å…·" />
        <category term="å¼€æºå·¥å…·" />
        <category term="æ¡Œé¢å…±äº«å·¥å…·" />
        <updated>2025-02-13T13:35:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/02/05/baimasi/</id>
        <title>ç™½é©¬å¯º</title>
        <link rel="alternate" href="https://erik.xyz/2025/02/05/baimasi/"/>
        <content type="html">&lt;pre&gt;&lt;code&gt;      ç™½é©¬å¯º

åƒå¹´é£éœœæ–‘é©³ç›®ï¼Œæ–°å‡ºå¯°å®‡å®¢æ¥æ…•ã€‚
ä½›ä¸˜å·²éä»Šæœæ—¶ï¼Œç‹¬å¾—æ¯æœ¨é€¢æ˜¥æ—¶ã€‚
&lt;/code&gt;&lt;/pre&gt;</content>
        <category term="éšç¬”" />
        <updated>2025-02-05T05:16:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/01/12/composer-intranet-deployment/</id>
        <title>composerå†…ç½‘éƒ¨ç½²</title>
        <link rel="alternate" href="https://erik.xyz/2025/01/12/composer-intranet-deployment/"/>
        <content type="html">&lt;p&gt;åœ¨å†…ç½‘ç¯å¢ƒä¸­éƒ¨ç½² Composerï¼ˆPHPçš„ä¾èµ–ç®¡ç†å·¥å…·ï¼‰ï¼Œé€šå¸¸æ˜¯ä¸ºäº†é¿å…å› å¤–ç½‘è®¿é—®é™åˆ¶è€Œå¯¼è‡´çš„ä¾èµ–ä¸‹è½½é—®é¢˜ã€‚å†…ç½‘éƒ¨ç½² Composer ä¸»è¦æ¶‰åŠé…ç½®ä¸€ä¸ª ç§æœ‰ Composer ä»“åº“ï¼Œæˆ–è€…ä½¿ç”¨ æœ¬åœ°ä»£ç†é•œåƒ æ¥åŠ é€Ÿå’Œç®¡ç†ä¾èµ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-ä½¿ç”¨-composer-json-è®¾ç½®ä¾èµ–&#34;&gt;&lt;a href=&#34;#1-ä½¿ç”¨-composer-json-è®¾ç½®ä¾èµ–&#34; class=&#34;headerlink&#34; title=&#34;1. ä½¿ç”¨ composer.json è®¾ç½®ä¾èµ–&#34;&gt;&lt;/a&gt;&lt;b&gt;1. ä½¿ç”¨ composer.json è®¾ç½®ä¾èµ–&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;é¦–å…ˆï¼Œç¡®ä¿ä½ çš„ composer.json æ–‡ä»¶åŒ…å«æ‰€æœ‰é¡¹ç›®ä¾èµ–ï¼Œå¹¶æ­£ç¡®é…ç½®äº†åŒ…çš„ç‰ˆæœ¬å’Œæ¥æºã€‚&lt;br&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;name&amp;quot;: &amp;quot;vendor/project&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;require&amp;quot;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;quot;monolog/monolog&amp;quot;: &amp;quot;^2.0&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-ä½¿ç”¨ä»£ç†é•œåƒ&#34;&gt;&lt;a href=&#34;#2-ä½¿ç”¨ä»£ç†é•œåƒ&#34; class=&#34;headerlink&#34; title=&#34;2. ä½¿ç”¨ä»£ç†é•œåƒ&#34;&gt;&lt;/a&gt;&lt;b&gt;2. ä½¿ç”¨ä»£ç†é•œåƒ&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;ç”±äºå†…ç½‘æ— æ³•ç›´æ¥è®¿é—® Composer å®˜æ–¹çš„åŒ…ä»“åº“ï¼Œå¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨å›½å†…é•œåƒæˆ–æ­å»ºä»£ç†æœåŠ¡å™¨ï¼Œå¸¸è§çš„æ–¹æ¡ˆåŒ…æ‹¬ä½¿ç”¨ é˜¿é‡Œäº‘ Composer é•œåƒ æˆ– ç§æœ‰é•œåƒä»“åº“ã€‚&lt;/p&gt;
&lt;p&gt; &lt;b&gt;2.1 ä½¿ç”¨å›½å†…é•œåƒæº&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡é…ç½® Composer ä½¿ç”¨å›½å†…é•œåƒæºæ¥åŠ é€Ÿä¾èµ–åŒ…çš„ä¸‹è½½ã€‚åœ¨ Composer ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è®¾ç½®å›½å†…é•œåƒï¼š&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;composer config repo.packagist composer https://mirrors.aliyun.com/composer/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;è¿™ä¸ªå‘½ä»¤å°† packagist.org æºæ›´æ¢ä¸ºé˜¿é‡Œäº‘çš„é•œåƒæºã€‚&lt;/p&gt;
&lt;p&gt;ä½ è¿˜å¯ä»¥é€šè¿‡åœ¨ composer.json æ–‡ä»¶ä¸­è¿›è¡Œè®¾ç½®ï¼Œå¼ºåˆ¶ä½¿ç”¨é•œåƒæºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;repositories&amp;quot;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;type&amp;quot;: &amp;quot;composer&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;url&amp;quot;: &amp;quot;https://mirrors.aliyun.com/composer/&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·æ¯æ¬¡æ‰§è¡Œ composer install æ—¶ï¼Œéƒ½ä¼šä»é˜¿é‡Œäº‘çš„é•œåƒæºä¸‹è½½ä¾èµ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;b&gt;2.2 é…ç½®è‡ªå»º Composer é•œåƒä»£ç†&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³åœ¨ä¼ä¸šå†…éƒ¨å®Œå…¨æ§åˆ¶åŒ…ç®¡ç†ï¼Œå¯ä»¥æ­å»ºè‡ªå·±çš„ Composer é•œåƒä»£ç†ã€‚å¸¸è§çš„é€‰æ‹©åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Satisï¼šä¸€ä¸ªå®˜æ–¹æä¾›çš„å·¥å…·ï¼Œç”¨æ¥æ­å»ºç§æœ‰çš„ Composer ä»“åº“ã€‚&lt;/li&gt;
&lt;li&gt;Private Packagistï¼šä¸€ä¸ªå•†ä¸šè§£å†³æ–¹æ¡ˆï¼Œä¸“é—¨ç”¨äºåœ¨ç§æœ‰ç¯å¢ƒä¸­ç®¡ç† Composer åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;Sinopia (npm ä»“åº“ä»£ç†å·¥å…·)ï¼šå¯ä»¥ä½œä¸ºç§æœ‰çš„ Composer ä»“åº“ä»£ç†ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;2.2.1 ä½¿ç”¨ Satis æ­å»ºç§æœ‰ Composer ä»“åº“&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;Satis æ˜¯ Composer å®˜æ–¹æä¾›çš„ä¸€ä¸ªè½»é‡çº§å·¥å…·ï¼Œä¸“é—¨ç”¨äºåˆ›å»ºç§æœ‰çš„ Composer ä»“åº“ã€‚é€šè¿‡ä½¿ç”¨ Satisï¼Œä½ å¯ä»¥å°†å†…ç½‘ç¯å¢ƒä¸‹å¸¸ç”¨çš„ä¾èµ–ç¼“å­˜ä¸‹æ¥ï¼Œå¹¶æä¾›ç»™é¡¹ç›®ä¸­ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£… Satisï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨ Composer å®‰è£… Satisï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;composer require composer/satis&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½® Satisï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä½ çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ª satis.json é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šä½ å¸Œæœ›æ‰˜ç®¡çš„åŒ…æºã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;name&amp;quot;: &amp;quot;my-private-repo&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;homepage&amp;quot;: &amp;quot;https://example.com/packages&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;repositories&amp;quot;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;type&amp;quot;: &amp;quot;vcs&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;url&amp;quot;: &amp;quot;https://github.com/some/package&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;type&amp;quot;: &amp;quot;composer&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;url&amp;quot;: &amp;quot;https://packagist.org&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ],&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;output-dir&amp;quot;: &amp;quot;/path/to/output&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿæˆé™æ€èµ„æºï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆé™æ€çš„ Composer åŒ…ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;php bin/satis build satis.json /path/to/output&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;æä¾›è®¿é—®ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ Web æœåŠ¡å™¨ï¼ˆå¦‚ Nginx æˆ– Apacheï¼‰æä¾›è®¿é—®é™æ€èµ„æºã€‚è¿™æ ·ï¼Œå…¶ä»–é¡¹ç›®å°±èƒ½é€šè¿‡ä½ çš„å†…éƒ¨ Satis ä»“åº“è·å–ä¾èµ–äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;b&gt;2.2.2 é…ç½® Composer ä½¿ç”¨ç§æœ‰ä»“åº“&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ composer.json ä¸­é…ç½®ç§æœ‰ä»“åº“ï¼ˆä¾‹å¦‚ï¼Œä½ çš„å…¬å¸å†…éƒ¨æ­å»ºçš„ Satis ä»“åº“ï¼‰ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;quot;repositories&amp;quot;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;type&amp;quot;: &amp;quot;composer&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;quot;url&amp;quot;: &amp;quot;http://your-internal-repository.com&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ ·ï¼ŒComposer ä¼šä»ä½ é…ç½®çš„ç§æœ‰ä»“åº“ä¸­æ‹‰å–ä¾èµ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-ç¦»çº¿å®‰è£…-Composer-ä¾èµ–&#34;&gt;&lt;a href=&#34;#3-ç¦»çº¿å®‰è£…-Composer-ä¾èµ–&#34; class=&#34;headerlink&#34; title=&#34;3. ç¦»çº¿å®‰è£… Composer ä¾èµ–&#34;&gt;&lt;/a&gt;&lt;b&gt;3. ç¦»çº¿å®‰è£… Composer ä¾èµ–&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;å¦‚æœå†…ç½‘æ— æ³•è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œä¹Ÿå¯ä»¥è€ƒè™‘åœ¨æœ‰å¤–ç½‘è®¿é—®æƒé™çš„æœºå™¨ä¸Šä¸‹è½½ä¾èµ–åŒ…ï¼Œç„¶åå°†å®ƒä»¬å¯¼å…¥åˆ°å†…ç½‘æœºå™¨ä¸­è¿›è¡Œå®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;b&gt;3.1  åœ¨æœ‰å¤–ç½‘çš„æœºå™¨ä¸Šä¸‹è½½ä¾èµ–&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;åœ¨èƒ½å¤Ÿè®¿é—®å¤–ç½‘çš„æœºå™¨ä¸Šæ‰§è¡Œ composer installã€‚&lt;br&gt;ä¸‹è½½å®Œæˆåï¼Œå°† vendor ç›®å½•åŠ composer.lock æ–‡ä»¶æ‹·è´åˆ°å†…ç½‘æœåŠ¡å™¨ç›¸åŒä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;b&gt;3.2 ä½¿ç”¨ â€”prefer-dist å‚æ•°&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;ä½ è¿˜å¯ä»¥ä½¿ç”¨ composer install â€”prefer-dist æ¥ä¸‹è½½ .tar.gz æˆ– .zip æ ¼å¼çš„åŒ…ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œç¦»çº¿å®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;b&gt;3.3 é…ç½® COMPOSER_HOME&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å¸Œæœ›åœ¨å†…ç½‘æœºå™¨ä¸Šä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„åŒ…ï¼Œå¯ä»¥è®¾ç½® COMPOSER_HOME ç¯å¢ƒå˜é‡æ¥æŒ‡å®š Composer ç¼“å­˜ç›®å½•ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;export COMPOSER_HOME=/path/to/composer/cache&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åï¼Œå°†ç¼“å­˜ç›®å½•å¤åˆ¶åˆ°å†…ç½‘æœºå™¨ï¼Œç¡®ä¿ Composer èƒ½å¤Ÿä½¿ç”¨è¿™äº›ç¼“å­˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;4-å…¶ä»–è€ƒè™‘&#34;&gt;&lt;a href=&#34;#4-å…¶ä»–è€ƒè™‘&#34; class=&#34;headerlink&#34; title=&#34;4. å…¶ä»–è€ƒè™‘&#34;&gt;&lt;/a&gt;&lt;b&gt;4. å…¶ä»–è€ƒè™‘&lt;/b&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ä»£ç†é…ç½®ï¼šå¦‚æœå†…ç½‘å¯ä»¥é€šè¿‡ HTTP ä»£ç†è®¿é—®å¤–ç½‘ï¼Œç¡®ä¿ Composer é…ç½®äº†ä»£ç†ã€‚åœ¨ composer.json ä¸­é…ç½®ä»£ç†ï¼Œæˆ–è€…ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥æŒ‡å®šä»£ç†ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;export HTTP_PROXY=http://proxy.example.com:8080&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;export HTTPS_PROXY=http://proxy.example.com:8080&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç§æœ‰åŒ…çš„æƒé™ï¼šå¦‚æœä½ ä½¿ç”¨äº†ç§æœ‰ Composer ä»“åº“æˆ– GitHub ä»“åº“ï¼Œè®°å¾—é…ç½®å¥½è®¤è¯æ–¹å¼ï¼ˆå¦‚ä½¿ç”¨ auth.json æ–‡ä»¶å­˜å‚¨ GitHub Tokenï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="composer" />
        <category term="composeréƒ¨ç½²" />
        <category term="å†…ç½‘éƒ¨ç½²composer" />
        <updated>2025-01-12T14:01:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/01/10/agricultural-detection-system/</id>
        <title>å†œä¸šæ£€æµ‹ç³»ç»Ÿè®¾è®¡</title>
        <link rel="alternate" href="https://erik.xyz/2025/01/10/agricultural-detection-system/"/>
        <content type="html">&lt;p&gt;&lt;b&gt;å†œä¸šæ£€æµ‹ç³»ç»Ÿè®¾è®¡&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å°†è®¾è®¡ä¸€ä¸ªæ™ºèƒ½å†œä¸šç³»ç»Ÿï¼Œé€šè¿‡å¤šç§æŠ€æœ¯æ‰‹æ®µå®ç°æ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ç›‘æµ‹ã€è®¾å¤‡æ§åˆ¶å’Œè¿œç¨‹ç®¡ç†ã€‚ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼šæ™ºèƒ½èŠ‚ç‚¹ç›‘æ§ç¯å¢ƒæ•°æ®ã€æ‰‹åŠ¨å’Œè‡ªåŠ¨æ§åˆ¶æ¨¡å¼ã€é€šè¿‡ LoRa å’Œ 4G é€šä¿¡ä¼ è¾“æ•°æ®ã€ä»¥åŠé€šè¿‡æ‰‹æœºæˆ–ç”µè„‘ç«¯è¿›è¡Œè¿œç¨‹æ§åˆ¶ã€‚&lt;br&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-ç³»ç»Ÿæ¨¡å—æ¦‚è¿°&#34;&gt;&lt;a href=&#34;#1-ç³»ç»Ÿæ¨¡å—æ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;1. ç³»ç»Ÿæ¨¡å—æ¦‚è¿°&#34;&gt;&lt;/a&gt;&lt;b&gt;1. ç³»ç»Ÿæ¨¡å—æ¦‚è¿°&lt;/b&gt;&lt;/h4&gt;&lt;p&gt;è¯¥å†œä¸šæ£€æµ‹ç³»ç»ŸåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªä¸»è¦æ¨¡å—ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ™ºèƒ½èŠ‚ç‚¹ï¼ˆä¼ æ„Ÿå™¨ä¸æ§åˆ¶å•å…ƒï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·å–æ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ä¼ æ„Ÿå™¨æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ§åˆ¶é£æ‰‡çš„å¯åœï¼Œæ˜¾ç¤ºå½“å‰é£æ‰‡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ‰‹åŠ¨å’Œè‡ªåŠ¨æ¨¡å¼åˆ‡æ¢ã€‚&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºæ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ã€é£æ‰‡çŠ¶æ€å’Œæ¨¡å¼çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡ LoRa å‘é€æ•°æ®åˆ° 4G èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;4G ç½‘å…³èŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¥æ”¶æ¥è‡ªæ™ºèƒ½èŠ‚ç‚¹çš„ä¼ æ„Ÿå™¨æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å°†æ•°æ®é€šè¿‡ 4G ç½‘ç»œä¸Šä¼ è‡³ MOTT æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ˜¾ç¤ºå±ä¸Šæ˜¾ç¤ºå„é¡¹ä¼ æ„Ÿå™¨æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MOTT æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­˜å‚¨ä» 4G èŠ‚ç‚¹å‘é€æ¥çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æä¾›è¿œç¨‹è®¿é—®æ¥å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åº”ç”¨è½¯ä»¶ï¼ˆç”µè„‘ç«¯æˆ–æ‰‹æœºç«¯ï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¾ç¤ºæ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ã€é£æ‰‡çŠ¶æ€ã€æ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼ç­‰æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æä¾›ç™»å½•ã€æ‰‹åŠ¨æ§åˆ¶ã€è‡ªåŠ¨æ§åˆ¶ç­‰åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-ç³»ç»ŸåŠŸèƒ½è®¾è®¡&#34;&gt;&lt;a href=&#34;#2-ç³»ç»ŸåŠŸèƒ½è®¾è®¡&#34; class=&#34;headerlink&#34; title=&#34;2.ç³»ç»ŸåŠŸèƒ½è®¾è®¡&#34;&gt;&lt;/a&gt;&lt;b&gt;2.ç³»ç»ŸåŠŸèƒ½è®¾è®¡&lt;/b&gt;&lt;/h4&gt;&lt;p&gt;2.1 æ™ºèƒ½èŠ‚ç‚¹åŠŸèƒ½&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ä¼ æ„Ÿå™¨æ•°æ®é‡‡é›†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼šå®æ—¶è·å–æ¸©åº¦å’Œæ¹¿åº¦æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å…‰ç…§åº¦ä¼ æ„Ÿå™¨ï¼šå®æ—¶è·å–å…‰ç…§å¼ºåº¦æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ¨¡å¼åˆ‡æ¢ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰‹åŠ¨æ¨¡å¼ï¼šå…è®¸ç”¨æˆ·é€šè¿‡æŒ‰é”®æ‰‹åŠ¨å¯åŠ¨æˆ–åœæ­¢é£æ‰‡ã€‚&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨æ¨¡å¼ï¼šå½“æ¸©åº¦å’Œå…‰ç…§åº¦è¶…è¿‡è®¾å®šé˜ˆå€¼æ—¶ï¼Œè‡ªåŠ¨å¯åœé£æ‰‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é£æ‰‡æ§åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨æ‰‹åŠ¨æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·é€šè¿‡æŒ‰é”®æ§åˆ¶é£æ‰‡å¼€å…³ï¼Œå¹¶é€šè¿‡ç»¿è‰² LED æŒ‡ç¤ºç¯æ˜¾ç¤ºé£æ‰‡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨è‡ªåŠ¨æ¨¡å¼ä¸‹ï¼Œç³»ç»Ÿä¼šæ ¹æ®è®¾å®šçš„æ¸©åº¦å’Œå…‰ç…§åº¦é˜ˆå€¼è‡ªåŠ¨æ§åˆ¶é£æ‰‡ï¼Œå¹¶ä½¿ç”¨ç»¿ç¯å’Œçº¢ç¯è¿›è¡ŒçŠ¶æ€æŒ‡ç¤ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®ä¼ è¾“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ LoRa æ— çº¿ä¼ è¾“æ¨¡å—å°†ä¼ æ„Ÿå™¨æ•°æ®å’Œé£æ‰‡çŠ¶æ€ä¸Šä¼ è‡³ 4G ç½‘å…³èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ˜¾ç¤ºå±ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¾ç¤ºå½“å‰æ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ã€æ¨¡å¼çŠ¶æ€å’Œé£æ‰‡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;2.2 4G ç½‘å…³èŠ‚ç‚¹åŠŸèƒ½&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®æ¥æ”¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ LoRa æ¥æ”¶æ™ºèƒ½èŠ‚ç‚¹ä¸Šä¼ çš„ä¼ æ„Ÿå™¨æ•°æ®ï¼ˆæ¸©åº¦ã€æ¹¿åº¦ã€å…‰ç…§åº¦ã€é£æ‰‡çŠ¶æ€ã€æ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼çŠ¶æ€ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;4G ç½‘ç»œä¼ è¾“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†æ™ºèƒ½èŠ‚ç‚¹çš„æ•°æ®é€šè¿‡ 4G ç½‘ç»œä¸Šä¼ è‡³ MOTT æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ˜¾ç¤ºå±æ˜¾ç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ 4G ç½‘å…³èŠ‚ç‚¹çš„æ˜¾ç¤ºå±ä¸Šå±•ç¤ºæ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ã€æ¨¡å¼çŠ¶æ€å’Œé£æ‰‡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;2.3 MOTT æœåŠ¡å™¨åŠŸèƒ½&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®å­˜å‚¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­˜å‚¨æ¥è‡ª 4G ç½‘å…³èŠ‚ç‚¹çš„æ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ã€é£æ‰‡çŠ¶æ€ç­‰æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è¿œç¨‹ç®¡ç†æ¥å£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æä¾› RESTful API æˆ– WebSocket æ¥å£ï¼Œä¾›å®¢æˆ·ç«¯åº”ç”¨è®¿é—®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;2.4 åº”ç”¨è½¯ä»¶åŠŸèƒ½&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·ç™»å½•ï¼š&lt;ul&gt;
&lt;li&gt;æä¾›ç™»å½•ç•Œé¢ï¼Œç”¨æˆ·é€šè¿‡è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ç™»å½•ï¼ˆç”¨æˆ·åï¼šadminï¼Œå¯†ç ï¼šadmin123ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ‰‹åŠ¨æ§åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç™»å½•æˆåŠŸåï¼Œç”¨æˆ·å¯é€šè¿‡ç•Œé¢æ‰‹åŠ¨å¯åœé£æ‰‡ï¼Œæ“ä½œæ—¶è§¦å‘çº¢ç¯å’Œèœ‚é¸£å™¨çš„æç¤ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è‡ªåŠ¨æ§åˆ¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·å¯ä»¥è®¾å®šæ¸©åº¦å’Œå…‰ç…§åº¦çš„é˜ˆå€¼ï¼Œæ™ºèƒ½èŠ‚ç‚¹è¿›å…¥è‡ªåŠ¨æ¨¡å¼åï¼Œç³»ç»Ÿæ ¹æ®ä¼ æ„Ÿå™¨æ•°æ®è‡ªåŠ¨æ§åˆ¶é£æ‰‡å¼€å…³ï¼Œå¹¶é€šè¿‡ LED æŒ‡ç¤ºç¯æ˜¾ç¤ºçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ˜¾ç¤ºåŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®æ—¶æ˜¾ç¤ºæ¸©åº¦ã€æ¹¿åº¦ã€å…‰ç…§åº¦ã€é£æ‰‡çŠ¶æ€ã€æ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-åŸå‹å›¾è®¾è®¡&#34;&gt;&lt;a href=&#34;#3-åŸå‹å›¾è®¾è®¡&#34; class=&#34;headerlink&#34; title=&#34;3. åŸå‹å›¾è®¾è®¡&#34;&gt;&lt;/a&gt;&lt;b&gt;3. åŸå‹å›¾è®¾è®¡&lt;/b&gt;&lt;/h4&gt;&lt;p&gt;3.1 æ™ºèƒ½èŠ‚ç‚¹åŸå‹å›¾&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;+-------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|                         |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    å…‰ç…§åº¦ä¼ æ„Ÿå™¨          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|                         |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    æŒ‰é”®é¢æ¿ (5ä¸ªæŒ‰é”®)    |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|                         |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    æ˜¾ç¤ºå± (LCD)          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|                         |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    é£æ‰‡æ§åˆ¶ (LED/èœ‚é¸£å™¨) |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+-------------------------+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¾ç¤ºå±ï¼šæ˜¾ç¤ºæ¸©åº¦ã€æ¹¿åº¦ã€å…‰ç…§åº¦ã€å½“å‰æ¨¡å¼ï¼ˆæ‰‹åŠ¨/è‡ªåŠ¨ï¼‰å’Œé£æ‰‡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;æŒ‰é”®é¢æ¿ï¼š5ä¸ªæŒ‰é”®ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š&lt;ul&gt;
&lt;li&gt;åˆ‡æ¢æ¨¡å¼æŒ‰é”®ï¼ˆæ‰‹åŠ¨/è‡ªåŠ¨ï¼‰&lt;/li&gt;
&lt;li&gt;å¯åŠ¨é£æ‰‡çš„æ§åˆ¶æŒ‰é”®&lt;/li&gt;
&lt;li&gt;åœæ­¢é£æ‰‡çš„æ§åˆ¶æŒ‰é”®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;LED ç¯ï¼šæŒ‡ç¤ºé£æ‰‡æ˜¯å¦æ­£åœ¨è¿è¡Œï¼ˆç»¿è‰²ä¸ºè¿è¡Œï¼Œçº¢è‰²ä¸ºåœæ­¢ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;èœ‚é¸£å™¨ï¼šåœ¨é£æ‰‡è¿è¡Œæ—¶ä»¥ 1Hz çš„é¢‘ç‡å‘å‡ºå£°éŸ³ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;3.2 4G ç½‘å…³èŠ‚ç‚¹åŸå‹å›¾&lt;/b&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;+-------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    LoRa æ¥æ”¶æ¨¡å—        |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    (æ¥æ”¶æ•°æ®)           |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|                         |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    æ˜¾ç¤ºå± (LCD)          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|                         |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    4G ç½‘ç»œæ¨¡å—          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|    (ä¸Šä¼ æ•°æ®)           |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+-------------------------+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;æ˜¾ç¤ºå±ï¼šæ˜¾ç¤ºæ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ã€æ¨¡å¼çŠ¶æ€å’Œé£æ‰‡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;LoRa æ¥æ”¶æ¨¡å—ï¼šæ¥æ”¶æ™ºèƒ½èŠ‚ç‚¹å‘é€çš„ä¼ æ„Ÿå™¨æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;4G ç½‘ç»œæ¨¡å—ï¼šå°†æ¥æ”¶åˆ°çš„æ•°æ®ä¸Šä¼ åˆ° MOTT æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;3.3 åº”ç”¨è½¯ä»¶åŸå‹å›¾ï¼ˆç”µè„‘ç«¯æˆ–æ‰‹æœºç«¯ï¼‰&lt;/b&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;+-------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| ç™»å½•ç•Œé¢                                               |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|   - ç”¨æˆ·åè¾“å…¥æ¡†                                        |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|   - å¯†ç è¾“å…¥æ¡†                                          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|   - ç™»å½•æŒ‰é’®                                            |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+-------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| ä¸»ç•Œé¢                                                 |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|   - å®æ—¶æ˜¾ç¤ºæ¸©æ¹¿åº¦ã€å…‰ç…§åº¦ã€é£æ‰‡çŠ¶æ€ã€æ‰‹åŠ¨/è‡ªåŠ¨æ¨¡å¼   |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|   - æ‰‹åŠ¨æ§åˆ¶æŒ‰é’® (å¯åŠ¨/åœæ­¢é£æ‰‡)                       |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|   - è‡ªåŠ¨æ¨¡å¼é˜ˆå€¼è®¾ç½® (æ¸©åº¦ã€å…‰ç…§åº¦)                    |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|   - çŠ¶æ€æ˜¾ç¤ºï¼šå½“å‰æ¨¡å¼ï¼ˆæ‰‹åŠ¨/è‡ªåŠ¨ï¼‰ã€é£æ‰‡çŠ¶æ€ï¼ˆå¼€/å…³ï¼‰|&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+-------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;4-ç³»ç»Ÿè®¾è®¡æ­¥éª¤&#34;&gt;&lt;a href=&#34;#4-ç³»ç»Ÿè®¾è®¡æ­¥éª¤&#34; class=&#34;headerlink&#34; title=&#34;4. ç³»ç»Ÿè®¾è®¡æ­¥éª¤&#34;&gt;&lt;/a&gt;&lt;b&gt;4. ç³»ç»Ÿè®¾è®¡æ­¥éª¤&lt;/b&gt;&lt;/h4&gt;&lt;p&gt;&lt;b&gt;4.1 ç¡¬ä»¶è®¾è®¡ä¸å¼€å‘&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€‰æ‹©é€‚å½“çš„ä¼ æ„Ÿå™¨ï¼šæ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨ï¼ˆå¦‚ DHT22ï¼‰ã€å…‰ç…§åº¦ä¼ æ„Ÿå™¨ã€é£æ‰‡æ§åˆ¶æ¨¡å—ã€LED æŒ‡ç¤ºç¯ã€èœ‚é¸£å™¨ã€‚&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½èŠ‚ç‚¹ç”µè·¯è®¾è®¡ï¼šè®¾è®¡ç”µæºç®¡ç†ç”µè·¯ï¼Œç¡®ä¿æ‰€æœ‰ä¼ æ„Ÿå™¨å’Œæ§åˆ¶ç»„ä»¶èƒ½æ­£å¸¸å·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;LoRa æ¨¡å—é›†æˆï¼šå°† LoRa æ¨¡å—é›†æˆåˆ°æ™ºèƒ½èŠ‚ç‚¹ä¸­ï¼Œå®ç°æ•°æ®çš„æ— çº¿ä¼ è¾“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;4.2 è½¯ä»¶å¼€å‘&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ™ºèƒ½èŠ‚ç‚¹ç¨‹åºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–å†™ä»£ç è·å–ä¼ æ„Ÿå™¨æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ§åˆ¶é£æ‰‡åŠ LED æŒ‡ç¤ºç¯ã€‚&lt;/li&gt;
&lt;li&gt;å®ç°æ‰‹åŠ¨ä¸è‡ªåŠ¨æ¨¡å¼çš„åˆ‡æ¢ã€‚&lt;/li&gt;
&lt;li&gt;å®ç° LoRa æ•°æ®å‘é€åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;4G ç½‘å…³èŠ‚ç‚¹ç¨‹åºï¼š&lt;ul&gt;
&lt;li&gt;æ¥æ”¶ LoRa æ•°æ®å¹¶é€šè¿‡ 4G ç½‘ç»œä¸Šä¼ è‡³ MOTT æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MOTT æœåŠ¡å™¨å¼€å‘ï¼š&lt;ul&gt;
&lt;li&gt;æä¾›æ•°æ®å­˜å‚¨å’Œè¿œç¨‹ç®¡ç†æ¥å£ï¼ˆAPIï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åº”ç”¨è½¯ä»¶å¼€å‘ï¼š&lt;ul&gt;
&lt;li&gt;å®ç°ç”¨æˆ·ç™»å½•ã€æ‰‹åŠ¨æ§åˆ¶ã€è‡ªåŠ¨æ§åˆ¶ã€æ•°æ®å±•ç¤ºç­‰åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;4.3 ç³»ç»Ÿé›†æˆä¸æµ‹è¯•&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¡¬ä»¶é›†æˆï¼šå°†ä¼ æ„Ÿå™¨ã€LoRa æ¨¡å—ã€æ˜¾ç¤ºå±ç­‰ç¡¬ä»¶è¿æ¥è‡³æ™ºèƒ½èŠ‚ç‚¹å’Œ 4G ç½‘å…³èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;åŠŸèƒ½æµ‹è¯•ï¼šæµ‹è¯•æ‰‹åŠ¨æ¨¡å¼ã€è‡ªåŠ¨æ¨¡å¼ã€æ•°æ®ä¼ è¾“åŠŸèƒ½ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;æ€§èƒ½ä¼˜åŒ–ï¼šç¡®ä¿ç³»ç»Ÿåœ¨å®æ—¶æ•°æ®ä¼ è¾“å’Œæ§åˆ¶ä¸­çš„ç¨³å®šæ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;b&gt;4.4 éƒ¨ç½²ä¸ç»´æŠ¤&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éƒ¨ç½²æ™ºèƒ½èŠ‚ç‚¹å’Œ 4G ç½‘å…³ï¼šå°†ç³»ç»Ÿéƒ¨ç½²åˆ°å®é™…å†œä¸šç¯å¢ƒä¸­ï¼Œè¿›è¡Œç°åœºæµ‹è¯•å’Œè°ƒè¯•ã€‚&lt;/li&gt;
&lt;li&gt;ç»´æŠ¤ä¸æ›´æ–°ï¼šå®šæœŸæ£€æŸ¥ç³»ç»Ÿï¼Œè¿›è¡Œå¿…è¦çš„åŠŸèƒ½æ›´æ–°å’Œä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="å†œä¸šç³»ç»Ÿ" />
        <category term="ç³»ç»Ÿè®¾è®¡" />
        <updated>2025-01-10T14:34:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2025/01/03/php-serial-port-development/</id>
        <title>phpä¸²å£å¼€å‘</title>
        <link rel="alternate" href="https://erik.xyz/2025/01/03/php-serial-port-development/"/>
        <content type="html">&lt;p&gt;ä½¿ç”¨å¤–ç½®è®¾å¤‡ï¼Œé€šè¿‡ä¸²å£å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚é‚£ä¹ˆï¼Œå°±è¦åœ¨phpç«¯æœ‰ä¸ªä¸²å£çš„æ“ä½œä»£ç ã€‚&lt;br&gt;PHP çš„ dio æ‰©å±•ï¼ˆDirect I/Oï¼‰æä¾›äº†å¯¹åº•å±‚ I/O æ“ä½œçš„è®¿é—®ï¼ŒåŒ…æ‹¬ä¸²å£é€šä¿¡ã€‚é€šè¿‡ dio æ‰©å±•ï¼Œä½ å¯ä»¥ç›´æ¥æ“ä½œä¸²å£è®¾å¤‡æ–‡ä»¶ï¼ˆå¦‚ /dev/ttyUSB0 æˆ– COM1ï¼‰æ¥å®ç°ä¸²å£é€šä¿¡ã€‚&lt;br&gt; &lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-å®‰è£…-dio-æ‰©å±•&#34;&gt;&lt;a href=&#34;#1-å®‰è£…-dio-æ‰©å±•&#34; class=&#34;headerlink&#34; title=&#34;1. å®‰è£… dio æ‰©å±•&#34;&gt;&lt;/a&gt;1. å®‰è£… dio æ‰©å±•&lt;/h3&gt;&lt;p&gt;dio æ‰©å±•æ˜¯ PHP çš„ä¸€ä¸ª PECL æ‰©å±•ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®‰è£…ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ Linux ä¸Šå®‰è£…ï¼š&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo apt-get install php-dev  # å®‰è£… PHP å¼€å‘å·¥å…·&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo pecl install dio         # å®‰è£… dio æ‰©å±•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…å®Œæˆåï¼Œåœ¨ php.ini æ–‡ä»¶ä¸­å¯ç”¨æ‰©å±•ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;extension=dio.so&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2-ä½¿ç”¨-dio-å®ç°ä¸²å£é€šä¿¡&#34;&gt;&lt;a href=&#34;#2-ä½¿ç”¨-dio-å®ç°ä¸²å£é€šä¿¡&#34; class=&#34;headerlink&#34; title=&#34;2. ä½¿ç”¨ dio å®ç°ä¸²å£é€šä¿¡&#34;&gt;&lt;/a&gt;2. ä½¿ç”¨ dio å®ç°ä¸²å£é€šä¿¡&lt;/h3&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ dio æ‰©å±•å®ç°ä¸²å£é€šä¿¡çš„ç¤ºä¾‹ä»£ç ï¼š&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;?php&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// ä¸²å£è®¾å¤‡è·¯å¾„&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$device = &amp;#x27;/dev/pts/4&amp;#x27;; // Linux&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// $device = &amp;#x27;COM1&amp;#x27;;      // Windows&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// æ‰“å¼€ä¸²å£è®¾å¤‡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$fd = dio_open($device, O_RDWR | O_NOCTTY | O_NONBLOCK);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;if (!$fd) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    die(&amp;quot;æ— æ³•æ‰“å¼€ä¸²å£è®¾å¤‡: $device\n&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// é…ç½®ä¸²å£å‚æ•°&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dio_tcsetattr($fd, [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;baud&amp;#x27; =&amp;gt; 9600,          // æ³¢ç‰¹ç‡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;bits&amp;#x27; =&amp;gt; 8,             // æ•°æ®ä½&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;stop&amp;#x27; =&amp;gt; 1,             // åœæ­¢ä½&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;parity&amp;#x27; =&amp;gt; 0,           // æ ¡éªŒä½ (0: none, 1: odd, 2: even)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#x27;flow_control&amp;#x27; =&amp;gt; 0,     // æµæ§åˆ¶ (0: none, 1: hardware)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å‘é€æ•°æ®åˆ°ä¸²å£&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$message = &amp;quot;ä½ å¥½æˆ‘åœ¨https://erik.xyzä¸Šå‡ºç”Ÿäº†ï¼&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dio_write($fd, $message);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;echo &amp;quot;å·²å‘é€: $message&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// ä»ä¸²å£è¯»å–æ•°æ®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$data = dio_read($fd, 1024); // è¯»å–æœ€å¤š 1024 å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;echo &amp;quot;å·²æ¥æ”¶: $data\n&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// å…³é—­ä¸²å£&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dio_close($fd);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-ä»£ç è¯´æ˜&#34;&gt;&lt;a href=&#34;#3-ä»£ç è¯´æ˜&#34; class=&#34;headerlink&#34; title=&#34;3. ä»£ç è¯´æ˜&#34;&gt;&lt;/a&gt;3. ä»£ç è¯´æ˜&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;dio_open: æ‰“å¼€ä¸²å£è®¾å¤‡æ–‡ä»¶ã€‚O_RDWR è¡¨ç¤ºä»¥è¯»å†™æ¨¡å¼æ‰“å¼€ï¼ŒO_NOCTTY è¡¨ç¤ºä¸å°†è®¾å¤‡ä½œä¸ºæ§åˆ¶ç»ˆç«¯ï¼ŒO_NONBLOCK è¡¨ç¤ºéé˜»å¡æ¨¡å¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;dio_tcsetattr: é…ç½®ä¸²å£å‚æ•°ï¼ŒåŒ…æ‹¬æ³¢ç‰¹ç‡ã€æ•°æ®ä½ã€åœæ­¢ä½ã€æ ¡éªŒä½å’Œæµæ§åˆ¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;dio_write: å‘ä¸²å£å†™å…¥æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;dio_read: ä»ä¸²å£è¯»å–æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;dio_close: å…³é—­ä¸²å£è®¾å¤‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-ä¸²å£å‚æ•°é…ç½®&#34;&gt;&lt;a href=&#34;#4-ä¸²å£å‚æ•°é…ç½®&#34; class=&#34;headerlink&#34; title=&#34;4. ä¸²å£å‚æ•°é…ç½®&#34;&gt;&lt;/a&gt;4. ä¸²å£å‚æ•°é…ç½®&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;dio_tcsetattr çš„é…ç½®é€‰é¡¹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;baud: æ³¢ç‰¹ç‡ï¼ˆå¦‚ 9600ã€19200ã€38400ã€57600ã€115200ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bits: æ•°æ®ä½ï¼ˆé€šå¸¸ä¸º 8ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;stop: åœæ­¢ä½ï¼ˆ1 æˆ– 2ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parity: æ ¡éªŒä½ï¼ˆ0: æ— æ ¡éªŒï¼Œ1: å¥‡æ ¡éªŒï¼Œ2: å¶æ ¡éªŒï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;flow_control: æµæ§åˆ¶ï¼ˆ0: æ— æµæ§åˆ¶ï¼Œ1: ç¡¬ä»¶æµæ§åˆ¶ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é‚£ä¹ˆè¿™æ—¶å€™éœ€è¦æµ‹è¯•ä¸€ä¸‹ä»£ç ã€‚é‚£æ€»ä¸èƒ½çœŸçš„æ‰¾ä¸ªä¸²å£è®¾å¤‡å§ï¼Œç„¶è€Œè™šæ‹Ÿä¸²å£çœŸé¦™ã€‚&#34;&gt;&lt;a href=&#34;#é‚£ä¹ˆè¿™æ—¶å€™éœ€è¦æµ‹è¯•ä¸€ä¸‹ä»£ç ã€‚é‚£æ€»ä¸èƒ½çœŸçš„æ‰¾ä¸ªä¸²å£è®¾å¤‡å§ï¼Œç„¶è€Œè™šæ‹Ÿä¸²å£çœŸé¦™ã€‚&#34; class=&#34;headerlink&#34; title=&#34;é‚£ä¹ˆè¿™æ—¶å€™éœ€è¦æµ‹è¯•ä¸€ä¸‹ä»£ç ã€‚é‚£æ€»ä¸èƒ½çœŸçš„æ‰¾ä¸ªä¸²å£è®¾å¤‡å§ï¼Œç„¶è€Œè™šæ‹Ÿä¸²å£çœŸé¦™ã€‚&#34;&gt;&lt;/a&gt;é‚£ä¹ˆè¿™æ—¶å€™éœ€è¦æµ‹è¯•ä¸€ä¸‹ä»£ç ã€‚é‚£æ€»ä¸èƒ½çœŸçš„æ‰¾ä¸ªä¸²å£è®¾å¤‡å§ï¼Œç„¶è€Œè™šæ‹Ÿä¸²å£çœŸé¦™ã€‚&lt;/h2&gt;&lt;h3 id=&#34;5-åœ¨Linuxä¸­ä½¿ç”¨-socat-æ¨¡æ‹Ÿè™šæ‹Ÿä¸²å£&#34;&gt;&lt;a href=&#34;#5-åœ¨Linuxä¸­ä½¿ç”¨-socat-æ¨¡æ‹Ÿè™šæ‹Ÿä¸²å£&#34; class=&#34;headerlink&#34; title=&#34;5.åœ¨Linuxä¸­ä½¿ç”¨ socat æ¨¡æ‹Ÿè™šæ‹Ÿä¸²å£&#34;&gt;&lt;/a&gt;5.åœ¨Linuxä¸­ä½¿ç”¨ socat æ¨¡æ‹Ÿè™šæ‹Ÿä¸²å£&lt;/h3&gt;&lt;p&gt;socat æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥åˆ›å»ºè™šæ‹Ÿä¸²å£å¯¹ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£… socatï¼š&lt;br&gt;åœ¨Debian/Ubuntuç³»ç»Ÿä¸Šï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo apt install socat&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åˆ›å»ºè™šæ‹Ÿä¸²å£å¯¹ï¼š&lt;br&gt;è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€å¯¹è™šæ‹Ÿä¸²å£ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;socat -d -d pty,raw,echo=0 pty,raw,echo=0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿è¡Œåå¦‚å›¾ï¼š&lt;br&gt;&lt;img src=&#34;/img/2024/20250103151316.png&#34; alt=&#34;https://erik.xyz&#34;&gt;&lt;br&gt;è¿™æ ·å¯ä»¥çœ‹åˆ°å‡ºç°ä¸¤ä¸ªè™šæ‹Ÿä¸²å£ã€‚&lt;br&gt;æŠŠä¸Šé¢çš„phpä»£ç æ”¾åˆ°æ–‡ä»¶ä¸­è¿è¡Œä¸€ä¸‹:&lt;br&gt;&lt;img src=&#34;/img/2024/20250103151620.png&#34; alt=&#34;https://erik.xyz&#34;&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶æ–°å¼€ä¸ªçª—å£æ‰§è¡Œï¼š&lt;code&gt;cat /dev/pts/5&lt;/code&gt;æ¥è¯»å–ä¸²å£æ•°æ®ã€‚&lt;br&gt;å¦‚ä¸‹å›¾ï¼š&lt;br&gt;&lt;img src=&#34;/img/2024/20250103151927.png&#34; alt=&#34;https://erik.xyz&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯å‘é€æ•°æ®ï¼Œé‚£æ¥æ”¶æ•°æ®æ€ä¹ˆçœ‹å‘¢ã€‚&lt;br&gt;é‚£å°±åœ¨ä»£ç ä¸Šæ”¹é€ ä¸€ä¸‹åŠ ä¸ªforï¼š&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;// ä»ä¸²å£è¯»å–æ•°æ®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$data = dio_read($fd, 1024); // è¯»å–æœ€å¤š 1024 å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;echo &amp;quot;å·²æ¥æ”¶: $data\n&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;è¿™é‡Œæ”¹é€ ä¸»è¦æ˜¯æµ‹è¯•ç”¨ï¼Œå®é™…ä¸Šä¸éœ€è¦ã€‚&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;//æµ‹è¯•æ¥æ”¶&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;for($i=0;$i&amp;lt;20;$i++)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    sleep(3);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;// ä»ä¸²å£è¯»å–æ•°æ®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$data = dio_read($fd, 1024); // è¯»å–æœ€å¤š 1024 å­—èŠ‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;echo &amp;quot;å·²æ¥æ”¶: $data\n&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;br&gt;é‚£ä¹ˆï¼Œå†æ¬¡è¿è¡Œphpä»£ç ,ç„¶ååœ¨æ–°çª—å£è¿è¡Œ&lt;code&gt;echo &amp;quot;æ¬¢è¿ä½ å‡ºç”Ÿåœ¨https://erik.xyz&amp;quot; &amp;gt; /dev/pts/5&lt;/code&gt;æ¥å‘é€ä¿¡æ¯ï¼Œä½ ä¼šçœ‹åˆ°å¦‚å›¾çš„æ¥æ”¶ï¼š&lt;br&gt;&lt;img src=&#34;/img/2024/20250103152421.png&#34; alt=&#34;https://erik.xyz&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œå‘é€å’Œæ¥æ”¶ä¸²å£å·²ç»å¥½äº†ã€‚&lt;/p&gt;
</content>
        <category term="php" />
        <category term="phpä¸²å£å¼€å‘" />
        <updated>2025-01-03T07:30:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2024/12/18/maven-intranet-library/</id>
        <title>mavenå†…ç½‘åº“</title>
        <link rel="alternate" href="https://erik.xyz/2024/12/18/maven-intranet-library/"/>
        <content type="html">&lt;h4 id=&#34;1-æ­å»º-Maven-ç§æœ‰ä»“åº“&#34;&gt;&lt;a href=&#34;#1-æ­å»º-Maven-ç§æœ‰ä»“åº“&#34; class=&#34;headerlink&#34; title=&#34;1. æ­å»º Maven ç§æœ‰ä»“åº“&#34;&gt;&lt;/a&gt;1. æ­å»º Maven ç§æœ‰ä»“åº“&lt;/h4&gt;&lt;p&gt;é¦–å…ˆï¼Œéœ€è¦åœ¨å†…ç½‘ç¯å¢ƒä¸­æ­å»ºä¸€ä¸ª Maven ä»“åº“ï¼Œå¸¸ç”¨çš„ç§æœ‰ Maven ä»“åº“å·¥å…·æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nexus Repositoryï¼šSonatype Nexus æ˜¯æœ€æµè¡Œçš„ç§æœ‰ Maven ä»“åº“ç®¡ç†å·¥å…·ã€‚&lt;/li&gt;
&lt;li&gt;Artifactoryï¼šJFrog Artifactory æ˜¯å¦ä¸€ç§æµè¡Œçš„æ„å»ºç®¡ç†å·¥å…·ï¼Œæä¾›äº†ç§æœ‰ä»“åº“çš„æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;Apache Archivaï¼šApache Archiva ä¹Ÿæ˜¯ä¸€ä¸ªæ”¯æŒ Maven çš„ä»“åº“ç®¡ç†å·¥å…·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æ­å»º Nexus Repository çš„ç®€å•æ­¥éª¤ï¼š&lt;br&gt;&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1.1 å®‰è£… Nexus Repository&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸‹è½½ Nexusï¼š è®¿é—® Nexus Repository ä¸‹è½½é¡µé¢ ä¸‹è½½ Nexus OSS ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è§£å‹å¹¶å¯åŠ¨ï¼š è§£å‹ä¸‹è½½çš„å‹ç¼©åŒ…å¹¶å¯åŠ¨ Nexusã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cd /opt/nexus/bin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;./nexus start&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—® Nexus UIï¼š æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® Nexus çš„é»˜è®¤åœ°å€ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;http://localhost:8081&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é»˜è®¤ç”¨æˆ·åä¸º adminï¼Œå¯†ç ä¸º admin123ï¼Œå¯ä»¥åœ¨é¦–æ¬¡ç™»å½•åä¿®æ”¹å¯†ç ã€‚&lt;/p&gt;
&lt;p&gt;1.2 é…ç½® Maven ä»“åº“&lt;/p&gt;
&lt;p&gt;åœ¨ Nexus UI ä¸­ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Maven ä»“åº“ã€‚åˆ›å»ºä»“åº“åï¼Œä½ å¯ä»¥ä¸Šä¼ å…¬å¸çš„å†…éƒ¨ä¾èµ–ã€æ’ä»¶å’Œæ„å»ºå·¥ä»¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-é…ç½®-Maven-ä½¿ç”¨å†…ç½‘ä»“åº“&#34;&gt;&lt;a href=&#34;#2-é…ç½®-Maven-ä½¿ç”¨å†…ç½‘ä»“åº“&#34; class=&#34;headerlink&#34; title=&#34;2. é…ç½® Maven ä½¿ç”¨å†…ç½‘ä»“åº“&#34;&gt;&lt;/a&gt;2. é…ç½® Maven ä½¿ç”¨å†…ç½‘ä»“åº“&lt;/h4&gt;&lt;p&gt;é…ç½® Maven ä½¿ç”¨å†…ç½‘ä»“åº“éœ€è¦ä¿®æ”¹ settings.xml æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;2.1 ä¿®æ”¹ settings.xml&lt;/p&gt;
&lt;p&gt;åœ¨ Maven çš„ settings.xml æ–‡ä»¶ä¸­ï¼Œé…ç½®ç§æœ‰ä»“åº“çš„åœ°å€å’Œè®¤è¯ä¿¡æ¯ã€‚settings.xml æ–‡ä»¶é€šå¸¸ä½äº ~/.m2/ ç›®å½•ä¸‹ï¼ˆç”¨æˆ·çº§åˆ«é…ç½®ï¼‰æˆ–è€… ${MAVEN_HOME}/conf/ ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯é…ç½®å†…ç½‘ Maven ä»“åº“çš„ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;settings xmlns=&amp;quot;http://maven.apache.org/SETTINGS/1.0.0&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          xsi:schemaLocation=&amp;quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;mirrors&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;!-- é…ç½®ç§æœ‰ä»“åº“é•œåƒ --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;mirror&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;id&amp;gt;nexus&amp;lt;/id&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;mirrorOf&amp;gt;external:http://central&amp;lt;/mirrorOf&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;url&amp;gt;http://your-nexus-server:8081/repository/maven-public/&amp;lt;/url&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;blocked&amp;gt;false&amp;lt;/blocked&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;/mirror&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;/mirrors&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;repositories&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;repository&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;id&amp;gt;internal-repo&amp;lt;/id&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;url&amp;gt;http://your-nexus-server:8081/repository/maven-releases/&amp;lt;/url&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;snapshots&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;/snapshots&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;/repository&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;/repositories&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;pluginRepositories&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;pluginRepository&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;id&amp;gt;internal-plugins&amp;lt;/id&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;url&amp;gt;http://your-nexus-server:8081/repository/maven-plugins/&amp;lt;/url&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;/pluginRepository&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;/pluginRepositories&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;servers&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;!-- é…ç½® Maven ä»“åº“è®¤è¯ --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;server&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;id&amp;gt;nexus&amp;lt;/id&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;username&amp;gt;your-nexus-username&amp;lt;/username&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;lt;password&amp;gt;your-nexus-password&amp;lt;/password&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;/server&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;/servers&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/settings&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;2.2 é…ç½®é•œåƒå’Œä»“åº“&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é•œåƒï¼ˆMirrorï¼‰ï¼šåœ¨ &lt;mirrors&gt; æ ‡ç­¾ä¸­é…ç½®ç§æœ‰ä»“åº“çš„ URLï¼Œå°† Maven çš„ä¸­å¤®ä»“åº“æˆ–å…¶ä»–å…¬å…±ä»“åº“çš„è¯·æ±‚ä»£ç†åˆ°ç§æœ‰ä»“åº“ä¸­ã€‚é€šè¿‡ mirrorOf é…ç½®æ¥é€‰æ‹©ä»£ç†å“ªäº›ä»“åº“ï¼ˆexternal:&lt;a href=&#34;http://central&#34;&gt;http://central&lt;/a&gt; è¡¨ç¤ºä»£ç†æ‰€æœ‰å¤–éƒ¨ä»“åº“ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä»“åº“ï¼ˆRepositoryï¼‰ï¼šåœ¨ &lt;repositories&gt; å’Œ &lt;pluginRepositories&gt; æ ‡ç­¾ä¸­é…ç½®ä½ çš„å†…ç½‘ä»“åº“çš„ URLã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è®¤è¯ï¼ˆServer Authenticationï¼‰ï¼šåœ¨ &lt;servers&gt; æ ‡ç­¾ä¸­é…ç½®å†…ç½‘ä»“åº“çš„è®¤è¯ä¿¡æ¯ï¼ˆå¦‚æœä»“åº“éœ€è¦è®¤è¯ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-é…ç½®é¡¹ç›®ä½¿ç”¨å†…ç½‘ä»“åº“&#34;&gt;&lt;a href=&#34;#3-é…ç½®é¡¹ç›®ä½¿ç”¨å†…ç½‘ä»“åº“&#34; class=&#34;headerlink&#34; title=&#34;3. é…ç½®é¡¹ç›®ä½¿ç”¨å†…ç½‘ä»“åº“&#34;&gt;&lt;/a&gt;3. é…ç½®é¡¹ç›®ä½¿ç”¨å†…ç½‘ä»“åº“&lt;/h4&gt;&lt;p&gt;åœ¨é¡¹ç›®çš„ pom.xml æ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä¸éœ€è¦é¢å¤–é…ç½®ä»“åº“ï¼Œå› ä¸º Maven ä¼šä½¿ç”¨ settings.xml ä¸­é…ç½®çš„å†…ç½‘ä»“åº“ã€‚ä½†æ˜¯å¦‚æœéœ€è¦å¼ºåˆ¶æŒ‡å®šæŸä¸ªä»“åº“ï¼Œå¯ä»¥åœ¨ pom.xml ä¸­é…ç½® &lt;repositories&gt; æ ‡ç­¾ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;repository&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;id&amp;gt;nexus-repo&amp;lt;/id&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;url&amp;gt;http://your-nexus-server:8081/repository/maven-releases/&amp;lt;/url&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;/repository&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;4-ä¸Šä¼ å’Œä¸‹è½½ä¾èµ–&#34;&gt;&lt;a href=&#34;#4-ä¸Šä¼ å’Œä¸‹è½½ä¾èµ–&#34; class=&#34;headerlink&#34; title=&#34;4. ä¸Šä¼ å’Œä¸‹è½½ä¾èµ–&#34;&gt;&lt;/a&gt;4. ä¸Šä¼ å’Œä¸‹è½½ä¾èµ–&lt;/h4&gt;&lt;p&gt;4.1 ä¸Šä¼ ä¾èµ–åˆ°å†…ç½‘ä»“åº“&lt;br&gt;ä½ å¯ä»¥é€šè¿‡ Maven å‘½ä»¤å°†æœ¬åœ°æ„å»ºçš„ JAR æ–‡ä»¶ä¸Šä¼ åˆ°å†…ç½‘ä»“åº“ã€‚ä¾‹å¦‚ï¼Œå°†æŸä¸ª JAR ä¸Šä¼ åˆ° Nexusï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;mvn deploy:deploy-file \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -DgroupId=com.example \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -DartifactId=my-artifact \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -Dversion=1.0.0 \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -Dpackaging=jar \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -Dfile=path/to/your-artifact.jar \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -DrepositoryId=nexus \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -Durl=http://your-nexus-server:8081/repository/maven-releases/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;4.2 ä»å†…ç½‘ä»“åº“ä¸‹è½½ä¾èµ–&lt;/p&gt;
&lt;p&gt;é…ç½®å¥½å†…ç½‘ä»“åº“åï¼ŒMaven ä¼šè‡ªåŠ¨ä»å†…ç½‘ä»“åº“ä¸‹è½½ä¾èµ–ã€‚å¦‚æœä»“åº“ä¸­æ²¡æœ‰è¯¥ä¾èµ–ï¼ŒMaven ä¼šå°è¯•ä»å…¶ä»–é…ç½®çš„ä»“åº“ä¸‹è½½ã€‚&lt;/p&gt;
&lt;h4 id=&#34;5-ä½¿ç”¨ç§æœ‰ä»“åº“ä¸­çš„ä¾èµ–&#34;&gt;&lt;a href=&#34;#5-ä½¿ç”¨ç§æœ‰ä»“åº“ä¸­çš„ä¾èµ–&#34; class=&#34;headerlink&#34; title=&#34;5. ä½¿ç”¨ç§æœ‰ä»“åº“ä¸­çš„ä¾èµ–&#34;&gt;&lt;/a&gt;5. ä½¿ç”¨ç§æœ‰ä»“åº“ä¸­çš„ä¾èµ–&lt;/h4&gt;&lt;p&gt;ä¸€æ—¦ä»“åº“é…ç½®å¥½ï¼ŒMaven å°†ä¼šä»é…ç½®çš„å†…ç½‘ä»“åº“ä¸‹è½½ä¾èµ–ã€‚ä½ å¯ä»¥åœ¨é¡¹ç›®çš„ pom.xml ä¸­æ­£å¸¸å¼•ç”¨ä¾èµ–ï¼ŒMaven ä¼šè‡ªåŠ¨ä»ç§æœ‰ä»“åº“ä¸­æ‹‰å–ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;groupId&amp;gt;com.example&amp;lt;/groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;artifactId&amp;gt;my-artifact&amp;lt;/artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;lt;version&amp;gt;1.0.0&amp;lt;/version&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;6-é…ç½®é•œåƒä»¥æé«˜æ„å»ºé€Ÿåº¦ï¼ˆå¯é€‰ï¼‰&#34;&gt;&lt;a href=&#34;#6-é…ç½®é•œåƒä»¥æé«˜æ„å»ºé€Ÿåº¦ï¼ˆå¯é€‰ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;6. é…ç½®é•œåƒä»¥æé«˜æ„å»ºé€Ÿåº¦ï¼ˆå¯é€‰ï¼‰&#34;&gt;&lt;/a&gt;6. é…ç½®é•œåƒä»¥æé«˜æ„å»ºé€Ÿåº¦ï¼ˆå¯é€‰ï¼‰&lt;/h4&gt;&lt;p&gt;ä¸ºäº†æé«˜æ„å»ºé€Ÿåº¦ï¼Œä½ å¯ä»¥é…ç½® settings.xml æ¥ä½¿ç”¨ç§æœ‰ä»“åº“ä½œä¸º Maven çš„é»˜è®¤é•œåƒï¼Œç¡®ä¿æ‰€æœ‰çš„æ„å»ºä¾èµ–éƒ½ä»ç§æœ‰ä»“åº“ä¸­æ‹‰å–ï¼Œé¿å…æ¯æ¬¡è®¿é—®å¤–éƒ¨ä»“åº“ï¼Œé™ä½æ„å»ºæ—¶é—´ã€‚&lt;/p&gt;
</content>
        <category term="mavenæ­å»ºåº“" />
        <category term="maven" />
        <category term="mavenå†…ç½‘åº“" />
        <updated>2024-12-18T12:55:00.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2024/12/12/intranet-spring-boot-install/</id>
        <title>spring bootå†…ç½‘éƒ¨ç½²</title>
        <link rel="alternate" href="https://erik.xyz/2024/12/12/intranet-spring-boot-install/"/>
        <content type="html">&lt;h4 id=&#34;1-å‡†å¤‡ç¯å¢ƒ&#34;&gt;&lt;a href=&#34;#1-å‡†å¤‡ç¯å¢ƒ&#34; class=&#34;headerlink&#34; title=&#34;1. å‡†å¤‡ç¯å¢ƒ&#34;&gt;&lt;/a&gt;1. å‡†å¤‡ç¯å¢ƒ&lt;/h4&gt;&lt;p&gt;ç¡®ä¿å†…ç½‘ä¸­çš„æœåŠ¡å™¨æˆ–æœºå™¨å…·å¤‡è¿è¡Œ Spring Boot åº”ç”¨çš„åŸºæœ¬ç¯å¢ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDKï¼šç¡®ä¿æœåŠ¡å™¨å®‰è£…äº†åˆé€‚ç‰ˆæœ¬çš„ JDKï¼ˆé€šå¸¸å»ºè®®ä½¿ç”¨ Java 8 åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Maven/Gradleï¼šæ ¹æ®é¡¹ç›®ä½¿ç”¨çš„æ„å»ºå·¥å…·å®‰è£… Maven æˆ– Gradleã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“ï¼šå¦‚æœåº”ç”¨éœ€è¦è¿æ¥æ•°æ®åº“ï¼Œç¡®ä¿æ•°æ®åº“åœ¨å†…ç½‘ä¸­å¯è®¿é—®ï¼Œä¸”è¿æ¥é…ç½®æ­£ç¡®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;
&lt;h4 id=&#34;2-ç¼–è¯‘-Spring-Boot-åº”ç”¨&#34;&gt;&lt;a href=&#34;#2-ç¼–è¯‘-Spring-Boot-åº”ç”¨&#34; class=&#34;headerlink&#34; title=&#34;2. ç¼–è¯‘ Spring Boot åº”ç”¨&#34;&gt;&lt;/a&gt;2. ç¼–è¯‘ Spring Boot åº”ç”¨&lt;/h4&gt;&lt;p&gt;é¦–å…ˆï¼Œä½ éœ€è¦ç¼–è¯‘ä½ çš„ Spring Boot åº”ç”¨ï¼Œç”Ÿæˆå¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åœ¨é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Maven æ„å»ºå‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;mvn clean package&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Gradle æ„å»ºå‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;./gradlew build&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¼šåœ¨ target/ æˆ– build/libs/ ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œçš„ JAR æ–‡ä»¶ï¼Œé€šå¸¸åä¸º your-application-name.jarã€‚&lt;/p&gt;
&lt;h4 id=&#34;3-ä¼ è¾“-JAR-åˆ°å†…ç½‘æœåŠ¡å™¨&#34;&gt;&lt;a href=&#34;#3-ä¼ è¾“-JAR-åˆ°å†…ç½‘æœåŠ¡å™¨&#34; class=&#34;headerlink&#34; title=&#34;3. ä¼ è¾“ JAR åˆ°å†…ç½‘æœåŠ¡å™¨&#34;&gt;&lt;/a&gt;3. ä¼ è¾“ JAR åˆ°å†…ç½‘æœåŠ¡å™¨&lt;/h4&gt;&lt;p&gt;å°†ç”Ÿæˆçš„ JAR æ–‡ä»¶ä¸Šä¼ åˆ°å†…ç½‘çš„ç›®æ ‡æœåŠ¡å™¨ã€‚å¯ä»¥ä½¿ç”¨å„ç§æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SCPï¼ˆå¦‚æœæœåŠ¡å™¨æ”¯æŒ SSHï¼‰ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;scp your-application-name.jar user@server-ip:/path/to/deploy/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;FTP æˆ– SFTPï¼ˆå¦‚æœæœ‰é…ç½® FTP æœåŠ¡ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-é…ç½®-Spring-Boot-åº”ç”¨&#34;&gt;&lt;a href=&#34;#4-é…ç½®-Spring-Boot-åº”ç”¨&#34; class=&#34;headerlink&#34; title=&#34;4. é…ç½® Spring Boot åº”ç”¨&#34;&gt;&lt;/a&gt;4. é…ç½® Spring Boot åº”ç”¨&lt;/h4&gt;&lt;p&gt;åœ¨å†…ç½‘éƒ¨ç½²æ—¶ï¼Œä½ å¯èƒ½éœ€è¦æ ¹æ®ç¯å¢ƒä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ application.properties æˆ– application.ymlã€‚å¸¸è§çš„é…ç½®é¡¹åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ˆspring.datasource.urlã€spring.datasource.username ç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ—¥å¿—é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡ç«¯å£ï¼ˆserver.portï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å®‰å…¨è®¾ç½®ï¼ˆå¦‚ç¦ç”¨å¤–éƒ¨è®¿é—®ï¼Œæˆ–è€…è®¾ç½®è®¿é—®ç™½åå•ç­‰ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä¿®æ”¹ application.properties ä¸­çš„æ•°æ®åº“é…ç½®ï¼š&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;spring.datasource.url=jdbc:mysql://localhost:3306/your_db&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;spring.datasource.username=db_user&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;spring.datasource.password=db_password&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&#34;5-å¯åŠ¨-Spring-Boot-åº”ç”¨&#34;&gt;&lt;a href=&#34;#5-å¯åŠ¨-Spring-Boot-åº”ç”¨&#34; class=&#34;headerlink&#34; title=&#34;5. å¯åŠ¨ Spring Boot åº”ç”¨&#34;&gt;&lt;/a&gt;5. å¯åŠ¨ Spring Boot åº”ç”¨&lt;/h4&gt;&lt;p&gt;åœ¨å†…ç½‘æœåŠ¡å™¨ä¸Šï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Spring Boot åº”ç”¨ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;java -jar your-application-name.jar&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœä½ å¸Œæœ›åº”ç”¨åœ¨åå°è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨ nohup æˆ–è€…ç±»ä¼¼çš„å·¥å…·ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nohup java -jar your-application-name.jar &amp;gt; output.log 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¼šå°†è¾“å‡ºé‡å®šå‘åˆ° output.log æ–‡ä»¶ï¼Œå¹¶è®©åº”ç”¨åœ¨åå°è¿è¡Œã€‚&lt;/p&gt;
&lt;h4 id=&#34;6-é…ç½®é˜²ç«å¢™å’Œç½‘ç»œ&#34;&gt;&lt;a href=&#34;#6-é…ç½®é˜²ç«å¢™å’Œç½‘ç»œ&#34; class=&#34;headerlink&#34; title=&#34;6. é…ç½®é˜²ç«å¢™å’Œç½‘ç»œ&#34;&gt;&lt;/a&gt;6. é…ç½®é˜²ç«å¢™å’Œç½‘ç»œ&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;ç¡®ä¿æœåŠ¡å™¨çš„é˜²ç«å¢™å…è®¸è®¿é—®åº”ç”¨æ‰€ç»‘å®šçš„ç«¯å£ï¼ˆé»˜è®¤æ˜¯ 8080ï¼‰ã€‚å¦‚æœä½¿ç”¨å…¶ä»–ç«¯å£ï¼Œå¯ä»¥åœ¨é˜²ç«å¢™ä¸­é…ç½®å…è®¸è®¿é—®è¯¥ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœ Spring Boot åº”ç”¨éœ€è¦é€šè¿‡å†…ç½‘çš„ç‰¹å®š IP åœ°å€æˆ–åŸŸåè®¿é—®ï¼Œç¡®ä¿ DNS æˆ– hosts é…ç½®æ­£ç¡®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;7-ç›‘æ§å’Œæ—¥å¿—&#34;&gt;&lt;a href=&#34;#7-ç›‘æ§å’Œæ—¥å¿—&#34; class=&#34;headerlink&#34; title=&#34;7. ç›‘æ§å’Œæ—¥å¿—&#34;&gt;&lt;/a&gt;7. ç›‘æ§å’Œæ—¥å¿—&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æ—¥å¿—ï¼šSpring Boot åº”ç”¨ä¼šå°†æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä½ å¯ä»¥å°†æ—¥å¿—é…ç½®ä¸ºè¾“å‡ºåˆ°æ–‡ä»¶ä¸­è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ã€‚å¸¸è§åšæ³•æ˜¯åœ¨ application.properties æˆ– application.yml ä¸­è®¾ç½®æ—¥å¿—è·¯å¾„ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;logging.file.name=/path/to/logs/application.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç›‘æ§ï¼šå¯ä»¥ä½¿ç”¨ Spring Boot çš„ Actuator æˆ–å…¶ä»–ç›‘æ§å·¥å…·ï¼ˆå¦‚ Prometheus å’Œ Grafanaï¼‰æ¥ç›‘æ§åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;8-è®¾ç½®å¼€æœºå¯åŠ¨ï¼ˆå¯é€‰ï¼‰&#34;&gt;&lt;a href=&#34;#8-è®¾ç½®å¼€æœºå¯åŠ¨ï¼ˆå¯é€‰ï¼‰&#34; class=&#34;headerlink&#34; title=&#34;8. è®¾ç½®å¼€æœºå¯åŠ¨ï¼ˆå¯é€‰ï¼‰&#34;&gt;&lt;/a&gt;8. è®¾ç½®å¼€æœºå¯åŠ¨ï¼ˆå¯é€‰ï¼‰&lt;/h4&gt;&lt;p&gt;å¦‚æœå¸Œæœ›åº”ç”¨åœ¨æœåŠ¡å™¨é‡å¯æ—¶è‡ªåŠ¨å¯åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨ systemdï¼ˆLinux ç³»ç»Ÿï¼‰æˆ–é…ç½®ä¸º Windows æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;Linux ç³»ç»Ÿ (Systemd)&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ª systemd æœåŠ¡æ–‡ä»¶ï¼Œå¦‚ /etc/systemd/system/yourapp.serviceï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[Unit]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Description=Spring Boot Application&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;After=network.target&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[Service]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;User=your_user&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ExecStart=/usr/bin/java -jar /path/to/your-application-name.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SuccessExitStatus=143&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Restart=always&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[Install]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;WantedBy=multi-user.target&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åå¯ç”¨å¹¶å¯åŠ¨æœåŠ¡ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo systemctl enable yourapp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo systemctl start yourapp&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
        <category term="springboot" />
        <category term="springbootå†…ç½‘éƒ¨ç½²" />
        <updated>2024-12-12T10:22:18.000Z</updated>
    </entry>
    <entry>
        <id>https://erik.xyz/2024/11/15/deepin-not-login/</id>
        <title>deepinæ— æ³•ç™»å½•æŠ¥é”™emergency mode</title>
        <link rel="alternate" href="https://erik.xyz/2024/11/15/deepin-not-login/"/>
        <content type="html">&lt;p&gt;ç”±äºç³»ç»Ÿé‡å¯åï¼Œæ–°å®‰è£…çš„å¾®ä¿¡ä¸€ç›´å¼¹å‡ºæ¡†ï¼Œå¡åœ¨é‚£éš¾å—ã€‚ç«‹é©¬å¼ºåˆ¶é‡å¯ï¼Œå¼€æœºåå°±ä¸€ç›´æ˜¾ç¤ºYou are in emergency modeâ€¦â€¦ä¸€å †ä¸œè¥¿ï¼Œæ„æ€æ˜¯è¯´è®©è¿›å…¥rootç”¨æˆ·ï¼ŒæŸ¥çœ‹æŠ¥é”™å¹¶ä¿®å¤ã€‚&lt;/p&gt;
&lt;p&gt;  æœ‰ç‚¹å¤´å¤§äº†ã€‚&lt;/p&gt;
&lt;p&gt;  ç³»ç»Ÿå‘½ä»¤å¯ä»¥æ˜¾ç¤ºï¼Œå›¾å½¢ç•Œé¢ä¸æ˜¾ç¤ºã€‚&lt;br&gt;  &lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;br&gt;  æœæ–­æ‹¿å‡ºå®‰è£…ç³»ç»Ÿçš„uç›˜ï¼Œä½¿ç”¨uç›˜å¯åŠ¨è¿›å…¥å®‰è£…ç•Œé¢ï¼ŒæŒ‰ctrl+alt+f4è¿›å…¥uç›˜å‘½ä»¤ç•Œé¢ã€‚è¾“å…¥startxè¿›å…¥uç›˜å›¾å½¢ç•Œé¢ã€‚è¿™ä¸‹å¯ä»¥çœ‹åˆ°ç”µè„‘çš„æŒ‚ç€ç›˜ã€‚æ ¹æ®æŒ‚ç€çš„ç›˜ä¸€ä¸ªä¸ªæ‰¾æ ¹ç›®å½•ç›˜ã€‚æ‰¾åˆ°åä½¿ç”¨uç›˜ç³»ç»Ÿçš„å‘½ä»¤çª—å£:&lt;br&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo vi /etc/fstab&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt; æ³¨é‡Šæ‰homeç›®å½•ï¼Œé‡å¯ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt; é‡å¯åä¼šæ˜¾ç¤ºä¸ªç™»å½•å›¾å½¢ç•Œé¢ã€‚è¿™ä¸ªæ˜¯å‡çš„ï¼Œæ²¡ç”¨ã€‚æŒ‰ctrl+alt+f2è¿›å…¥å‘½ä»¤ç•Œé¢ã€‚&lt;br&gt; ä½¿ç”¨è´¦å·å¯†ç ç™»å½•å‘½ä»¤ç•Œé¢ã€‚&lt;/p&gt;
&lt;p&gt; æ‰“å¼€/etc/fstabæ–‡ä»¶å–æ¶ˆhomeæ³¨é‡Šã€‚ï¼ˆè¿™é‡Œè¦çœ‹ä¸€ä¸‹homeæŒ‚è½½è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘çš„/dev/sda6ï¼‰&lt;/p&gt;
&lt;p&gt; ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¿®å¤ï¼š&lt;br&gt; &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo e2fsck /dev/sda6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt; ä½ ä¼šçœ‹åˆ°ä¸€å †ä¿®å¤ï¼Œä¸€ä¸ªä¸ªç¡®è®¤åï¼Œç­‰å¾…ä¿®å¤å®Œæˆå°±é‡å¯ç³»ç»Ÿã€‚&lt;/p&gt;
</content>
        <category term="deepin" />
        <category term="emergency" />
        <category term="emergency mode" />
        <category term="deepiné»‘å±" />
        <updated>2024-11-15T02:56:00.000Z</updated>
    </entry>
</feed>