{
    "version": "https://jsonfeed.org/version/1",
    "title": "艾瑞可erik • All posts by \"h5\" categories",
    "description": "一只PHP开发的程序猿，偶尔做做运维、Goland、Python、Java、摄影、画画、写作、顺便睡觉，反正整站都搞过。",
    "home_page_url": "https://erik.xyz",
    "items": [
        {
            "id": "https://erik.xyz/2024/10/23/rohibit-video-playback/",
            "url": "https://erik.xyz/2024/10/23/rohibit-video-playback/",
            "title": "在手机浏览器中禁止播放视频、暂停、快进等操作",
            "date_published": "2024-10-23T12:27:00.000Z",
            "content_html": "<p><b>1. 禁止暂停、快进等操作</b></p>\n<p>可以通过将 controls 属性从 <code>&lt;video&gt;</code>元素中移除，防止用户通过控制条进行操作。然后通过 JavaScript 强制控制视频播放的状态，不允许用户暂停或快进。<br><span id=\"more\"></span><br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;video id=&quot;myVideo&quot; width=&quot;100%&quot; autoplay loop&gt;</span><br><span class=\"line\">  &lt;source src=&quot;your-video.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class=\"line\">  Your browser does not support the video tag.</span><br><span class=\"line\">&lt;/video&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">  var video = document.getElementById(&quot;myVideo&quot;);</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 禁止暂停、快进等操作</span><br><span class=\"line\">  video.controls = false; // 禁用控件</span><br><span class=\"line\">  video.play(); // 强制播放</span><br><span class=\"line\">  </span><br><span class=\"line\">  // 监听时间更新事件，确保视频不被暂停或快进</span><br><span class=\"line\">  video.addEventListener(&#x27;play&#x27;, function() &#123;</span><br><span class=\"line\">    video.currentTime = 0; // 重置视频时间，避免用户快进</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  video.addEventListener(&#x27;seeked&#x27;, function() &#123;</span><br><span class=\"line\">    video.currentTime = 0; // 重置视频时间，避免用户跳跃</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  // 监听点击暂停等操作</span><br><span class=\"line\">  video.addEventListener(&#x27;pause&#x27;, function() &#123;</span><br><span class=\"line\">    video.play(); // 禁止暂停</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure><br><b>2. 使用 pointer-events 禁止点击操作</b></p>\n<p>你还可以通过 CSS 来禁止用户与视频控件进行交互。通过 pointer-events: none; 可以使用户无法点击视频，进而禁止播放、暂停等交互操作。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;video id=&quot;myVideo&quot; width=&quot;100%&quot; autoplay loop&gt;</span><br><span class=\"line\">  &lt;source src=&quot;your-video.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class=\"line\">  Your browser does not support the video tag.</span><br><span class=\"line\">&lt;/video&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">  #myVideo &#123;</span><br><span class=\"line\">    pointer-events: none; /* 禁止用户交互 */</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<p><b>3. 禁止视频控制条显示</b></p>\n<p>一些手机浏览器会自动显示视频控制条。为了禁止这种行为，可以通过 CSS 控制：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;video id=&quot;myVideo&quot; width=&quot;100%&quot; autoplay loop&gt;</span><br><span class=\"line\">  &lt;source src=&quot;your-video.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class=\"line\">  Your browser does not support the video tag.</span><br><span class=\"line\">&lt;/video&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">  #myVideo::-webkit-media-controls &#123;</span><br><span class=\"line\">    display: none !important; /* Safari/iOS */</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  #myVideo::-moz-media-controls &#123;</span><br><span class=\"line\">    display: none !important; /* Firefox */</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  #myVideo::-ms-media-controls &#123;</span><br><span class=\"line\">    display: none !important; /* IE/Edge */</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<p><b>4. 完全阻止用户与视频交互</b></p>\n<p>通过将视频元素设置为全屏，或者完全覆盖在视频上的透明层也可以实现禁止用户与视频交互的效果。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;video id=&quot;myVideo&quot; width=&quot;100%&quot; autoplay loop&gt;</span><br><span class=\"line\">  &lt;source src=&quot;your-video.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class=\"line\">  Your browser does not support the video tag.</span><br><span class=\"line\">&lt;/video&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;div id=&quot;overlay&quot; style=&quot;position:absolute; top:0; left:0; width:100%; height:100%; background: rgba(255, 255, 255, 0); pointer-events: all;&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>",
            "tags": [
                "浏览器禁止操作视频",
                "禁止视频"
            ]
        }
    ]
}