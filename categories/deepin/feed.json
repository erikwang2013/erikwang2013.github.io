{
    "version": "https://jsonfeed.org/version/1",
    "title": "艾瑞可erik • All posts by \"deepin\" categories",
    "description": "一只PHP开发的程序猿，偶尔做做运维、Goland、Python、Java、摄影、画画、写作、顺便睡觉，反正整站都搞过。",
    "home_page_url": "https://erik.xyz",
    "items": [
        {
            "id": "https://erik.xyz/2025/07/22/virtualbox-hyper-v/",
            "url": "https://erik.xyz/2025/07/22/virtualbox-hyper-v/",
            "title": "virtualbox与hyper-v的冲突",
            "date_published": "2025-07-22T09:10:00.000Z",
            "content_html": "<p>因为最近在学鸿蒙开发，开发电脑一直用的deepin系统，DevEcoStudio不支持linux系统，用了win兼容引擎还是不行。没办法，只好装了virtualbox来运行win10。</p>\n<p>在virtualbox中安装好win10也装了，DevEcoStudio运行后，虚拟机一直提示hyper-v未开启。但是，明明开启了，怎么办？难打VT-X和hyper-v有冲突？查查资料，找到了解决办法。<br><span id=\"more\"></span></p>\n<p>1.关闭 Win10 虚拟机，在 Deepin 终端执行：</p>\n<pre><code>    VBoxManage modifyvm &quot;虚拟机名称&quot; --nested-hw-virt on \n</code></pre><p>2.修改虚拟机设置</p>\n<ul>\n<li><p>打开 VirtualBox 管理界面 → 选择 Win10 虚拟机 → 设置 → 系统 → 加速：</p>\n<ul>\n<li><p>半虚拟化接口 选择 Hyper-V4；</p>\n</li>\n<li><p>勾选 启用嵌套分页（Nested Paging）；</p>\n</li>\n<li><p>处理器数量 ≥ 2（若物理 CPU 核心足够）5。</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>3.开启win的hyper-v。<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pushd &quot;%~dp0&quot;</span><br><span class=\"line\">dir /b %SystemRoot%\\servicing\\Packages\\*Hyper-V*.mum &gt;hyper-v.txt</span><br><span class=\"line\">for /f %%i in (&#x27;findstr /i . hyper-v.txt 2^&gt;nul&#x27;) do dism /online /norestart /add-package:&quot;%SystemRoot%\\servicing\\Packages\\%%i&quot;</span><br><span class=\"line\">del hyper-v.txt</span><br><span class=\"line\">Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL</span><br></pre></td></tr></table></figure><br>自己在win中创建txt文件，把代码复制进去，然后把后缀改成bat以管理原的方式运行。结束后重启就可以了。</p>\n",
            "tags": [
                "virtualbox",
                "hyper-v",
                "鸿蒙开发"
            ]
        },
        {
            "id": "https://erik.xyz/2024/11/15/deepin-not-login/",
            "url": "https://erik.xyz/2024/11/15/deepin-not-login/",
            "title": "deepin无法登录报错emergency mode",
            "date_published": "2024-11-15T02:56:00.000Z",
            "content_html": "<p>由于系统重启后，新安装的微信一直弹出框，卡在那难受。立马强制重启，开机后就一直显示You are in emergency mode……一堆东西，意思是说让进入root用户，查看报错并修复。</p>\n<p>  有点头大了。</p>\n<p>  系统命令可以显示，图形界面不显示。<br>  <span id=\"more\"></span><br>  果断拿出安装系统的u盘，使用u盘启动进入安装界面，按ctrl+alt+f4进入u盘命令界面。输入startx进入u盘图形界面。这下可以看到电脑的挂着盘。根据挂着的盘一个个找根目录盘。找到后使用u盘系统的命令窗口:<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo vi /etc/fstab</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p> 注释掉home目录，重启系统。</p>\n<p> 重启后会显示个登录图形界面。这个是假的，没用。按ctrl+alt+f2进入命令界面。<br> 使用账号密码登录命令界面。</p>\n<p> 打开/etc/fstab文件取消home注释。（这里要看一下home挂载路径，比如我的/dev/sda6）</p>\n<p> 使用以下命令修复：<br> <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo e2fsck /dev/sda6</span><br></pre></td></tr></table></figure></p>\n<p> 你会看到一堆修复，一个个确认后，等待修复完成就重启系统。</p>\n",
            "tags": [
                "deepin",
                "emergency",
                "emergency mode",
                "deepin黑屏"
            ]
        }
    ]
}