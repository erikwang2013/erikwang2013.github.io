<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>艾瑞可erik • Posts by &#34;r语言&#34; tag • Posts by &#34;undefined&#34; categories</title>
        <link>https://erik.xyz</link>
        <description>一只PHP开发的程序猿，偶尔做做运维、Goland、Python、Java、摄影、画画、写作、顺便睡觉，反正整站都搞过。</description>
        <language>zh-CN</language>
        <pubDate>Tue, 17 Apr 2018 19:03:00 +0800</pubDate>
        <lastBuildDate>Tue, 17 Apr 2018 19:03:00 +0800</lastBuildDate>
        <category>日志</category>
        <category>工具</category>
        <category>jquery</category>
        <category>jquery插件</category>
        <category>js</category>
        <category>css</category>
        <category>php</category>
        <category>web</category>
        <category>代码</category>
        <category>压缩</category>
        <category>php扩展</category>
        <category>php技巧</category>
        <category>php类库</category>
        <category>php资源</category>
        <category>说说</category>
        <category>趣闻</category>
        <category>php服务器</category>
        <category>随笔</category>
        <category>php实例</category>
        <category>php库</category>
        <category>转载</category>
        <category>互联</category>
        <category>项目实战</category>
        <category>nginx</category>
        <category>javascript</category>
        <category>漏洞</category>
        <category>php应用</category>
        <category>浮点</category>
        <category>负载均衡</category>
        <category>kali</category>
        <category>kali安装</category>
        <category>http</category>
        <category>http服务器</category>
        <category>农业系统</category>
        <category>系统设计</category>
        <category>克莱姆法则</category>
        <category>行列式</category>
        <category>n阶行列式</category>
        <category>支付系统</category>
        <category>支付</category>
        <category>centos</category>
        <category>linux</category>
        <category>apache优化</category>
        <category>apache隐藏index</category>
        <category>nginx优化</category>
        <category>nginx隐藏index</category>
        <category>seo</category>
        <category>优化</category>
        <category>日常</category>
        <category>摘要</category>
        <category>文章</category>
        <category>游记</category>
        <category>ca证书</category>
        <category>证书生成</category>
        <category>二战</category>
        <category>二战熊</category>
        <category>西伯利亚熊</category>
        <category>centos软件</category>
        <category>yum仓库</category>
        <category>软件</category>
        <category>centos安装chromium报错</category>
        <category>chromium安装报错</category>
        <category>svn</category>
        <category>代码提交</category>
        <category>deb</category>
        <category>deb/rpm互转</category>
        <category>deb转rpm</category>
        <category>rpm互转</category>
        <category>centos7安装steam</category>
        <category>centos安装steam</category>
        <category>centos安装吃鸡steam</category>
        <category>linux安装steam</category>
        <category>steam安装</category>
        <category>centos软件安装</category>
        <category>centos6.5</category>
        <category>linux系统</category>
        <category>centos7安装Redis Desktop Manager</category>
        <category>centos7安装redis桌面</category>
        <category>centos安装redis桌面</category>
        <category>linux安装centos7安装Redis Desktop Manager</category>
        <category>Redis Desktop Manager</category>
        <category>redis桌面</category>
        <category>centos7</category>
        <category>centos7-wine</category>
        <category>wine</category>
        <category>wine安装</category>
        <category>root密码</category>
        <category>root密码重置</category>
        <category>忘记root密码</category>
        <category>memcache</category>
        <category>memcached</category>
        <category>生活手记</category>
        <category>艾瑞可erik</category>
        <category>程序员</category>
        <category>开源云</category>
        <category>容器</category>
        <category>cncf</category>
        <category>监控</category>
        <category>composer</category>
        <category>composer部署</category>
        <category>内网部署composer</category>
        <category>cphalcon</category>
        <category>cphalcon报错</category>
        <category>css中的em</category>
        <category>响应式字体</category>
        <category>响应式布局样式</category>
        <category>proxy代理搭建</category>
        <category>代理服务器搭建</category>
        <category>proxy服务器</category>
        <category>查找</category>
        <category>排序</category>
        <category>快速排序</category>
        <category>冒泡排序</category>
        <category>二分查找</category>
        <category>datahub</category>
        <category>datahub安装</category>
        <category>deepin</category>
        <category>emergency</category>
        <category>emergency mode</category>
        <category>deepin黑屏</category>
        <category>清理系统</category>
        <category>清理c盘</category>
        <category>dns</category>
        <category>域名监测</category>
        <category>网站监测</category>
        <category>docker</category>
        <category>php安装</category>
        <category>杂谈</category>
        <category>ecshop</category>
        <category>框架</category>
        <category>beego数据分页</category>
        <category>分页</category>
        <category>elasticsearch</category>
        <category>elasticsearch搭建</category>
        <category>elasticsearch集群</category>
        <category>系统</category>
        <category>emm</category>
        <category>mdm</category>
        <category>phone</category>
        <category>手机</category>
        <category>新闻</category>
        <category>免费</category>
        <category>jenkis</category>
        <category>jenkis教程</category>
        <category>随笔吐槽</category>
        <category>算法</category>
        <category>ping</category>
        <category>ping服务器</category>
        <category>各大网站ping</category>
        <category>搜引擎ping服务器</category>
        <category>go获取ip</category>
        <category>im</category>
        <category>go中pdf生成</category>
        <category>go中限流</category>
        <category>go对接快递签名</category>
        <category>go时间获取</category>
        <category>go类型转换</category>
        <category>微服务</category>
        <category>go-zero</category>
        <category>rpc</category>
        <category>go加密</category>
        <category>go解密</category>
        <category>归</category>
        <category>吐槽</category>
        <category>php大全</category>
        <category>php资料</category>
        <category>hadoop</category>
        <category>hadoop2.8.0</category>
        <category>hadoop安装教程</category>
        <category>hadoop安装详细教程</category>
        <category>hadoop教程</category>
        <category>hadoop部署</category>
        <category>hadoop3</category>
        <category>hadoop配置</category>
        <category>log4j2</category>
        <category>数据库</category>
        <category>hbase安装教程</category>
        <category>hbase</category>
        <category>http1.1</category>
        <category>http2.0</category>
        <category>会话</category>
        <category>会话原理</category>
        <category>hyperf</category>
        <category>杂录</category>
        <category>新冠肺炎</category>
        <category>springboot</category>
        <category>springboot内网部署</category>
        <category>linux恢复</category>
        <category>linux误删</category>
        <category>linux命令</category>
        <category>linux命令汇总</category>
        <category>jenkins</category>
        <category>jetbtrains</category>
        <category>phpstorm</category>
        <category>搜索引擎</category>
        <category>图片</category>
        <category>素材</category>
        <category>jq</category>
        <category>jq侧边导航</category>
        <category>侧边导航</category>
        <category>js判断浏览器</category>
        <category>js判断浏览器版本</category>
        <category>判断浏览器</category>
        <category>浏览器版本判断</category>
        <category>获取浏览器信息</category>
        <category>kali右键汉化</category>
        <category>kali桌面右键汉化</category>
        <category>kali右键创建文件</category>
        <category>区块链</category>
        <category>lanmp</category>
        <category>php环境独立配置</category>
        <category>服务器</category>
        <category>劳动纠纷</category>
        <category>追缴工资</category>
        <category>申请仲裁</category>
        <category>flash</category>
        <category>表单</category>
        <category>linux报错</category>
        <category>linux中update-command-not-found</category>
        <category>linux运行命令报错</category>
        <category>web前端</category>
        <category>web优化</category>
        <category>撮合算法</category>
        <category>撮合</category>
        <category>php撮合算法</category>
        <category>maven搭建库</category>
        <category>maven</category>
        <category>maven内网库</category>
        <category>高级缓存配置</category>
        <category>mongodb</category>
        <category>mongodb权限</category>
        <category>可穿戴设备</category>
        <category>mysql</category>
        <category>分库分表</category>
        <category>mysql应对千万级</category>
        <category>mysql瓶颈</category>
        <category>mysql瓶颈解决办法</category>
        <category>redis</category>
        <category>数据一致性</category>
        <category>mysql消息</category>
        <category>mysql队列</category>
        <category>mysql高并发</category>
        <category>mysql存储</category>
        <category>mysql引擎</category>
        <category>mysql数据表设计选择</category>
        <category>mysql监控</category>
        <category>mysql性能</category>
        <category>内网支付</category>
        <category>内网穿透</category>
        <category>支付接口本地化开发</category>
        <category>本地挂网</category>
        <category>穿透</category>
        <category>go</category>
        <category>new和make的区别</category>
        <category>红包算法</category>
        <category>深圳劳动法服务部门</category>
        <category>非关系型数据库</category>
        <category>onethink</category>
        <category>oop</category>
        <category>php管理系统</category>
        <category>开放接口开发</category>
        <category>开源工具</category>
        <category>桌面共享工具</category>
        <category>openresty</category>
        <category>openvas</category>
        <category>openvas安装</category>
        <category>php变量</category>
        <category>php超级全局变量</category>
        <category>php超级变量</category>
        <category>php基本类型</category>
        <category>php数据类型</category>
        <category>php设计模式</category>
        <category>php对接微信支付</category>
        <category>微信支付</category>
        <category>微信支付回调</category>
        <category>游戏</category>
        <category>php函数</category>
        <category>php随机数</category>
        <category>php获取闰年</category>
        <category>闰年.php时间</category>
        <category>php环境</category>
        <category>php集成环境</category>
        <category>服务器集成环境</category>
        <category>数组函数</category>
        <category>数组排序函数</category>
        <category>php数学函数</category>
        <category>php面试题</category>
        <category>php面向对象</category>
        <category>面向对象</category>
        <category>php-zookeeper</category>
        <category>zookeeper3.5.5</category>
        <category>php-zookeeper扩展</category>
        <category>php串口开发</category>
        <category>php倒计时</category>
        <category>php时间</category>
        <category>倒计时</category>
        <category>计算时间</category>
        <category>PHP数组</category>
        <category>字符串函数</category>
        <category>排序函数</category>
        <category>php的SPL</category>
        <category>SPL手册</category>
        <category>PHP算法</category>
        <category>php递归</category>
        <category>递归</category>
        <category>phpunit</category>
        <category>phpunit安装</category>
        <category>php过滤</category>
        <category>过滤</category>
        <category>foreach</category>
        <category>foreach报错</category>
        <category>php中foreach报错</category>
        <category>php中if</category>
        <category>php中if判断</category>
        <category>php的if</category>
        <category>php字符串</category>
        <category>php7中sphinx</category>
        <category>php7中sphinx扩展</category>
        <category>sphinx扩展</category>
        <category>python</category>
        <category>python库</category>
        <category>a标签</category>
        <category>a标签虚线</category>
        <category>虚线框</category>
        <category>R语言</category>
        <category>数据随机化</category>
        <category>redis总结</category>
        <category>redis命令</category>
        <category>redis监控</category>
        <category>redis锁</category>
        <category>redis分布式锁</category>
        <category>任意金额输入</category>
        <category>10元、5元、2元</category>
        <category>队列</category>
        <category>栈</category>
        <category>顺序表</category>
        <category>链表</category>
        <category>数据结构</category>
        <category>线性结构</category>
        <category>浏览器禁止操作视频</category>
        <category>禁止视频</category>
        <category>响应慢</category>
        <category>页面优化</category>
        <category>js编辑</category>
        <category>runjs</category>
        <category>在线编辑</category>
        <category>rust</category>
        <category>rust配置</category>
        <category>seajs</category>
        <category>session</category>
        <category>路由器烧录</category>
        <category>烧录</category>
        <category>极路由2烧录</category>
        <category>砖头烧录</category>
        <category>免费服务器</category>
        <category>空间</category>
        <category>资源</category>
        <category>深圳政府电话</category>
        <category>深圳电话</category>
        <category>特区电话</category>
        <category>居住证</category>
        <category>居住证签注</category>
        <category>深圳新居住证</category>
        <category>国庆骑行</category>
        <category>深圳珠海骑行</category>
        <category>骑行</category>
        <category>世界那么大</category>
        <category>css3</category>
        <category>css在线生成工具</category>
        <category>css工具</category>
        <category>php正则</category>
        <category>正则</category>
        <category>shodan</category>
        <category>黑谷歌</category>
        <category>黒帽搜素</category>
        <category>shopex</category>
        <category>可视化数据</category>
        <category>数据</category>
        <category>数据表</category>
        <category>socket通信</category>
        <category>socket多进程</category>
        <category>socket</category>
        <category>json</category>
        <category>json数组</category>
        <category>json解析</category>
        <category>sql</category>
        <category>sql优化</category>
        <category>css3兼容360浏览器兼容模式</category>
        <category>css圆角</category>
        <category>结构体转map</category>
        <category>config</category>
        <category>thinkphp</category>
        <category>配置文件</category>
        <category>树</category>
        <category>二叉树</category>
        <category>js插件</category>
        <category>web自适应</category>
        <category>响应式布局</category>
        <category>响应式所有分辨率</category>
        <category>自适应布局</category>
        <category>自适应所有分辨率</category>
        <category>webman</category>
        <category>mysql设置超时，超时</category>
        <category>markdown</category>
        <category>wget</category>
        <category>wget抓取</category>
        <category>网站抓取</category>
        <category>我在</category>
        <category>wordpress</category>
        <category>wordpress标签</category>
        <category>域名合并</category>
        <category>wpscan</category>
        <category>usbrip</category>
        <category>无限极分类</category>
        <category>php无限极</category>
        <category>分类tree</category>
        <category>无限极分类树型</category>
        <category>xhprof</category>
        <category>laravel</category>
        <category>composer插件</category>
        <category>html</category>
        <category>响应式分辨率</category>
        <category>响应式调试</category>
        <category>自适应屏幕</category>
        <category>携程</category>
        <category>携程攻击</category>
        <category>携程网站瘫痪</category>
        <category>物理删除</category>
        <category>3D</category>
        <category>动画</category>
        <category>平台</category>
        <category>虚幻4引擎编辑</category>
        <category>生成唯一id</category>
        <category>生成id</category>
        <category>发邮件</category>
        <category>邮件函数</category>
        <category>储蓄卡免年费</category>
        <category>银行卡</category>
        <category>银行卡免年费</category>
        <category>composer安装</category>
        <category>composer配置</category>
        <category>项目创建composer</category>
        <category>mysql优化</category>
        <category>mysql读写优化</category>
        <category>数据库优化，mysql语句优化</category>
        <category>php加密</category>
        <category>php技术</category>
        <category>夕阳</category>
        <category>mysql函数</category>
        <category>php中mysql函数</category>
        <category>互联网时代</category>
        <category>开源技术</category>
        <category>web框架</category>
        <category>php抓取图片</category>
        <category>php批量抓取页面图片</category>
        <category>邮箱服务器</category>
        <category>正则表达式</category>
        <category>翻墙</category>
        <category>谷歌</category>
        <category>谷歌搜索</category>
        <item>
            <guid isPermalink="true">https://erik.xyz/2018/04/17/r-yu-yan-hui-zhi-shi-jie-hang-ban-xian-lu-tu/</guid>
            <title>利用R语言绘制世界航班路线图</title>
            <link>https://erik.xyz/2018/04/17/r-yu-yan-hui-zhi-shi-jie-hang-ban-xian-lu-tu/</link>
            <category>转载</category>
            <category>R语言</category>
            <pubDate>Tue, 17 Apr 2018 19:03:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;&lt;strong&gt;作者简介Introduction&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;taoyan：&lt;/strong&gt;伪码农，R语言爱好者，爱开源。 个人博客: &lt;a href=&#34;https://ytlogos.github.io/&#34;&gt;https://ytlogos.github.io/&lt;/a&gt; &lt;strong&gt;、&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://mmbiz.qpic.cn/mmbiz_gif/y2fhgP4leThJiaFzTDexmxpianqLyez0XSGmbKia8GfeJutxnAkGiciaevwnP89eqI8icjVCYia0GG98ribmFhhGrKemtQ/640?wx_fmt=gif&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;&#34; title=&#34;烟花&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTgLwP9BJYtDFtibfby9doVLqwWicgVQzvia8NvwesibRu3UXCV4ib88icOd6Y3EFjUsaVMk9eGEZTicdtOag/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;&#34;&gt;&lt;strong&gt;&lt;br&gt;一、 简介&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;本文基于NASA的夜间地图（&lt;a href=&#34;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble\_2016\_01deg.jpg）的基础上进行世界航班路线可视化，参考多篇博客以及可视化案例。&#34;&gt;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble_2016_01deg.jpg）的基础上进行世界航班路线可视化，参考多篇博客以及可视化案例。&lt;/a&gt; &lt;strong&gt;1. 包加载&lt;/strong&gt; 本博客使用的包较多，利用pacman包里的&lt;strong&gt;p_load()&lt;/strong&gt;函数进行加载。&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;library(pacman) p_load(tidyverse, data.table, geosphere, grid, jpeg, plyr)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;  &lt;strong&gt;2. 数据准备&lt;/strong&gt; 使用的数据来自于OpenFlights.org（&lt;a href=&#34;https://openflights.org/data.html）。&#34;&gt;https://openflights.org/data.html）。&lt;/a&gt; &lt;strong&gt;3.数据下载&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;download.file(“&lt;a href=&#34;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airlines.dat&#34;&gt;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airlines.dat”,destfile&lt;/a&gt; = “airlines.dat”, mode = “wb”) download.file(“&lt;a href=&#34;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airports.dat&#34;&gt;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airports.dat”,destfile&lt;/a&gt; = “airports.dat”, mode = “wb”) download.file(“&lt;a href=&#34;https://raw.githubusercontent.com/jpatokal/openflights/master/data/routes.dat&#34;&gt;https://raw.githubusercontent.com/jpatokal/openflights/master/data/routes.dat”,destfile&lt;/a&gt; = “routes.dat”, mode = “wb”)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;4.数据导入&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;airlines &amp;lt;- fread(“airlines.dat”, sep = “,”, skip = 1) airports &amp;lt;- fread(“airports.dat”, sep = “,”) routes &amp;lt;- fread(“routes.dat”, sep = “,”)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;5. 数据整理&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;添加列名colnames-airlines-lt-c-“airline-id”-“name”-“alias”-“iata”-“icao”-“callisign”-“country”-“active”-colnames-airports-lt-c-“airport-id”-“name”-“city”-“country”-”iata”-“icao”-“latitude”-“longitude”-”altitude”-“timezone”-”dst”-”tz-database-time-zone”-”type”-“source”-colnames-routes-lt-c-“airline”-“airline-id”-“source-airport”-“source-airport-id”-”destination-airport”-”destination-airport-id”-”codeshare”-“stops”-”equipment”&#34;&gt;&lt;a href=&#34;#添加列名colnames-airlines-lt-c-“airline-id”-“name”-“alias”-“iata”-“icao”-“callisign”-“country”-“active”-colnames-airports-lt-c-“airport-id”-“name”-“city”-“country”-”iata”-“icao”-“latitude”-“longitude”-”altitude”-“timezone”-”dst”-”tz-database-time-zone”-”type”-“source”-colnames-routes-lt-c-“airline”-“airline-id”-“source-airport”-“source-airport-id”-”destination-airport”-”destination-airport-id”-”codeshare”-“stops”-”equipment”&#34; class=&#34;headerlink&#34; title=&#34;添加列名colnames(airlines) &amp;lt;- c(“airline_id”, “name”, “alias”, “iata”, “icao”, “callisign”, “country”, “active”) colnames(airports) &amp;lt;- c(“airport_id”, “name”, “city”, “country”,”iata”, “icao”, “latitude”, “longitude”,”altitude”, “timezone”,”dst”,”tz_database_time_zone”,”type”, “source”) colnames(routes) &amp;lt;- c(“airline”, “airline_id”, “source_airport”, “source_airport_id”,”destination_airport”,”destination_airport_id”,”codeshare”, “stops”,”equipment”)&#34;&gt;&lt;/a&gt;添加列名colnames(airlines) &amp;lt;- c(“airline_id”, “name”, “alias”, “iata”, “icao”, “callisign”, “country”, “active”) colnames(airports) &amp;lt;- c(“airport_id”, “name”, “city”, “country”,”iata”, “icao”, “latitude”, “longitude”,”altitude”, “timezone”,”dst”,”tz_database_time_zone”,”type”, “source”) colnames(routes) &amp;lt;- c(“airline”, “airline_id”, “source_airport”, “source_airport_id”,”destination_airport”,”destination_airport_id”,”codeshare”, “stops”,”equipment”)&lt;/h1&gt;&lt;h1 id=&#34;类型转换-routes-airline-id-lt-as-numeric-routes-airline-id&#34;&gt;&lt;a href=&#34;#类型转换-routes-airline-id-lt-as-numeric-routes-airline-id&#34; class=&#34;headerlink&#34; title=&#34;类型转换 routes$airline_id &amp;lt;- as.numeric(routes$airline_id)&#34;&gt;&lt;/a&gt;类型转换 routes$airline_id &amp;lt;- as.numeric(routes$airline_id)&lt;/h1&gt;&lt;h1 id=&#34;airlines与routes数据融合-flights-lt-left-join-routes-airlines-by-”airline-id”&#34;&gt;&lt;a href=&#34;#airlines与routes数据融合-flights-lt-left-join-routes-airlines-by-”airline-id”&#34; class=&#34;headerlink&#34; title=&#34;airlines与routes数据融合 flights &amp;lt;- left_join(routes, airlines, by=”airline_id”)&#34;&gt;&lt;/a&gt;airlines与routes数据融合 flights &amp;lt;- left_join(routes, airlines, by=”airline_id”)&lt;/h1&gt;&lt;h1 id=&#34;flights与airports数据融合-airports-orig-lt-airports-c-5-7-8-colnames-airports-orig-lt-c-“source-airport”-”source-airport-lat”-“source-airport-long”-airports-dest-lt-airports-c-5-7-8-colnames-airports-dest-lt-c-“destination-airport”-“destination-airport-lat”-“destination-airport-long”-flights-lt-left-join-flights-airports-orig-by-“source-airport”-flights-lt-left-join-flights-airports-dest-by-“destination-airport”&#34;&gt;&lt;a href=&#34;#flights与airports数据融合-airports-orig-lt-airports-c-5-7-8-colnames-airports-orig-lt-c-“source-airport”-”source-airport-lat”-“source-airport-long”-airports-dest-lt-airports-c-5-7-8-colnames-airports-dest-lt-c-“destination-airport”-“destination-airport-lat”-“destination-airport-long”-flights-lt-left-join-flights-airports-orig-by-“source-airport”-flights-lt-left-join-flights-airports-dest-by-“destination-airport”&#34; class=&#34;headerlink&#34; title=&#34;flights与airports数据融合 airports_orig &amp;lt;- airports[,c(5,7,8)] colnames(airports_orig) &amp;lt;- c(“source_airport”,”source_airport_lat”, “source_airport_long”) airports_dest &amp;lt;- airports[, c(5, 7, 8)] colnames(airports_dest) &amp;lt;- c(“destination_airport”, “destination_airport_lat”, “destination_airport_long”) flights &amp;lt;- left_join(flights, airports_orig, by = “source_airport”) flights &amp;lt;- left_join(flights, airports_dest, by = “destination_airport”)&#34;&gt;&lt;/a&gt;flights与airports数据融合 airports_orig &amp;lt;- airports[,c(5,7,8)] colnames(airports_orig) &amp;lt;- c(“source_airport”,”source_airport_lat”, “source_airport_long”) airports_dest &amp;lt;- airports[, c(5, 7, 8)] colnames(airports_dest) &amp;lt;- c(“destination_airport”, “destination_airport_lat”, “destination_airport_long”) flights &amp;lt;- left_join(flights, airports_orig, by = “source_airport”) flights &amp;lt;- left_join(flights, airports_dest, by = “destination_airport”)&lt;/h1&gt;&lt;h1 id=&#34;剔除缺失值-flights-lt-na-omit-flights-cols-c-“source-airport-long”-“source-airport-lat”-“destination-airport-long”-“destination-airport-lat”&#34;&gt;&lt;a href=&#34;#剔除缺失值-flights-lt-na-omit-flights-cols-c-“source-airport-long”-“source-airport-lat”-“destination-airport-long”-“destination-airport-lat”&#34; class=&#34;headerlink&#34; title=&#34;剔除缺失值 flights &amp;lt;- na.omit(flights, cols = c(“source_airport_long”, “source_airport_lat”, “destination_airport_long”, “destination_airport_lat”))&#34;&gt;&lt;/a&gt;剔除缺失值 flights &amp;lt;- na.omit(flights, cols = c(“source_airport_long”, “source_airport_lat”, “destination_airport_long”, “destination_airport_lat”))&lt;/h1&gt;&lt;h1 id=&#34;最后数据如下-head-flights-c-1-5&#34;&gt;&lt;a href=&#34;#最后数据如下-head-flights-c-1-5&#34; class=&#34;headerlink&#34; title=&#34;最后数据如下 head(flights[,c(1:5)])&#34;&gt;&lt;/a&gt;最后数据如下 head(flights[,c(1:5)])&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;  &lt;strong&gt;6. 下面就是准备地理信息数据&lt;/strong&gt; 本文主要是可视化地理信息上的点与点之间的连接，这可以通过geosphere包里的函数gcIntermediate()很轻松实现。具体使用方法可以参考这里（&lt;a href=&#34;http://flowingdata.com/2011/05/11/how-to-map-connections-with-great-circles/）。&#34;&gt;http://flowingdata.com/2011/05/11/how-to-map-connections-with-great-circles/）。&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;按航空公司拆分数据集-flights-split-lt-split-flights-flights-name&#34;&gt;&lt;a href=&#34;#按航空公司拆分数据集-flights-split-lt-split-flights-flights-name&#34; class=&#34;headerlink&#34; title=&#34;按航空公司拆分数据集 flights_split &amp;lt;- split(flights, flights$name)&#34;&gt;&lt;/a&gt;按航空公司拆分数据集 flights_split &amp;lt;- split(flights, flights$name)&lt;/h1&gt;&lt;h1 id=&#34;Calculate-intermediate-points-between-each-two-locations-flights-all-lt-lapply-flights-split-function-x-gcIntermediate-x-c-“source-airport-long”-“source-airport-lat”-x-c-“destination-airport-long”-“destination-airport-lat”-n-100-breakAtDateLine-FALSE-addStartEnd-TRUE-sp-TRUE&#34;&gt;&lt;a href=&#34;#Calculate-intermediate-points-between-each-two-locations-flights-all-lt-lapply-flights-split-function-x-gcIntermediate-x-c-“source-airport-long”-“source-airport-lat”-x-c-“destination-airport-long”-“destination-airport-lat”-n-100-breakAtDateLine-FALSE-addStartEnd-TRUE-sp-TRUE&#34; class=&#34;headerlink&#34; title=&#34;Calculate intermediate points between each two locations flights_all &amp;lt;- lapply(flights_split, function(x) gcIntermediate(x[, c(“source_airport_long”, “source_airport_lat”)], x[, c(“destination_airport_long”, “destination_airport_lat”)], n=100, breakAtDateLine = FALSE, addStartEnd = TRUE, sp = TRUE))&#34;&gt;&lt;/a&gt;Calculate intermediate points between each two locations flights_all &amp;lt;- lapply(flights_split, function(x) gcIntermediate(x[, c(“source_airport_long”, “source_airport_lat”)], x[, c(“destination_airport_long”, “destination_airport_lat”)], n=100, breakAtDateLine = FALSE, addStartEnd = TRUE, sp = TRUE))&lt;/h1&gt;&lt;h1 id=&#34;转换为数据框-flights-fortified-lt-lapply-flights-all-function-x-ldply-x-lines-fortify&#34;&gt;&lt;a href=&#34;#转换为数据框-flights-fortified-lt-lapply-flights-all-function-x-ldply-x-lines-fortify&#34; class=&#34;headerlink&#34; title=&#34;转换为数据框 flights_fortified &amp;lt;- lapply(flights_all, function(x) ldply(x@lines, fortify))&#34;&gt;&lt;/a&gt;转换为数据框 flights_fortified &amp;lt;- lapply(flights_all, function(x) ldply(x@lines, fortify))&lt;/h1&gt;&lt;h1 id=&#34;Unsplit-lists-flights-fortified-lt-do-call-“rbind”-flights-fortified&#34;&gt;&lt;a href=&#34;#Unsplit-lists-flights-fortified-lt-do-call-“rbind”-flights-fortified&#34; class=&#34;headerlink&#34; title=&#34;Unsplit lists flights_fortified &amp;lt;- do.call(“rbind”, flights_fortified)&#34;&gt;&lt;/a&gt;Unsplit lists flights_fortified &amp;lt;- do.call(“rbind”, flights_fortified)&lt;/h1&gt;&lt;h1 id=&#34;Add-and-clean-column-with-airline-names-flights-fortified-name-lt-rownames-flights-fortified-flights-fortified-name-lt-gsub-“-”-“”-flights-fortified-name&#34;&gt;&lt;a href=&#34;#Add-and-clean-column-with-airline-names-flights-fortified-name-lt-rownames-flights-fortified-flights-fortified-name-lt-gsub-“-”-“”-flights-fortified-name&#34; class=&#34;headerlink&#34; title=&#34;Add and clean column with airline names flights_fortified$name &amp;lt;- rownames(flights_fortified) flights_fortified$name &amp;lt;- gsub(“..*”, “”, flights_fortified$name)&#34;&gt;&lt;/a&gt;Add and clean column with airline names flights_fortified$name &amp;lt;- rownames(flights_fortified) flights_fortified$name &amp;lt;- gsub(“..*”, “”, flights_fortified$name)&lt;/h1&gt;&lt;h1 id=&#34;Extract-first-and-last-observations-for-plotting-source-and-destination-points-i-e-airports-flights-points-lt-flights-fortified-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34;&gt;&lt;a href=&#34;#Extract-first-and-last-observations-for-plotting-source-and-destination-points-i-e-airports-flights-points-lt-flights-fortified-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34; class=&#34;headerlink&#34; title=&#34;Extract first and last observations for plotting source and destination points (i.e., airports) flights_points &amp;lt;- flights_fortified %&amp;gt;% group_by(group) %&amp;gt;% filter(row_number() == 1 | row_number() == n())&#34;&gt;&lt;/a&gt;Extract first and last observations for plotting source and destination points (i.e., airports) flights_points &amp;lt;- flights_fortified %&amp;gt;% group_by(group) %&amp;gt;% filter(row_number() == 1 | row_number() == n())&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;  &lt;strong&gt;二、 可视化&lt;/strong&gt; 接下来就是进行可视化了，前面讲了我们只是在NASA提供的夜间地球图上面进行数据映射，所以第一我们需要获取该背景地图。 &lt;strong&gt;1. 图片获取并渲染&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;下载图片-download-file-“https-www-nasa-gov-specials-blackmarble-2016-globalmaps-BlackMarble-2016-01deg-jpg”-destfile-“BlackMarble-2016-01deg-jpg”-mode-“wb”&#34;&gt;&lt;a href=&#34;#下载图片-download-file-“https-www-nasa-gov-specials-blackmarble-2016-globalmaps-BlackMarble-2016-01deg-jpg”-destfile-“BlackMarble-2016-01deg-jpg”-mode-“wb”&#34; class=&#34;headerlink&#34; title=&#34;下载图片 download.file(“https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble_2016_01deg.jpg”,destfile = “BlackMarble_2016_01deg.jpg”, mode = “wb”)&#34;&gt;&lt;/a&gt;下载图片 download.file(“&lt;a href=&#34;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble\_2016\_01deg.jpg&#34;&gt;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble_2016_01deg.jpg”,destfile&lt;/a&gt; = “BlackMarble_2016_01deg.jpg”, mode = “wb”)&lt;/h1&gt;&lt;h1 id=&#34;加载并渲染图片-earth-lt-readJPEG-“BlackMarble-2016-01deg-jpg”-native-TRUE-earth-lt-rasterGrob-earth-interpolate-TRUE&#34;&gt;&lt;a href=&#34;#加载并渲染图片-earth-lt-readJPEG-“BlackMarble-2016-01deg-jpg”-native-TRUE-earth-lt-rasterGrob-earth-interpolate-TRUE&#34; class=&#34;headerlink&#34; title=&#34;加载并渲染图片 earth &amp;lt;- readJPEG(“BlackMarble_2016_01deg.jpg”, native = TRUE) earth &amp;lt;- rasterGrob(earth, interpolate = TRUE)&#34;&gt;&lt;/a&gt;加载并渲染图片 earth &amp;lt;- readJPEG(“BlackMarble_2016_01deg.jpg”, native = TRUE) earth &amp;lt;- rasterGrob(earth, interpolate = TRUE)&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;2. 数据映射&lt;/strong&gt; 由于航空公司十分多，就挑选几个有名的航空公司进行可视化。 &lt;strong&gt;(1) Lufthansa(德国汉莎航空公司)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#f9ba00”, data = flights_fortified[flights_fortified$name == “Lufthansa”, ]) + geom_point(data = flights_points[flights_points$name == “Lufthansa”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”),panel.grid.major = element_blank(),panel.grid.minor = element_blank(),axis.title = element_blank(),axis.text = element_blank(),axis.ticks.length = unit(0, “cm”),legend.position = “none”) +annotate(“text”, x = -150, y = -18, hjust = 0, size = 14,label = paste(“Lufthansa”), color = “#f9ba00”, family = “Helvetica Black”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(2) Emirates(阿联酋航空公司)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#ff0000”, data = flights_fortified[flights_fortified$name == “Emirates”, ]) + geom_point(data = flights_points[flights_points$name == “Emirates”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“Emirates”), color = “#ff0000”, family = “Fontin”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(3) British Airways(英国航空公司)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#075aaa”, data = flights_fortified[flights_fortified$name == “British Airways”, ]) + geom_point(data = flights_points[flights_points$name == “British Airways”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“BRITISH AIRWAYS”), color = “#075aaa”, family = “Baker Signet Std”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(4) Air China(中国国航)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#F70C15”, data = flights_fortified[flights_fortified$name == “Air China”, ]) + geom_point(data = flights_points[flights_points$name == “Air China”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“Air China”), color = “#F70C15”, family = “Times New Roman”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(5) China Southern Airlines(中国南航)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#004D9D”, data = flights_fortified[flights_fortified$name == “China Southern Airlines”, ]) + geom_point(data = flights_points[flights_points$name == “China Southern Airlines”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“China Southern Airlines”), color = “#004D9D”, family = “Times New Roman”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(6) 一次性映射多家航空公司航行路线&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;抽取数据集-flights-subset-lt-c-“Lufthansa”-“Emirates”-“British-Airways”-flights-subset-lt-flights-fortified-flights-fortified-name-in-flights-subset-flights-subset-points-lt-flights-subset-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34;&gt;&lt;a href=&#34;#抽取数据集-flights-subset-lt-c-“Lufthansa”-“Emirates”-“British-Airways”-flights-subset-lt-flights-fortified-flights-fortified-name-in-flights-subset-flights-subset-points-lt-flights-subset-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34; class=&#34;headerlink&#34; title=&#34;抽取数据集 flights_subset &amp;lt;- c(“Lufthansa”, “Emirates”, “British Airways”) flights_subset &amp;lt;- flights_fortified[flights_fortified$name %in% flights_subset, ] flights_subset_points &amp;lt;- flights_subset%&amp;gt;% group_by(group)%&amp;gt;% filter(row_number()==1|row_number()==n())&#34;&gt;&lt;/a&gt;抽取数据集 flights_subset &amp;lt;- c(“Lufthansa”, “Emirates”, “British Airways”) flights_subset &amp;lt;- flights_fortified[flights_fortified$name %in% flights_subset, ] flights_subset_points &amp;lt;- flights_subset%&amp;gt;% group_by(group)%&amp;gt;% filter(row_number()==1|row_number()==n())&lt;/h1&gt;&lt;h1 id=&#34;可视化-ggplot-annotation-custom-earth-xmin-180-xmax-180-ymin-90-ymax-90-geom-path-aes-long-lat-group-id-color-name-alpha-0-2-size-0-3-data-flights-subset-geom-point-data-flights-subset-points-aes-long-lat-alpha-0-8-size-0-1-colour-“white”-scale-color-manual-values-c-“-f9ba00”-“-ff0000”-“-075aaa”-theme-panel-background-element-rect-fill-“-05050f”-colour-“-05050f”-panel-grid-major-element-blank-panel-grid-minor-element-blank-axis-title-element-blank-axis-text-element-blank-axis-ticks-length-unit-0-“cm”-legend-position-“none”-annotate-“text”-x-150-y-4-hjust-0-size-14-label-paste-“Lufthansa”-color-“-f9ba00”-family-“Helvetica-Black”-annotate-“text”-x-150-y-11-hjust-0-size-14-label-paste-“Emirates”-color-“-ff0000”-family-“Fontin”-annotate-“text”-x-150-y-18-hjust-0-size-14-label-paste-“BRITISH-AIRWAYS”-color-“-075aaa”-family-“Baker-Signet-Std”-annotate-“text”-x-150-y-30-hjust-0-size-8-label-paste-“Flight-routes”-color-“white”-annotate-“text”-x-150-y-34-hjust-0-size-7-label-paste-“ytlogos-github-io-NASA-gov-OpenFlights-org”-color-“white”-alpha-0-5-coord-equal&#34;&gt;&lt;a href=&#34;#可视化-ggplot-annotation-custom-earth-xmin-180-xmax-180-ymin-90-ymax-90-geom-path-aes-long-lat-group-id-color-name-alpha-0-2-size-0-3-data-flights-subset-geom-point-data-flights-subset-points-aes-long-lat-alpha-0-8-size-0-1-colour-“white”-scale-color-manual-values-c-“-f9ba00”-“-ff0000”-“-075aaa”-theme-panel-background-element-rect-fill-“-05050f”-colour-“-05050f”-panel-grid-major-element-blank-panel-grid-minor-element-blank-axis-title-element-blank-axis-text-element-blank-axis-ticks-length-unit-0-“cm”-legend-position-“none”-annotate-“text”-x-150-y-4-hjust-0-size-14-label-paste-“Lufthansa”-color-“-f9ba00”-family-“Helvetica-Black”-annotate-“text”-x-150-y-11-hjust-0-size-14-label-paste-“Emirates”-color-“-ff0000”-family-“Fontin”-annotate-“text”-x-150-y-18-hjust-0-size-14-label-paste-“BRITISH-AIRWAYS”-color-“-075aaa”-family-“Baker-Signet-Std”-annotate-“text”-x-150-y-30-hjust-0-size-8-label-paste-“Flight-routes”-color-“white”-annotate-“text”-x-150-y-34-hjust-0-size-7-label-paste-“ytlogos-github-io-NASA-gov-OpenFlights-org”-color-“white”-alpha-0-5-coord-equal&#34; class=&#34;headerlink&#34; title=&#34;可视化 ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, data = flights_subset) + geom_point(data = flights_subset_points, aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + scale_color_manual(values = c(“#f9ba00”, “#ff0000”, “#075aaa”)) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -4, hjust = 0, size = 14, label = paste(“Lufthansa”), color = “#f9ba00”, family = “Helvetica Black”) + annotate(“text”, x = -150, y = -11, hjust = 0, size = 14, label = paste(“Emirates”), color = “#ff0000”, family = “Fontin”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“BRITISH AIRWAYS”), color = “#075aaa”, family = “Baker Signet Std”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -34, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&#34;&gt;&lt;/a&gt;可视化 ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, data = flights_subset) + geom_point(data = flights_subset_points, aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + scale_color_manual(values = c(“#f9ba00”, “#ff0000”, “#075aaa”)) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -4, hjust = 0, size = 14, label = paste(“Lufthansa”), color = “#f9ba00”, family = “Helvetica Black”) + annotate(“text”, x = -150, y = -11, hjust = 0, size = 14, label = paste(“Emirates”), color = “#ff0000”, family = “Fontin”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“BRITISH AIRWAYS”), color = “#075aaa”, family = “Baker Signet Std”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -34, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;三、 SessionInfo&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sessionInfo()&amp;gt; R version 3.4.3 (2017-11-30) Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows &amp;gt;= 8 x64 (build 9200) Matrix products: default locale: [1] LC_COLLATE=Chinese (Simplified)_China.936  LC_CTYPE=Chinese (Simplified)_China.936 [3] LC_MONETARY=Chinese (Simplified)_China.936 LC_NUMERIC=C [5] LC_TIME=Chinese (Simplified)_China.936 attached base packages: [1] grid      stats     graphics  grDevices utils     datasets  methods   base other attached packages: [1] plyr_1.8.4          jpeg_0.1-8          geosphere_1.5-7     data.table_1.10.4-3 [5] forcats_0.2.0       stringr_1.2.0       dplyr_0.7.4         purrr_0.2.4 [9] readr_1.1.1         tidyr_0.8.0         tibble_1.4.2        ggplot2_2.2.1.9000 [13] tidyverse_1.2.1     pacman_0.4.6 loaded via a namespace (and not attached): [1] Rcpp_0.12.15      cellranger_1.1.0  pillar_1.1.0      compiler_3.4.3    bindr_0.1 [6] tools_3.4.3       lubridate_1.7.1   jsonlite_1.5      nlme_3.1-131      gtable_0.2.0 [11] lattice_0.20-35   pkgconfig_2.0.1   rlang_0.1.6       psych_1.7.8       cli_1.0.0 [16] rstudioapi_0.7    yaml_2.1.16       parallel_3.4.3    haven_1.1.1       bindrcpp_0.2 [21] xml2_1.2.0        httr_1.3.1        knitr_1.19        hms_0.4.1         glue_1.2.0 [26] R6_2.2.2          readxl_1.0.0      foreign_0.8-69    sp_1.2-7          modelr_0.1.1 [31] reshape2_1.4.3    magrittr_1.5      scales_0.5.0.9000 rvest_0.3.2     assertthat_0.2.0 [36] mnormt_1.5-5      colorspace_1.3-2  stringi_1.1.6     lazyeval_0.2.1    munsell_0.4.3 [41] broom_0.4.3       crayon_1.3.4&lt;/p&gt;
&lt;/blockquote&gt;
 ]]></description>
        </item>
    </channel>
</rss>