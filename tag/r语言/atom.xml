<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://erik.xyz</id>
    <title>艾瑞可erik • Posts by &#34;r语言&#34; tag • Posts by &#34;undefined&#34; categories</title>
    <link href="https://erik.xyz" />
    <updated>2018-04-17T11:03:00.000Z</updated>
    <category term="php扩展" />
    <category term="php技巧" />
    <category term="php类库" />
    <category term="php资源" />
    <category term="日志" />
    <category term="工具" />
    <category term="jquery" />
    <category term="jquery插件" />
    <category term="js" />
    <category term="css" />
    <category term="php" />
    <category term="web" />
    <category term="代码" />
    <category term="压缩" />
    <category term="php服务器" />
    <category term="随笔" />
    <category term="php实例" />
    <category term="说说" />
    <category term="趣闻" />
    <category term="nginx" />
    <category term="转载" />
    <category term="php库" />
    <category term="互联" />
    <category term="项目实战" />
    <category term="javascript" />
    <category term="漏洞" />
    <category term="php应用" />
    <category term="浮点" />
    <category term="负载均衡" />
    <category term="http" />
    <category term="http服务器" />
    <category term="kali" />
    <category term="kali安装" />
    <category term="农业系统" />
    <category term="系统设计" />
    <category term="克莱姆法则" />
    <category term="行列式" />
    <category term="n阶行列式" />
    <category term="支付系统" />
    <category term="支付" />
    <category term="centos" />
    <category term="linux" />
    <category term="apache优化" />
    <category term="apache隐藏index" />
    <category term="nginx优化" />
    <category term="nginx隐藏index" />
    <category term="日常" />
    <category term="seo" />
    <category term="优化" />
    <category term="摘要" />
    <category term="文章" />
    <category term="游记" />
    <category term="ca证书" />
    <category term="证书生成" />
    <category term="二战" />
    <category term="二战熊" />
    <category term="西伯利亚熊" />
    <category term="centos软件" />
    <category term="yum仓库" />
    <category term="软件" />
    <category term="centos安装chromium报错" />
    <category term="chromium安装报错" />
    <category term="svn" />
    <category term="代码提交" />
    <category term="deb" />
    <category term="deb/rpm互转" />
    <category term="deb转rpm" />
    <category term="rpm互转" />
    <category term="centos7安装steam" />
    <category term="centos安装steam" />
    <category term="centos安装吃鸡steam" />
    <category term="linux安装steam" />
    <category term="steam安装" />
    <category term="centos软件安装" />
    <category term="centos6.5" />
    <category term="linux系统" />
    <category term="centos7安装Redis Desktop Manager" />
    <category term="centos7安装redis桌面" />
    <category term="centos安装redis桌面" />
    <category term="linux安装centos7安装Redis Desktop Manager" />
    <category term="Redis Desktop Manager" />
    <category term="redis桌面" />
    <category term="centos7" />
    <category term="centos7-wine" />
    <category term="wine" />
    <category term="wine安装" />
    <category term="root密码" />
    <category term="root密码重置" />
    <category term="忘记root密码" />
    <category term="memcache" />
    <category term="memcached" />
    <category term="生活手记" />
    <category term="艾瑞可erik" />
    <category term="程序员" />
    <category term="开源云" />
    <category term="容器" />
    <category term="cncf" />
    <category term="监控" />
    <category term="composer" />
    <category term="composer部署" />
    <category term="内网部署composer" />
    <category term="cphalcon" />
    <category term="cphalcon报错" />
    <category term="css中的em" />
    <category term="响应式字体" />
    <category term="响应式布局样式" />
    <category term="proxy代理搭建" />
    <category term="代理服务器搭建" />
    <category term="proxy服务器" />
    <category term="查找" />
    <category term="排序" />
    <category term="快速排序" />
    <category term="冒泡排序" />
    <category term="二分查找" />
    <category term="datahub" />
    <category term="datahub安装" />
    <category term="deepin" />
    <category term="emergency" />
    <category term="emergency mode" />
    <category term="deepin黑屏" />
    <category term="开发" />
    <category term="清理系统" />
    <category term="清理c盘" />
    <category term="dns" />
    <category term="域名监测" />
    <category term="网站监测" />
    <category term="docker" />
    <category term="php安装" />
    <category term="杂谈" />
    <category term="ecshop" />
    <category term="框架" />
    <category term="beego数据分页" />
    <category term="分页" />
    <category term="elasticsearch" />
    <category term="elasticsearch搭建" />
    <category term="elasticsearch集群" />
    <category term="系统" />
    <category term="emm" />
    <category term="mdm" />
    <category term="phone" />
    <category term="手机" />
    <category term="新闻" />
    <category term="免费" />
    <category term="jenkis" />
    <category term="jenkis教程" />
    <category term="随笔吐槽" />
    <category term="算法" />
    <category term="go获取ip" />
    <category term="ping" />
    <category term="ping服务器" />
    <category term="各大网站ping" />
    <category term="搜引擎ping服务器" />
    <category term="im" />
    <category term="go中pdf生成" />
    <category term="go中限流" />
    <category term="go时间获取" />
    <category term="go类型转换" />
    <category term="go对接快递签名" />
    <category term="微服务" />
    <category term="go-zero" />
    <category term="rpc" />
    <category term="go加密" />
    <category term="go解密" />
    <category term="归" />
    <category term="吐槽" />
    <category term="php大全" />
    <category term="php资料" />
    <category term="hadoop" />
    <category term="hadoop2.8.0" />
    <category term="hadoop安装教程" />
    <category term="hadoop安装详细教程" />
    <category term="hadoop教程" />
    <category term="hadoop部署" />
    <category term="hadoop3" />
    <category term="hadoop配置" />
    <category term="log4j2" />
    <category term="数据库" />
    <category term="hbase安装教程" />
    <category term="hbase" />
    <category term="http1.1" />
    <category term="http2.0" />
    <category term="会话" />
    <category term="会话原理" />
    <category term="hyperf" />
    <category term="杂录" />
    <category term="新冠肺炎" />
    <category term="springboot" />
    <category term="springboot内网部署" />
    <category term="linux恢复" />
    <category term="linux误删" />
    <category term="linux命令" />
    <category term="linux命令汇总" />
    <category term="jenkins" />
    <category term="jetbtrains" />
    <category term="phpstorm" />
    <category term="搜索引擎" />
    <category term="图片" />
    <category term="素材" />
    <category term="jq" />
    <category term="jq侧边导航" />
    <category term="侧边导航" />
    <category term="js判断浏览器" />
    <category term="js判断浏览器版本" />
    <category term="判断浏览器" />
    <category term="浏览器版本判断" />
    <category term="获取浏览器信息" />
    <category term="kali右键汉化" />
    <category term="kali桌面右键汉化" />
    <category term="kali右键创建文件" />
    <category term="区块链" />
    <category term="lanmp" />
    <category term="php环境独立配置" />
    <category term="服务器" />
    <category term="劳动纠纷" />
    <category term="追缴工资" />
    <category term="申请仲裁" />
    <category term="flash" />
    <category term="表单" />
    <category term="linux报错" />
    <category term="linux中update-command-not-found" />
    <category term="linux运行命令报错" />
    <category term="web前端" />
    <category term="web优化" />
    <category term="撮合算法" />
    <category term="撮合" />
    <category term="php撮合算法" />
    <category term="maven搭建库" />
    <category term="maven" />
    <category term="maven内网库" />
    <category term="mongodb" />
    <category term="mongodb权限" />
    <category term="高级缓存配置" />
    <category term="可穿戴设备" />
    <category term="mysql" />
    <category term="分库分表" />
    <category term="mysql应对千万级" />
    <category term="mysql瓶颈" />
    <category term="mysql瓶颈解决办法" />
    <category term="redis" />
    <category term="数据一致性" />
    <category term="mysql消息" />
    <category term="mysql队列" />
    <category term="mysql高并发" />
    <category term="mysql监控" />
    <category term="mysql存储" />
    <category term="mysql引擎" />
    <category term="mysql数据表设计选择" />
    <category term="mysql性能" />
    <category term="内网支付" />
    <category term="内网穿透" />
    <category term="支付接口本地化开发" />
    <category term="本地挂网" />
    <category term="穿透" />
    <category term="go" />
    <category term="new和make的区别" />
    <category term="红包算法" />
    <category term="深圳劳动法服务部门" />
    <category term="非关系型数据库" />
    <category term="onethink" />
    <category term="oop" />
    <category term="php管理系统" />
    <category term="开放接口开发" />
    <category term="开源工具" />
    <category term="桌面共享工具" />
    <category term="openresty" />
    <category term="openvas" />
    <category term="openvas安装" />
    <category term="php架构" />
    <category term="php服务" />
    <category term="php服务设计" />
    <category term="php项目" />
    <category term="php架构设计" />
    <category term="php变量" />
    <category term="php超级全局变量" />
    <category term="php超级变量" />
    <category term="php基本类型" />
    <category term="php数据类型" />
    <category term="php设计模式" />
    <category term="php对接微信支付" />
    <category term="微信支付" />
    <category term="微信支付回调" />
    <category term="游戏" />
    <category term="php函数" />
    <category term="php随机数" />
    <category term="php获取闰年" />
    <category term="闰年.php时间" />
    <category term="php环境" />
    <category term="php集成环境" />
    <category term="服务器集成环境" />
    <category term="数组函数" />
    <category term="数组排序函数" />
    <category term="php数学函数" />
    <category term="php面试题" />
    <category term="php面向对象" />
    <category term="面向对象" />
    <category term="php-zookeeper" />
    <category term="zookeeper3.5.5" />
    <category term="php-zookeeper扩展" />
    <category term="php串口开发" />
    <category term="php倒计时" />
    <category term="php时间" />
    <category term="倒计时" />
    <category term="计算时间" />
    <category term="PHP数组" />
    <category term="字符串函数" />
    <category term="排序函数" />
    <category term="php的SPL" />
    <category term="SPL手册" />
    <category term="PHP算法" />
    <category term="php递归" />
    <category term="递归" />
    <category term="phpunit" />
    <category term="phpunit安装" />
    <category term="php过滤" />
    <category term="过滤" />
    <category term="foreach" />
    <category term="foreach报错" />
    <category term="php中foreach报错" />
    <category term="php中if" />
    <category term="php中if判断" />
    <category term="php的if" />
    <category term="php字符串" />
    <category term="php7中sphinx" />
    <category term="php7中sphinx扩展" />
    <category term="sphinx扩展" />
    <category term="plc" />
    <category term="python" />
    <category term="python库" />
    <category term="a标签" />
    <category term="a标签虚线" />
    <category term="虚线框" />
    <category term="R语言" />
    <category term="数据随机化" />
    <category term="redis总结" />
    <category term="redis命令" />
    <category term="redis锁" />
    <category term="redis分布式锁" />
    <category term="redis监控" />
    <category term="任意金额输入" />
    <category term="10元、5元、2元" />
    <category term="队列" />
    <category term="栈" />
    <category term="顺序表" />
    <category term="链表" />
    <category term="数据结构" />
    <category term="线性结构" />
    <category term="响应慢" />
    <category term="页面优化" />
    <category term="浏览器禁止操作视频" />
    <category term="禁止视频" />
    <category term="js编辑" />
    <category term="runjs" />
    <category term="在线编辑" />
    <category term="rust" />
    <category term="rust配置" />
    <category term="seajs" />
    <category term="session" />
    <category term="路由器烧录" />
    <category term="烧录" />
    <category term="极路由2烧录" />
    <category term="砖头烧录" />
    <category term="免费服务器" />
    <category term="空间" />
    <category term="资源" />
    <category term="深圳政府电话" />
    <category term="深圳电话" />
    <category term="特区电话" />
    <category term="居住证" />
    <category term="居住证签注" />
    <category term="深圳新居住证" />
    <category term="世界那么大" />
    <category term="国庆骑行" />
    <category term="深圳珠海骑行" />
    <category term="骑行" />
    <category term="css3" />
    <category term="css在线生成工具" />
    <category term="css工具" />
    <category term="shodan" />
    <category term="黑谷歌" />
    <category term="黒帽搜素" />
    <category term="php正则" />
    <category term="正则" />
    <category term="shopex" />
    <category term="可视化数据" />
    <category term="数据" />
    <category term="数据表" />
    <category term="socket通信" />
    <category term="socket多进程" />
    <category term="socket" />
    <category term="json" />
    <category term="json数组" />
    <category term="json解析" />
    <category term="sql" />
    <category term="sql优化" />
    <category term="css3兼容360浏览器兼容模式" />
    <category term="css圆角" />
    <category term="结构体转map" />
    <category term="config" />
    <category term="thinkphp" />
    <category term="配置文件" />
    <category term="树" />
    <category term="二叉树" />
    <category term="js插件" />
    <category term="web自适应" />
    <category term="响应式布局" />
    <category term="响应式所有分辨率" />
    <category term="自适应布局" />
    <category term="自适应所有分辨率" />
    <category term="webman" />
    <category term="mysql设置超时，超时" />
    <category term="markdown" />
    <category term="wget" />
    <category term="wget抓取" />
    <category term="网站抓取" />
    <category term="我在" />
    <category term="wordpress" />
    <category term="wordpress标签" />
    <category term="域名合并" />
    <category term="wpscan" />
    <category term="usbrip" />
    <category term="无限极分类" />
    <category term="php无限极" />
    <category term="分类tree" />
    <category term="无限极分类树型" />
    <category term="xhprof" />
    <category term="laravel" />
    <category term="composer插件" />
    <category term="html" />
    <category term="响应式分辨率" />
    <category term="响应式调试" />
    <category term="自适应屏幕" />
    <category term="携程" />
    <category term="携程攻击" />
    <category term="携程网站瘫痪" />
    <category term="物理删除" />
    <category term="3D" />
    <category term="动画" />
    <category term="平台" />
    <category term="虚幻4引擎编辑" />
    <category term="生成唯一id" />
    <category term="生成id" />
    <category term="发邮件" />
    <category term="邮件函数" />
    <category term="储蓄卡免年费" />
    <category term="银行卡" />
    <category term="银行卡免年费" />
    <category term="composer安装" />
    <category term="composer配置" />
    <category term="项目创建composer" />
    <category term="mysql优化" />
    <category term="mysql读写优化" />
    <category term="数据库优化，mysql语句优化" />
    <category term="php加密" />
    <category term="php技术" />
    <category term="夕阳" />
    <category term="mysql函数" />
    <category term="php中mysql函数" />
    <category term="互联网时代" />
    <category term="开源技术" />
    <category term="web框架" />
    <category term="php抓取图片" />
    <category term="php批量抓取页面图片" />
    <category term="邮箱服务器" />
    <category term="正则表达式" />
    <category term="翻墙" />
    <category term="谷歌" />
    <category term="谷歌搜索" />
    <entry>
        <id>https://erik.xyz/2018/04/17/r-yu-yan-hui-zhi-shi-jie-hang-ban-xian-lu-tu/</id>
        <title>利用R语言绘制世界航班路线图</title>
        <link rel="alternate" href="https://erik.xyz/2018/04/17/r-yu-yan-hui-zhi-shi-jie-hang-ban-xian-lu-tu/"/>
        <content type="html">&lt;p&gt;&lt;strong&gt;作者简介Introduction&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;taoyan：&lt;/strong&gt;伪码农，R语言爱好者，爱开源。 个人博客: &lt;a href=&#34;https://ytlogos.github.io/&#34;&gt;https://ytlogos.github.io/&lt;/a&gt; &lt;strong&gt;、&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://mmbiz.qpic.cn/mmbiz_gif/y2fhgP4leThJiaFzTDexmxpianqLyez0XSGmbKia8GfeJutxnAkGiciaevwnP89eqI8icjVCYia0GG98ribmFhhGrKemtQ/640?wx_fmt=gif&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;&#34; title=&#34;烟花&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://mmbiz.qpic.cn/mmbiz_png/y2fhgP4leTgLwP9BJYtDFtibfby9doVLqwWicgVQzvia8NvwesibRu3UXCV4ib88icOd6Y3EFjUsaVMk9eGEZTicdtOag/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&#34; alt=&#34;&#34;&gt;&lt;strong&gt;&lt;br&gt;一、 简介&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;本文基于NASA的夜间地图（&lt;a href=&#34;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble\_2016\_01deg.jpg）的基础上进行世界航班路线可视化，参考多篇博客以及可视化案例。&#34;&gt;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble_2016_01deg.jpg）的基础上进行世界航班路线可视化，参考多篇博客以及可视化案例。&lt;/a&gt; &lt;strong&gt;1. 包加载&lt;/strong&gt; 本博客使用的包较多，利用pacman包里的&lt;strong&gt;p_load()&lt;/strong&gt;函数进行加载。&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;library(pacman) p_load(tidyverse, data.table, geosphere, grid, jpeg, plyr)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;  &lt;strong&gt;2. 数据准备&lt;/strong&gt; 使用的数据来自于OpenFlights.org（&lt;a href=&#34;https://openflights.org/data.html）。&#34;&gt;https://openflights.org/data.html）。&lt;/a&gt; &lt;strong&gt;3.数据下载&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;download.file(“&lt;a href=&#34;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airlines.dat&#34;&gt;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airlines.dat”,destfile&lt;/a&gt; = “airlines.dat”, mode = “wb”) download.file(“&lt;a href=&#34;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airports.dat&#34;&gt;https://raw.githubusercontent.com/jpatokal/openflights/master/data/airports.dat”,destfile&lt;/a&gt; = “airports.dat”, mode = “wb”) download.file(“&lt;a href=&#34;https://raw.githubusercontent.com/jpatokal/openflights/master/data/routes.dat&#34;&gt;https://raw.githubusercontent.com/jpatokal/openflights/master/data/routes.dat”,destfile&lt;/a&gt; = “routes.dat”, mode = “wb”)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;4.数据导入&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;airlines &amp;lt;- fread(“airlines.dat”, sep = “,”, skip = 1) airports &amp;lt;- fread(“airports.dat”, sep = “,”) routes &amp;lt;- fread(“routes.dat”, sep = “,”)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;5. 数据整理&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;添加列名colnames-airlines-lt-c-“airline-id”-“name”-“alias”-“iata”-“icao”-“callisign”-“country”-“active”-colnames-airports-lt-c-“airport-id”-“name”-“city”-“country”-”iata”-“icao”-“latitude”-“longitude”-”altitude”-“timezone”-”dst”-”tz-database-time-zone”-”type”-“source”-colnames-routes-lt-c-“airline”-“airline-id”-“source-airport”-“source-airport-id”-”destination-airport”-”destination-airport-id”-”codeshare”-“stops”-”equipment”&#34;&gt;&lt;a href=&#34;#添加列名colnames-airlines-lt-c-“airline-id”-“name”-“alias”-“iata”-“icao”-“callisign”-“country”-“active”-colnames-airports-lt-c-“airport-id”-“name”-“city”-“country”-”iata”-“icao”-“latitude”-“longitude”-”altitude”-“timezone”-”dst”-”tz-database-time-zone”-”type”-“source”-colnames-routes-lt-c-“airline”-“airline-id”-“source-airport”-“source-airport-id”-”destination-airport”-”destination-airport-id”-”codeshare”-“stops”-”equipment”&#34; class=&#34;headerlink&#34; title=&#34;添加列名colnames(airlines) &amp;lt;- c(“airline_id”, “name”, “alias”, “iata”, “icao”, “callisign”, “country”, “active”) colnames(airports) &amp;lt;- c(“airport_id”, “name”, “city”, “country”,”iata”, “icao”, “latitude”, “longitude”,”altitude”, “timezone”,”dst”,”tz_database_time_zone”,”type”, “source”) colnames(routes) &amp;lt;- c(“airline”, “airline_id”, “source_airport”, “source_airport_id”,”destination_airport”,”destination_airport_id”,”codeshare”, “stops”,”equipment”)&#34;&gt;&lt;/a&gt;添加列名colnames(airlines) &amp;lt;- c(“airline_id”, “name”, “alias”, “iata”, “icao”, “callisign”, “country”, “active”) colnames(airports) &amp;lt;- c(“airport_id”, “name”, “city”, “country”,”iata”, “icao”, “latitude”, “longitude”,”altitude”, “timezone”,”dst”,”tz_database_time_zone”,”type”, “source”) colnames(routes) &amp;lt;- c(“airline”, “airline_id”, “source_airport”, “source_airport_id”,”destination_airport”,”destination_airport_id”,”codeshare”, “stops”,”equipment”)&lt;/h1&gt;&lt;h1 id=&#34;类型转换-routes-airline-id-lt-as-numeric-routes-airline-id&#34;&gt;&lt;a href=&#34;#类型转换-routes-airline-id-lt-as-numeric-routes-airline-id&#34; class=&#34;headerlink&#34; title=&#34;类型转换 routes$airline_id &amp;lt;- as.numeric(routes$airline_id)&#34;&gt;&lt;/a&gt;类型转换 routes$airline_id &amp;lt;- as.numeric(routes$airline_id)&lt;/h1&gt;&lt;h1 id=&#34;airlines与routes数据融合-flights-lt-left-join-routes-airlines-by-”airline-id”&#34;&gt;&lt;a href=&#34;#airlines与routes数据融合-flights-lt-left-join-routes-airlines-by-”airline-id”&#34; class=&#34;headerlink&#34; title=&#34;airlines与routes数据融合 flights &amp;lt;- left_join(routes, airlines, by=”airline_id”)&#34;&gt;&lt;/a&gt;airlines与routes数据融合 flights &amp;lt;- left_join(routes, airlines, by=”airline_id”)&lt;/h1&gt;&lt;h1 id=&#34;flights与airports数据融合-airports-orig-lt-airports-c-5-7-8-colnames-airports-orig-lt-c-“source-airport”-”source-airport-lat”-“source-airport-long”-airports-dest-lt-airports-c-5-7-8-colnames-airports-dest-lt-c-“destination-airport”-“destination-airport-lat”-“destination-airport-long”-flights-lt-left-join-flights-airports-orig-by-“source-airport”-flights-lt-left-join-flights-airports-dest-by-“destination-airport”&#34;&gt;&lt;a href=&#34;#flights与airports数据融合-airports-orig-lt-airports-c-5-7-8-colnames-airports-orig-lt-c-“source-airport”-”source-airport-lat”-“source-airport-long”-airports-dest-lt-airports-c-5-7-8-colnames-airports-dest-lt-c-“destination-airport”-“destination-airport-lat”-“destination-airport-long”-flights-lt-left-join-flights-airports-orig-by-“source-airport”-flights-lt-left-join-flights-airports-dest-by-“destination-airport”&#34; class=&#34;headerlink&#34; title=&#34;flights与airports数据融合 airports_orig &amp;lt;- airports[,c(5,7,8)] colnames(airports_orig) &amp;lt;- c(“source_airport”,”source_airport_lat”, “source_airport_long”) airports_dest &amp;lt;- airports[, c(5, 7, 8)] colnames(airports_dest) &amp;lt;- c(“destination_airport”, “destination_airport_lat”, “destination_airport_long”) flights &amp;lt;- left_join(flights, airports_orig, by = “source_airport”) flights &amp;lt;- left_join(flights, airports_dest, by = “destination_airport”)&#34;&gt;&lt;/a&gt;flights与airports数据融合 airports_orig &amp;lt;- airports[,c(5,7,8)] colnames(airports_orig) &amp;lt;- c(“source_airport”,”source_airport_lat”, “source_airport_long”) airports_dest &amp;lt;- airports[, c(5, 7, 8)] colnames(airports_dest) &amp;lt;- c(“destination_airport”, “destination_airport_lat”, “destination_airport_long”) flights &amp;lt;- left_join(flights, airports_orig, by = “source_airport”) flights &amp;lt;- left_join(flights, airports_dest, by = “destination_airport”)&lt;/h1&gt;&lt;h1 id=&#34;剔除缺失值-flights-lt-na-omit-flights-cols-c-“source-airport-long”-“source-airport-lat”-“destination-airport-long”-“destination-airport-lat”&#34;&gt;&lt;a href=&#34;#剔除缺失值-flights-lt-na-omit-flights-cols-c-“source-airport-long”-“source-airport-lat”-“destination-airport-long”-“destination-airport-lat”&#34; class=&#34;headerlink&#34; title=&#34;剔除缺失值 flights &amp;lt;- na.omit(flights, cols = c(“source_airport_long”, “source_airport_lat”, “destination_airport_long”, “destination_airport_lat”))&#34;&gt;&lt;/a&gt;剔除缺失值 flights &amp;lt;- na.omit(flights, cols = c(“source_airport_long”, “source_airport_lat”, “destination_airport_long”, “destination_airport_lat”))&lt;/h1&gt;&lt;h1 id=&#34;最后数据如下-head-flights-c-1-5&#34;&gt;&lt;a href=&#34;#最后数据如下-head-flights-c-1-5&#34; class=&#34;headerlink&#34; title=&#34;最后数据如下 head(flights[,c(1:5)])&#34;&gt;&lt;/a&gt;最后数据如下 head(flights[,c(1:5)])&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;  &lt;strong&gt;6. 下面就是准备地理信息数据&lt;/strong&gt; 本文主要是可视化地理信息上的点与点之间的连接，这可以通过geosphere包里的函数gcIntermediate()很轻松实现。具体使用方法可以参考这里（&lt;a href=&#34;http://flowingdata.com/2011/05/11/how-to-map-connections-with-great-circles/）。&#34;&gt;http://flowingdata.com/2011/05/11/how-to-map-connections-with-great-circles/）。&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;按航空公司拆分数据集-flights-split-lt-split-flights-flights-name&#34;&gt;&lt;a href=&#34;#按航空公司拆分数据集-flights-split-lt-split-flights-flights-name&#34; class=&#34;headerlink&#34; title=&#34;按航空公司拆分数据集 flights_split &amp;lt;- split(flights, flights$name)&#34;&gt;&lt;/a&gt;按航空公司拆分数据集 flights_split &amp;lt;- split(flights, flights$name)&lt;/h1&gt;&lt;h1 id=&#34;Calculate-intermediate-points-between-each-two-locations-flights-all-lt-lapply-flights-split-function-x-gcIntermediate-x-c-“source-airport-long”-“source-airport-lat”-x-c-“destination-airport-long”-“destination-airport-lat”-n-100-breakAtDateLine-FALSE-addStartEnd-TRUE-sp-TRUE&#34;&gt;&lt;a href=&#34;#Calculate-intermediate-points-between-each-two-locations-flights-all-lt-lapply-flights-split-function-x-gcIntermediate-x-c-“source-airport-long”-“source-airport-lat”-x-c-“destination-airport-long”-“destination-airport-lat”-n-100-breakAtDateLine-FALSE-addStartEnd-TRUE-sp-TRUE&#34; class=&#34;headerlink&#34; title=&#34;Calculate intermediate points between each two locations flights_all &amp;lt;- lapply(flights_split, function(x) gcIntermediate(x[, c(“source_airport_long”, “source_airport_lat”)], x[, c(“destination_airport_long”, “destination_airport_lat”)], n=100, breakAtDateLine = FALSE, addStartEnd = TRUE, sp = TRUE))&#34;&gt;&lt;/a&gt;Calculate intermediate points between each two locations flights_all &amp;lt;- lapply(flights_split, function(x) gcIntermediate(x[, c(“source_airport_long”, “source_airport_lat”)], x[, c(“destination_airport_long”, “destination_airport_lat”)], n=100, breakAtDateLine = FALSE, addStartEnd = TRUE, sp = TRUE))&lt;/h1&gt;&lt;h1 id=&#34;转换为数据框-flights-fortified-lt-lapply-flights-all-function-x-ldply-x-lines-fortify&#34;&gt;&lt;a href=&#34;#转换为数据框-flights-fortified-lt-lapply-flights-all-function-x-ldply-x-lines-fortify&#34; class=&#34;headerlink&#34; title=&#34;转换为数据框 flights_fortified &amp;lt;- lapply(flights_all, function(x) ldply(x@lines, fortify))&#34;&gt;&lt;/a&gt;转换为数据框 flights_fortified &amp;lt;- lapply(flights_all, function(x) ldply(x@lines, fortify))&lt;/h1&gt;&lt;h1 id=&#34;Unsplit-lists-flights-fortified-lt-do-call-“rbind”-flights-fortified&#34;&gt;&lt;a href=&#34;#Unsplit-lists-flights-fortified-lt-do-call-“rbind”-flights-fortified&#34; class=&#34;headerlink&#34; title=&#34;Unsplit lists flights_fortified &amp;lt;- do.call(“rbind”, flights_fortified)&#34;&gt;&lt;/a&gt;Unsplit lists flights_fortified &amp;lt;- do.call(“rbind”, flights_fortified)&lt;/h1&gt;&lt;h1 id=&#34;Add-and-clean-column-with-airline-names-flights-fortified-name-lt-rownames-flights-fortified-flights-fortified-name-lt-gsub-“-”-“”-flights-fortified-name&#34;&gt;&lt;a href=&#34;#Add-and-clean-column-with-airline-names-flights-fortified-name-lt-rownames-flights-fortified-flights-fortified-name-lt-gsub-“-”-“”-flights-fortified-name&#34; class=&#34;headerlink&#34; title=&#34;Add and clean column with airline names flights_fortified$name &amp;lt;- rownames(flights_fortified) flights_fortified$name &amp;lt;- gsub(“..*”, “”, flights_fortified$name)&#34;&gt;&lt;/a&gt;Add and clean column with airline names flights_fortified$name &amp;lt;- rownames(flights_fortified) flights_fortified$name &amp;lt;- gsub(“..*”, “”, flights_fortified$name)&lt;/h1&gt;&lt;h1 id=&#34;Extract-first-and-last-observations-for-plotting-source-and-destination-points-i-e-airports-flights-points-lt-flights-fortified-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34;&gt;&lt;a href=&#34;#Extract-first-and-last-observations-for-plotting-source-and-destination-points-i-e-airports-flights-points-lt-flights-fortified-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34; class=&#34;headerlink&#34; title=&#34;Extract first and last observations for plotting source and destination points (i.e., airports) flights_points &amp;lt;- flights_fortified %&amp;gt;% group_by(group) %&amp;gt;% filter(row_number() == 1 | row_number() == n())&#34;&gt;&lt;/a&gt;Extract first and last observations for plotting source and destination points (i.e., airports) flights_points &amp;lt;- flights_fortified %&amp;gt;% group_by(group) %&amp;gt;% filter(row_number() == 1 | row_number() == n())&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;  &lt;strong&gt;二、 可视化&lt;/strong&gt; 接下来就是进行可视化了，前面讲了我们只是在NASA提供的夜间地球图上面进行数据映射，所以第一我们需要获取该背景地图。 &lt;strong&gt;1. 图片获取并渲染&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;下载图片-download-file-“https-www-nasa-gov-specials-blackmarble-2016-globalmaps-BlackMarble-2016-01deg-jpg”-destfile-“BlackMarble-2016-01deg-jpg”-mode-“wb”&#34;&gt;&lt;a href=&#34;#下载图片-download-file-“https-www-nasa-gov-specials-blackmarble-2016-globalmaps-BlackMarble-2016-01deg-jpg”-destfile-“BlackMarble-2016-01deg-jpg”-mode-“wb”&#34; class=&#34;headerlink&#34; title=&#34;下载图片 download.file(“https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble_2016_01deg.jpg”,destfile = “BlackMarble_2016_01deg.jpg”, mode = “wb”)&#34;&gt;&lt;/a&gt;下载图片 download.file(“&lt;a href=&#34;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble\_2016\_01deg.jpg&#34;&gt;https://www.nasa.gov/specials/blackmarble/2016/globalmaps/BlackMarble_2016_01deg.jpg”,destfile&lt;/a&gt; = “BlackMarble_2016_01deg.jpg”, mode = “wb”)&lt;/h1&gt;&lt;h1 id=&#34;加载并渲染图片-earth-lt-readJPEG-“BlackMarble-2016-01deg-jpg”-native-TRUE-earth-lt-rasterGrob-earth-interpolate-TRUE&#34;&gt;&lt;a href=&#34;#加载并渲染图片-earth-lt-readJPEG-“BlackMarble-2016-01deg-jpg”-native-TRUE-earth-lt-rasterGrob-earth-interpolate-TRUE&#34; class=&#34;headerlink&#34; title=&#34;加载并渲染图片 earth &amp;lt;- readJPEG(“BlackMarble_2016_01deg.jpg”, native = TRUE) earth &amp;lt;- rasterGrob(earth, interpolate = TRUE)&#34;&gt;&lt;/a&gt;加载并渲染图片 earth &amp;lt;- readJPEG(“BlackMarble_2016_01deg.jpg”, native = TRUE) earth &amp;lt;- rasterGrob(earth, interpolate = TRUE)&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;2. 数据映射&lt;/strong&gt; 由于航空公司十分多，就挑选几个有名的航空公司进行可视化。 &lt;strong&gt;(1) Lufthansa(德国汉莎航空公司)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#f9ba00”, data = flights_fortified[flights_fortified$name == “Lufthansa”, ]) + geom_point(data = flights_points[flights_points$name == “Lufthansa”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”),panel.grid.major = element_blank(),panel.grid.minor = element_blank(),axis.title = element_blank(),axis.text = element_blank(),axis.ticks.length = unit(0, “cm”),legend.position = “none”) +annotate(“text”, x = -150, y = -18, hjust = 0, size = 14,label = paste(“Lufthansa”), color = “#f9ba00”, family = “Helvetica Black”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(2) Emirates(阿联酋航空公司)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#ff0000”, data = flights_fortified[flights_fortified$name == “Emirates”, ]) + geom_point(data = flights_points[flights_points$name == “Emirates”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“Emirates”), color = “#ff0000”, family = “Fontin”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(3) British Airways(英国航空公司)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#075aaa”, data = flights_fortified[flights_fortified$name == “British Airways”, ]) + geom_point(data = flights_points[flights_points$name == “British Airways”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“BRITISH AIRWAYS”), color = “#075aaa”, family = “Baker Signet Std”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(4) Air China(中国国航)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#F70C15”, data = flights_fortified[flights_fortified$name == “Air China”, ]) + geom_point(data = flights_points[flights_points$name == “Air China”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“Air China”), color = “#F70C15”, family = “Times New Roman”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(5) China Southern Airlines(中国南航)&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.0, size = 0.0, data = flights_fortified) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, color = “#004D9D”, data = flights_fortified[flights_fortified$name == “China Southern Airlines”, ]) + geom_point(data = flights_points[flights_points$name == “China Southern Airlines”, ], aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“China Southern Airlines”), color = “#004D9D”, family = “Times New Roman”) + annotate(“text”, x = -150, y = -26, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;(6) 一次性映射多家航空公司航行路线&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;抽取数据集-flights-subset-lt-c-“Lufthansa”-“Emirates”-“British-Airways”-flights-subset-lt-flights-fortified-flights-fortified-name-in-flights-subset-flights-subset-points-lt-flights-subset-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34;&gt;&lt;a href=&#34;#抽取数据集-flights-subset-lt-c-“Lufthansa”-“Emirates”-“British-Airways”-flights-subset-lt-flights-fortified-flights-fortified-name-in-flights-subset-flights-subset-points-lt-flights-subset-gt-group-by-group-gt-filter-row-number-1-row-number-n&#34; class=&#34;headerlink&#34; title=&#34;抽取数据集 flights_subset &amp;lt;- c(“Lufthansa”, “Emirates”, “British Airways”) flights_subset &amp;lt;- flights_fortified[flights_fortified$name %in% flights_subset, ] flights_subset_points &amp;lt;- flights_subset%&amp;gt;% group_by(group)%&amp;gt;% filter(row_number()==1|row_number()==n())&#34;&gt;&lt;/a&gt;抽取数据集 flights_subset &amp;lt;- c(“Lufthansa”, “Emirates”, “British Airways”) flights_subset &amp;lt;- flights_fortified[flights_fortified$name %in% flights_subset, ] flights_subset_points &amp;lt;- flights_subset%&amp;gt;% group_by(group)%&amp;gt;% filter(row_number()==1|row_number()==n())&lt;/h1&gt;&lt;h1 id=&#34;可视化-ggplot-annotation-custom-earth-xmin-180-xmax-180-ymin-90-ymax-90-geom-path-aes-long-lat-group-id-color-name-alpha-0-2-size-0-3-data-flights-subset-geom-point-data-flights-subset-points-aes-long-lat-alpha-0-8-size-0-1-colour-“white”-scale-color-manual-values-c-“-f9ba00”-“-ff0000”-“-075aaa”-theme-panel-background-element-rect-fill-“-05050f”-colour-“-05050f”-panel-grid-major-element-blank-panel-grid-minor-element-blank-axis-title-element-blank-axis-text-element-blank-axis-ticks-length-unit-0-“cm”-legend-position-“none”-annotate-“text”-x-150-y-4-hjust-0-size-14-label-paste-“Lufthansa”-color-“-f9ba00”-family-“Helvetica-Black”-annotate-“text”-x-150-y-11-hjust-0-size-14-label-paste-“Emirates”-color-“-ff0000”-family-“Fontin”-annotate-“text”-x-150-y-18-hjust-0-size-14-label-paste-“BRITISH-AIRWAYS”-color-“-075aaa”-family-“Baker-Signet-Std”-annotate-“text”-x-150-y-30-hjust-0-size-8-label-paste-“Flight-routes”-color-“white”-annotate-“text”-x-150-y-34-hjust-0-size-7-label-paste-“ytlogos-github-io-NASA-gov-OpenFlights-org”-color-“white”-alpha-0-5-coord-equal&#34;&gt;&lt;a href=&#34;#可视化-ggplot-annotation-custom-earth-xmin-180-xmax-180-ymin-90-ymax-90-geom-path-aes-long-lat-group-id-color-name-alpha-0-2-size-0-3-data-flights-subset-geom-point-data-flights-subset-points-aes-long-lat-alpha-0-8-size-0-1-colour-“white”-scale-color-manual-values-c-“-f9ba00”-“-ff0000”-“-075aaa”-theme-panel-background-element-rect-fill-“-05050f”-colour-“-05050f”-panel-grid-major-element-blank-panel-grid-minor-element-blank-axis-title-element-blank-axis-text-element-blank-axis-ticks-length-unit-0-“cm”-legend-position-“none”-annotate-“text”-x-150-y-4-hjust-0-size-14-label-paste-“Lufthansa”-color-“-f9ba00”-family-“Helvetica-Black”-annotate-“text”-x-150-y-11-hjust-0-size-14-label-paste-“Emirates”-color-“-ff0000”-family-“Fontin”-annotate-“text”-x-150-y-18-hjust-0-size-14-label-paste-“BRITISH-AIRWAYS”-color-“-075aaa”-family-“Baker-Signet-Std”-annotate-“text”-x-150-y-30-hjust-0-size-8-label-paste-“Flight-routes”-color-“white”-annotate-“text”-x-150-y-34-hjust-0-size-7-label-paste-“ytlogos-github-io-NASA-gov-OpenFlights-org”-color-“white”-alpha-0-5-coord-equal&#34; class=&#34;headerlink&#34; title=&#34;可视化 ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, data = flights_subset) + geom_point(data = flights_subset_points, aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + scale_color_manual(values = c(“#f9ba00”, “#ff0000”, “#075aaa”)) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -4, hjust = 0, size = 14, label = paste(“Lufthansa”), color = “#f9ba00”, family = “Helvetica Black”) + annotate(“text”, x = -150, y = -11, hjust = 0, size = 14, label = paste(“Emirates”), color = “#ff0000”, family = “Fontin”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“BRITISH AIRWAYS”), color = “#075aaa”, family = “Baker Signet Std”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -34, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&#34;&gt;&lt;/a&gt;可视化 ggplot() + annotation_custom(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) + geom_path(aes(long, lat, group = id, color = name), alpha = 0.2, size = 0.3, data = flights_subset) + geom_point(data = flights_subset_points, aes(long, lat), alpha = 0.8, size = 0.1, colour = “white”) + scale_color_manual(values = c(“#f9ba00”, “#ff0000”, “#075aaa”)) + theme(panel.background = element_rect(fill = “#05050f”, colour = “#05050f”), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), axis.title = element_blank(), axis.text = element_blank(), axis.ticks.length = unit(0, “cm”), legend.position = “none”) + annotate(“text”, x = -150, y = -4, hjust = 0, size = 14, label = paste(“Lufthansa”), color = “#f9ba00”, family = “Helvetica Black”) + annotate(“text”, x = -150, y = -11, hjust = 0, size = 14, label = paste(“Emirates”), color = “#ff0000”, family = “Fontin”) + annotate(“text”, x = -150, y = -18, hjust = 0, size = 14, label = paste(“BRITISH AIRWAYS”), color = “#075aaa”, family = “Baker Signet Std”) + annotate(“text”, x = -150, y = -30, hjust = 0, size = 8, label = paste(“Flight routes”), color = “white”) + annotate(“text”, x = -150, y = -34, hjust = 0, size = 7, label = paste(“ytlogos.github.io || NASA.gov || OpenFlights.org”), color = “white”, alpha = 0.5) + coord_equal()&lt;/h1&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==&#34; alt=&#34;&#34;&gt; &lt;strong&gt;三、 SessionInfo&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sessionInfo()&amp;gt; R version 3.4.3 (2017-11-30) Platform: x86_64-w64-mingw32/x64 (64-bit) Running under: Windows &amp;gt;= 8 x64 (build 9200) Matrix products: default locale: [1] LC_COLLATE=Chinese (Simplified)_China.936  LC_CTYPE=Chinese (Simplified)_China.936 [3] LC_MONETARY=Chinese (Simplified)_China.936 LC_NUMERIC=C [5] LC_TIME=Chinese (Simplified)_China.936 attached base packages: [1] grid      stats     graphics  grDevices utils     datasets  methods   base other attached packages: [1] plyr_1.8.4          jpeg_0.1-8          geosphere_1.5-7     data.table_1.10.4-3 [5] forcats_0.2.0       stringr_1.2.0       dplyr_0.7.4         purrr_0.2.4 [9] readr_1.1.1         tidyr_0.8.0         tibble_1.4.2        ggplot2_2.2.1.9000 [13] tidyverse_1.2.1     pacman_0.4.6 loaded via a namespace (and not attached): [1] Rcpp_0.12.15      cellranger_1.1.0  pillar_1.1.0      compiler_3.4.3    bindr_0.1 [6] tools_3.4.3       lubridate_1.7.1   jsonlite_1.5      nlme_3.1-131      gtable_0.2.0 [11] lattice_0.20-35   pkgconfig_2.0.1   rlang_0.1.6       psych_1.7.8       cli_1.0.0 [16] rstudioapi_0.7    yaml_2.1.16       parallel_3.4.3    haven_1.1.1       bindrcpp_0.2 [21] xml2_1.2.0        httr_1.3.1        knitr_1.19        hms_0.4.1         glue_1.2.0 [26] R6_2.2.2          readxl_1.0.0      foreign_0.8-69    sp_1.2-7          modelr_0.1.1 [31] reshape2_1.4.3    magrittr_1.5      scales_0.5.0.9000 rvest_0.3.2     assertthat_0.2.0 [36] mnormt_1.5-5      colorspace_1.3-2  stringi_1.1.6     lazyeval_0.2.1    munsell_0.4.3 [41] broom_0.4.3       crayon_1.3.4&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="转载" />
        <category term="R语言" />
        <updated>2018-04-17T11:03:00.000Z</updated>
    </entry>
</feed>