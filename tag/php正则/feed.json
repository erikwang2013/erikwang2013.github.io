{
    "version": "https://jsonfeed.org/version/1",
    "title": "艾瑞可erik • All posts by \"php正则\" tag • All posts by \"undefined\" categories",
    "description": "一只PHP开发的程序猿，偶尔做做运维、Goland、Python、Java、摄影、画画、写作、顺便睡觉，反正整站都搞过。",
    "home_page_url": "https://erik.xyz",
    "items": [
        {
            "id": "https://erik.xyz/2014/12/09/shi-yong-de-php-zheng-ze-biao-da-shi/",
            "url": "https://erik.xyz/2014/12/09/shi-yong-de-php-zheng-ze-biao-da-shi/",
            "title": "实用的PHP正则表达式",
            "date_published": "2014-12-09T01:45:00.000Z",
            "content_html": "<p>正则表达式是程序开发中一个重要的元素，它提供用来描述或匹配文本的字符串，如特定的字符、词或算式等。但在某些情况下，用正则表达式去验证一个字符串比较复杂和费时。本文为你介绍10种常见的实用PHP正则表达式的写法，希望对你的工作有所帮助。 <strong>1. 验证E-mail地址</strong> 这是一个用于验证电子邮件的正则表达式。但它并不是高效、完美的解决方案。在此不推荐使用。</p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$email = &quot;test@ansoncheung.tk&quot;;</span><br><span class=\"line\">if (preg_match(&#x27;/^\\[^0-9\\]\\[a-zA-Z0-9_\\]+(\\[.\\]\\[a-zA-Z0-9_\\]+)*\\[@\\]\\[a-zA-Z0-9_\\]+(\\[.\\]\\[a-zA-Z0-9_\\]+)*\\[.\\]\\[a-zA-Z\\]&#123;2,4&#125;$/&#x27;,$email)) &#123;</span><br><span class=\"line\">    echo &quot;Your email is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong email address format&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><span id=\"more\"></span><br>为了更加有效验证电子邮件地址，推荐使用<a href=\"http://php.net/manual/en/function.filter-var.php\">filer_var</a>。</p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (filter_var(&#x27;test+email@ansoncheung&#x27;, FILTER\\_VALIDATE\\_EMAIL)) &#123;</span><br><span class=\"line\">    echo &quot;Your email is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong email address format.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>2. 验证用户名</strong> 这是一个用于验证用户名的实例，其中包括字母、数字（A-Z，a-z，0-9）、下划线以及最低5个字符，最大20个字符。同时，也可以根据需要，对最小值和最大值做合理的修改。</p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$username = &quot;user_name12&quot;;</span><br><span class=\"line\">if (preg_match(&#x27;/^\\[a-z\\\\d_\\]&#123;5,20&#125;$/i&#x27;, $username)) &#123;</span><br><span class=\"line\">    echo &quot;Your username is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong username format.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>3. 验证电话号码</strong> 这是一个验证美国电话号码的实例。</p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$phone = &quot;(021)423-2323&quot;;</span><br><span class=\"line\">if (preg_match(&#x27;/\\\\(?\\\\d&#123;3&#125;\\\\)?\\[-\\\\s.\\]?\\\\d&#123;3&#125;\\[-\\\\s.\\]\\\\d&#123;4&#125;/x&#x27;, $phone)) &#123;</span><br><span class=\"line\">    echo &quot;Your phone number is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong phone number.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>4. 验证IP地址</strong> 这是一个用来验证IPv4地址的实例。</p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$IP = &quot;198.168.1.78&quot;;</span><br><span class=\"line\">if (preg_match(&#x27;/^((\\[1-9\\]?\\[0-9\\]|1\\[0-9\\]&#123;2&#125;|2\\[0-4\\]\\[0-9\\]|25\\[0-5\\]).)&#123;3&#125;(\\[1-9\\]?\\[0-9\\]|1\\[0-9\\]&#123;2&#125;|2\\[0-4\\]\\[0-9\\]|25\\[0-5\\])$/&#x27;,$IP)) &#123;</span><br><span class=\"line\">    echo &quot;Your IP address is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong IP address.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>5. 验证邮政编码</strong> 这是一个用来验证邮政编码的实例。</p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$zipcode = &quot;12345-5434&quot;;</span><br><span class=\"line\">if (preg_match(&quot;/^(\\[0-9\\]&#123;5&#125;)(-\\[0-9\\]&#123;4&#125;)?$/i&quot;,$zipcode)) &#123;</span><br><span class=\"line\">    echo &quot;Your Zip code is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong Zip code.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>6. 验证SSN（社会保险号）</strong> 这是一个验证美国SSN的实例。</p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ssn = &quot;333-23-2329&quot;;</span><br><span class=\"line\">if (preg_match(&#x27;/^\\[\\\\d\\]&#123;3&#125;-\\[\\\\d\\]&#123;2&#125;-\\[\\\\d\\]&#123;4&#125;$/&#x27;,$ssn)) &#123;</span><br><span class=\"line\">    echo &quot;Your SSN is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong SSN.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>7. 验证信用卡号</strong></p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$cc = &quot;378282246310005&quot;;</span><br><span class=\"line\">if (preg_match(&#x27;/^(?:4\\[0-9\\]&#123;12&#125;(?:\\[0-9\\]&#123;3&#125;)?|5\\[1-5\\]\\[0-9\\]&#123;14&#125;|6011\\[0-9\\]&#123;12&#125;|3(?:0\\[0-5\\]|\\[68\\]\\[0-9\\])\\[0-9\\]&#123;11&#125;|3\\[47\\]\\[0-9\\]&#123;13&#125;)$/&#x27;, $cc)) &#123;</span><br><span class=\"line\">    echo &quot;Your credit card number is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong credit card number.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>8. 验证域名</strong></p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$url = &quot;http://ansoncheung.tk/&quot;;</span><br><span class=\"line\">if (preg_match(&#x27;/^(http|https|ftp):\\\\/\\\\/(\\[A-Z0-9\\]\\[A-Z0-9_-\\]*(?:\\\\.\\[A-Z0-9\\]\\[A-Z0-9_-\\]*)+):?(\\\\d+)?\\\\/?/i&#x27;, $url)) &#123;</span><br><span class=\"line\">    echo &quot;Your url is ok.&quot;;</span><br><span class=\"line\">&#125; else &#123;</span><br><span class=\"line\">    echo &quot;Wrong url.&quot;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><br><strong>9. 从特定URL中提取域名</strong></p>\n<p>Php代码<br><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> $url = &quot;http://ansoncheung.tk/articles&quot;;</span><br><span class=\"line\"> preg_match(&#x27;@^(?:http://)?(\\[^/\\]+)@i&#x27;, $url, $matches);</span><br><span class=\"line\"> $host = $matches\\[1\\];</span><br><span class=\"line\"></span><br><span class=\"line\">echo $host;</span><br></pre></td></tr></table></figure><br><strong>10. 将文中关键词高亮显示</strong></p>\n<p>Php代码 </p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$text = &quot;Sample sentence from AnsonCheung.tk, regular expression has become popular in web programming. Now we learn regex. According to wikipedia, Regular expressions (abbreviated as regex or regexp, with plural forms regexes, regexps, or regexen) are written in a formal language that can be interpreted by a regular expression processor&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">$text = preg_replace(&quot;/\\\\b(regex)\\\\b/i&quot;, &#x27;&lt;span style=&quot;background:#5fc9f6&quot;&gt;\\\\1&lt;/span&gt;&#x27;, $text);</span><br><span class=\"line\"></span><br><span class=\"line\"> echo $text;</span><br></pre></td></tr></table></figure>\n<p>原文来自<a href=\"http://www.iteye.com/news/23231\">http://www.iteye.com/news/23231</a>  <a href=\"http://webmaster.iteye.com\">ITeye黑板报</a></p>\n",
            "tags": [
                "php",
                "php服务器",
                "php正则",
                "正则"
            ]
        }
    ]
}