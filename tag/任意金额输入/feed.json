{
    "version": "https://jsonfeed.org/version/1",
    "title": "艾瑞可erik • All posts by \"任意金额输入\" tag • All posts by \"undefined\" categories",
    "description": "一只PHP开发的程序猿，偶尔做做运维、Goland、Python、Java、摄影、画画、写作、顺便睡觉，反正整站都搞过。",
    "home_page_url": "https://erik.xyz",
    "items": [
        {
            "id": "https://erik.xyz/2019/07/22/ren-yi-jin-e-fen-pei-de-saun-fa/",
            "url": "https://erik.xyz/2019/07/22/ren-yi-jin-e-fen-pei-de-saun-fa/",
            "title": "关于任意金额分配10元、5元、2元的算法",
            "date_published": "2019-07-22T12:14:00.000Z",
            "content_html": "<p>今天去一家做电商的公司面试，笔试题有个算法，如下：</p>\n<p>输入任意金额，计算分配出10元、5元、2元是否可以分配，如果可以分别分配几张。</p>\n<p>根据需求可知优先分配最高金额，根据最高金额计算出分配值，然后取整数。<span id=\"more\"></span>再用输入金额减去最高金额计算出的整数乘以最高金额，得出余额。一开始我想的是分别计算，嵌套多层if else后来发现不是很友好，还越来越乱。再加上是在a4纸上手写代码，很烦躁。</p>\n<p>晚上回家花了半个小时思索，写了这样的。</p>\n<pre><code>function findMoney($money = 0)\n&#123;\n    $no_text = &quot;不能找回金额为&quot; . $money . &quot;的零钱。&quot;;\n    $text = &quot;可以找回金额为&quot; . $money . &quot;的零钱,其中&quot;;\n    if ($money &lt;= 0) &#123;\n        echo $no_text;\n    &#125;\n    $rand = [10, 5, 2];\n    for ($i = 0; $i &lt; count($rand); $i++) &#123;\n        if ($rand[$i] &gt; 0) &#123;\n            $number = floor($money / $rand[$i]);\n            $money = $money - $number * $rand[$i];\n            $text .= &quot;面额&quot; . $rand[$i] . &quot;元的&quot; . $number . &quot;张&quot; . &quot;,&quot;;\n            if ($money == 1) &#123;\n                echo $no_text . PHP_EOL;\n                exit;\n            &#125;\n        &#125;\n    &#125;\n    echo $text . PHP_EOL;\n&#125;\nfindMoney(16);\n</code></pre><p><img src=\"/img/201907/2019-07-23_00-06.png\" alt=\"\"></p>\n<p>今天周二，昨晚弄得比较晚，急着睡。下午又想了想感觉不对。<br>输入6或者8的时候并不能分配。<br>对昨天的代码优化一番。</p>\n<p>如下</p>\n<pre><code>function findMoney($money = 0)\n&#123;\n    $no_text = &quot;不能找回金额为&quot; . $money . &quot;的零钱。&quot;;\n    $text = &quot;可以找回金额为&quot; . $money . &quot;的零钱,其中&quot;;\n    if ($money &lt;= 0) &#123;\n        echo $no_text;\n    &#125;\n    $rand = [10, 5, 2];\n    for ($i = 0; $i &lt; count($rand); $i++) &#123;\n        if ($rand[$i] &gt; 0) &#123;\n            $number = floor($money / $rand[$i]);\n            $money = $money - $number * $rand[$i];\n            $text .= &quot;面额&quot; . $rand[$i] . &quot;元的&quot; . $number . &quot;张&quot; . &quot;,&quot;;\n            if ($money == 1) &#123;\n                echo $no_text . PHP_EOL;\n                exit;\n            &#125;\n        &#125;\n    &#125;\n    echo $text . PHP_EOL;\n&#125;\nfindMoney(16);\n</code></pre><p>后续改进</p>\n<p>如下</p>\n<pre><code>function findMoney($money = 0)\n&#123;\n    //print_r($money);exit;\n    $no_text = &quot;不能找回金额为&quot; . $money . &quot;的零钱。&quot;;\n    $text = &quot;可以找回金额为&quot; . $money . &quot;的零钱,其中&quot;;\n    if ($money &lt;= 0) &#123;\n        echo $no_text;\n    &#125;\n    $rand = [10, 5, 2];\n    $number = 0;\n    for ($i = 0; $i &lt; count($rand); $i++) &#123;\n        if (isset($rand[$i])) &#123;\n            //不能整除的情况\n            if (is_float($money / $rand[$i])) &#123;\n                $number = $money / $rand[$i];\n                if ($money &gt; 0 &amp;&amp; $rand[$i] == 5 &amp;&amp; ceil($number) != $number) &#123;\n                    $text .= &quot;面额&quot; . $rand[$i] . &quot;元的0张&quot; . &quot;,&quot;;\n                    $text .= getChildMoney($money);\n                &#125;else&#123;\n                    $number = is_float($number) == 1 ? floor($number) : $number;\n                    $money = $money - $number * $rand[$i];\n                    $text .= &quot;面额&quot; . $rand[$i] . &quot;元的&quot; . $number . &quot;张&quot; . &quot;,&quot;;\n                &#125;\n            &#125; else &#123;\n                $number = $money / $rand[$i];\n                $money = $money - $number * $rand[$i];\n                $text .= &quot;面额&quot; . $rand[$i] . &quot;元的&quot; . $number . &quot;张&quot; . &quot;,&quot;;\n                if ($money == 0) &#123;\n                    continue;\n                &#125;\n            &#125;\n        &#125;\n    &#125;\n    if ($money &gt; 0) &#123;\n        echo $no_text . PHP_EOL;\n    &#125; else &#123;\n        echo $text . PHP_EOL;\n    &#125;\n&#125;\n\nfunction getChildMoney($money = 0)\n&#123;\n    $number = $money / 2;\n    if (is_float($number)) &#123;\n        return false;\n    &#125;\n    $text = &quot;面额&quot; . $money . &quot;元的&quot; . $number . &quot;张&quot; . &quot;,&quot;;\n    return $text;\n&#125;\n\nfindMoney(34);\n</code></pre><p>这样就是任意金额<br><img src=\"/img/201907/2019-07-23_20-09.png\" alt=\"\"></p>\n",
            "tags": [
                "算法",
                "任意金额输入",
                "10元、5元、2元"
            ]
        }
    ]
}