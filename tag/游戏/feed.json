{
    "version": "https://jsonfeed.org/version/1",
    "title": "艾瑞可erik • All posts by \"游戏\" tag • All posts by \"undefined\" categories",
    "description": "一只PHP开发的程序猿，偶尔做做运维、Goland、Python、Java、摄影、画画、写作、顺便睡觉，反正整站都搞过。",
    "home_page_url": "https://erik.xyz",
    "items": [
        {
            "id": "https://erik.xyz/2025/06/10/php-game-fish/",
            "url": "https://erik.xyz/2025/06/10/php-game-fish/",
            "title": "php开发捕鱼游戏的构思",
            "date_published": "2025-06-10T15:09:00.000Z",
            "content_html": "<p>使用PHP开发捕鱼游戏涉及前后端协作，以下是核心实现思路和代码示例：</p>\n<h3 id=\"一、系统设计\"><a href=\"#一、系统设计\" class=\"headerlink\" title=\"一、系统设计\"></a>一、系统设计</h3><ol>\n<li><strong>前端</strong>：HTML5 Canvas + JavaScript 绘制游戏场景</li>\n<li><strong>后端</strong>：PHP 处理游戏逻辑和数据库操作</li>\n<li><strong>数据库</strong>：MySQL 存储玩家数据</li>\n<li><strong>通信</strong>：AJAX 实现前后端交互</li>\n</ol>\n<h3 id=\"二、核心功能实现\"><a href=\"#二、核心功能实现\" class=\"headerlink\" title=\"二、核心功能实现\"></a>二、核心功能实现</h3><span id=\"more\"></span>\n<h4 id=\"1-数据库设计（MySQL）\"><a href=\"#1-数据库设计（MySQL）\" class=\"headerlink\" title=\"1. 数据库设计（MySQL）\"></a>1. 数据库设计（MySQL）</h4><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE TABLE</span> players (</span><br><span class=\"line\">    id <span class=\"type\">INT</span> AUTO_INCREMENT <span class=\"keyword\">PRIMARY KEY</span>,</span><br><span class=\"line\">    username <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">UNIQUE</span>,</span><br><span class=\"line\">    password <span class=\"type\">VARCHAR</span>(<span class=\"number\">255</span>),</span><br><span class=\"line\">    gold <span class=\"type\">INT</span> <span class=\"keyword\">DEFAULT</span> <span class=\"number\">1000</span>,</span><br><span class=\"line\">    score <span class=\"type\">INT</span> <span class=\"keyword\">DEFAULT</span> <span class=\"number\">0</span></span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-PHP后端逻辑（结合前端交互）\"><a href=\"#2-PHP后端逻辑（结合前端交互）\" class=\"headerlink\" title=\"2. PHP后端逻辑（结合前端交互）\"></a>2. PHP后端逻辑（结合前端交互）</h4><p><strong>游戏核心文件：<code>game.php</code></strong><br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"><span class=\"title function_ invoke__\">session_start</span>();</span><br><span class=\"line\"><span class=\"comment\">// 连接数据库</span></span><br><span class=\"line\"><span class=\"variable\">$db</span> = <span class=\"keyword\">new</span> <span class=\"title function_ invoke__\">mysqli</span>(<span class=\"string\">&#x27;localhost&#x27;</span>, <span class=\"string\">&#x27;username&#x27;</span>, <span class=\"string\">&#x27;password&#x27;</span>, <span class=\"string\">&#x27;fishing_game&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FishingGame</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"variable\">$db</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">__construct</span>(<span class=\"params\"><span class=\"variable\">$db</span></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">$this</span>-&gt;db = <span class=\"variable\">$db</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 捕鱼逻辑</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">catchFish</span>(<span class=\"params\"><span class=\"variable\">$playerId</span>, <span class=\"variable\">$cannonType</span>, <span class=\"variable\">$fishType</span></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$cost</span> = <span class=\"variable language_\">$this</span>-&gt;<span class=\"title function_ invoke__\">getCannonCost</span>(<span class=\"variable\">$cannonType</span>);</span><br><span class=\"line\">        <span class=\"variable\">$reward</span> = <span class=\"variable language_\">$this</span>-&gt;<span class=\"title function_ invoke__\">getFishReward</span>(<span class=\"variable\">$fishType</span>);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// 扣除金币</span></span><br><span class=\"line\">        <span class=\"variable language_\">$this</span>-&gt;db-&gt;<span class=\"title function_ invoke__\">query</span>(<span class=\"string\">&quot;UPDATE players SET gold = gold - <span class=\"subst\">$cost</span> WHERE id = <span class=\"subst\">$playerId</span>&quot;</span>);</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// 捕获判定（简化版概率计算）</span></span><br><span class=\"line\">        <span class=\"variable\">$success</span> = (<span class=\"title function_ invoke__\">rand</span>(<span class=\"number\">1</span>, <span class=\"number\">100</span>) &gt; <span class=\"number\">30</span>); <span class=\"comment\">// 70%成功率</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"variable\">$success</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">$this</span>-&gt;db-&gt;<span class=\"title function_ invoke__\">query</span>(<span class=\"string\">&quot;UPDATE players SET gold = gold + <span class=\"subst\">$reward</span>, score = score + <span class=\"subst\">$reward</span> WHERE id = <span class=\"subst\">$playerId</span>&quot;</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;success&#x27;</span> =&gt; <span class=\"literal\">true</span>, <span class=\"string\">&#x27;reward&#x27;</span> =&gt; <span class=\"variable\">$reward</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;success&#x27;</span> =&gt; <span class=\"literal\">false</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCannonCost</span>(<span class=\"params\"><span class=\"variable\">$type</span></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$costs</span> = [<span class=\"number\">1</span> =&gt; <span class=\"number\">5</span>, <span class=\"number\">2</span> =&gt; <span class=\"number\">10</span>, <span class=\"number\">3</span> =&gt; <span class=\"number\">20</span>]; <span class=\"comment\">// 炮弹类型对应消耗</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable\">$costs</span>[<span class=\"variable\">$type</span>] ?? <span class=\"number\">5</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getFishReward</span>(<span class=\"params\"><span class=\"variable\">$type</span></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$rewards</span> = [<span class=\"number\">1</span> =&gt; <span class=\"number\">10</span>, <span class=\"number\">2</span> =&gt; <span class=\"number\">25</span>, <span class=\"number\">3</span> =&gt; <span class=\"number\">50</span>]; <span class=\"comment\">// 鱼类奖励</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable\">$rewards</span>[<span class=\"variable\">$type</span>] ?? <span class=\"number\">10</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 实例化游戏</span></span><br><span class=\"line\"><span class=\"variable\">$game</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">FishingGame</span>(<span class=\"variable\">$db</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 处理AJAX请求</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"variable\">$_SERVER</span>[<span class=\"string\">&#x27;REQUEST_METHOD&#x27;</span>] === <span class=\"string\">&#x27;POST&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable\">$playerId</span> = <span class=\"variable\">$_SESSION</span>[<span class=\"string\">&#x27;player_id&#x27;</span>];</span><br><span class=\"line\">    <span class=\"variable\">$data</span> = <span class=\"title function_ invoke__\">json_decode</span>(<span class=\"title function_ invoke__\">file_get_contents</span>(<span class=\"string\">&#x27;php://input&#x27;</span>), <span class=\"literal\">true</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">isset</span>(<span class=\"variable\">$data</span>[<span class=\"string\">&#x27;action&#x27;</span>]) &amp;&amp; <span class=\"variable\">$data</span>[<span class=\"string\">&#x27;action&#x27;</span>] === <span class=\"string\">&#x27;catch&#x27;</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable\">$response</span> = <span class=\"variable\">$game</span>-&gt;<span class=\"title function_ invoke__\">catchFish</span>(</span><br><span class=\"line\">            <span class=\"variable\">$playerId</span>,</span><br><span class=\"line\">            <span class=\"variable\">$data</span>[<span class=\"string\">&#x27;cannon&#x27;</span>],</span><br><span class=\"line\">            <span class=\"variable\">$data</span>[<span class=\"string\">&#x27;fishType&#x27;</span>]</span><br><span class=\"line\">        );</span><br><span class=\"line\">        <span class=\"title function_ invoke__\">header</span>(<span class=\"string\">&#x27;Content-Type: application/json&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">echo</span> <span class=\"title function_ invoke__\">json_encode</span>(<span class=\"variable\">$response</span>);</span><br><span class=\"line\">        <span class=\"keyword\">exit</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure></p>\n<h4 id=\"3-前端核心实现（JavaScript）\"><a href=\"#3-前端核心实现（JavaScript）\" class=\"headerlink\" title=\"3. 前端核心实现（JavaScript）\"></a>3. 前端核心实现（JavaScript）</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;gameCanvas&quot;</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;800&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;600&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">// 游戏配置</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">FISH_TYPES</span> = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"number\">1</span>: &#123; <span class=\"attr\">speed</span>: <span class=\"number\">2</span>, <span class=\"attr\">color</span>: <span class=\"string\">&#x27;#FF9900&#x27;</span>, <span class=\"attr\">size</span>: <span class=\"number\">30</span> &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"number\">2</span>: &#123; <span class=\"attr\">speed</span>: <span class=\"number\">3</span>, <span class=\"attr\">color</span>: <span class=\"string\">&#x27;#00CCFF&#x27;</span>, <span class=\"attr\">size</span>: <span class=\"number\">50</span> &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"number\">3</span>: &#123; <span class=\"attr\">speed</span>: <span class=\"number\">1</span>, <span class=\"attr\">color</span>: <span class=\"string\">&#x27;#FF66CC&#x27;</span>, <span class=\"attr\">size</span>: <span class=\"number\">80</span> &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">class</span> <span class=\"title class_\">FishingGame</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span> = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;gameCanvas&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span>.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">fishes</span> = [];</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">player</span> = &#123; <span class=\"attr\">gold</span>: <span class=\"number\">1000</span>, <span class=\"attr\">score</span>: <span class=\"number\">0</span> &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">generateFish</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">gameLoop</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">handleClick</span>.<span class=\"title function_\">bind</span>(<span class=\"variable language_\">this</span>));</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">generateFish</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// 随机生成鱼群</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> type = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">3</span>) + <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"property\">fishes</span>.<span class=\"title function_\">push</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        type,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">x</span>: -<span class=\"number\">50</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">y</span>: <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">500</span> + <span class=\"number\">50</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        ...<span class=\"variable constant_\">FISH_TYPES</span>[type]</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;, <span class=\"number\">2000</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">handleClick</span>(<span class=\"params\">e</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> rect = <span class=\"variable language_\">this</span>.<span class=\"property\">canvas</span>.<span class=\"title function_\">getBoundingClientRect</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> clickX = e.<span class=\"property\">clientX</span> - rect.<span class=\"property\">left</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> clickY = e.<span class=\"property\">clientY</span> - rect.<span class=\"property\">top</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// 检测点击到的鱼</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> cannonType = <span class=\"number\">1</span>; <span class=\"comment\">// 默认炮弹类型</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"variable language_\">this</span>.<span class=\"property\">fishes</span>.<span class=\"property\">length</span> - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> fish = <span class=\"variable language_\">this</span>.<span class=\"property\">fishes</span>[i];</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">const</span> distance = <span class=\"title class_\">Math</span>.<span class=\"title function_\">sqrt</span>(</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title class_\">Math</span>.<span class=\"title function_\">pow</span>(fish.<span class=\"property\">x</span> - clickX, <span class=\"number\">2</span>) + </span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title class_\">Math</span>.<span class=\"title function_\">pow</span>(fish.<span class=\"property\">y</span> - clickY, <span class=\"number\">2</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">      );</span></span><br><span class=\"line\"><span class=\"language-javascript\">      </span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span>(distance &lt; fish.<span class=\"property\">size</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">sendCatchRequest</span>(fish.<span class=\"property\">type</span>, cannonType);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">fishes</span>.<span class=\"title function_\">splice</span>(i, <span class=\"number\">1</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">break</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">async</span> <span class=\"title function_\">sendCatchRequest</span>(<span class=\"params\">fishType, cannonType</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> response = <span class=\"keyword\">await</span> <span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;game.php&#x27;</span>, &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">method</span>: <span class=\"string\">&#x27;POST&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">headers</span>: &#123; <span class=\"string\">&#x27;Content-Type&#x27;</span>: <span class=\"string\">&#x27;application/json&#x27;</span> &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">body</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">action</span>: <span class=\"string\">&#x27;catch&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">fishType</span>: fishType,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">cannon</span>: cannonType</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> result = <span class=\"keyword\">await</span> response.<span class=\"title function_\">json</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span>(result.<span class=\"property\">success</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"property\">player</span>.<span class=\"property\">gold</span> += result.<span class=\"property\">reward</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"property\">player</span>.<span class=\"property\">score</span> += result.<span class=\"property\">reward</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">showEffect</span>(<span class=\"string\">&#x27;+&#x27;</span>+result.<span class=\"property\">reward</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"title function_\">gameLoop</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">800</span>, <span class=\"number\">600</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// 绘制背景</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&#x27;#3399FF&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">800</span>, <span class=\"number\">600</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// 更新并绘制鱼</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">fishes</span>.<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">fish</span> =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      fish.<span class=\"property\">x</span> += fish.<span class=\"property\">speed</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">if</span>(fish.<span class=\"property\">x</span> &gt; <span class=\"number\">850</span>) fish.<span class=\"property\">x</span> = -<span class=\"number\">50</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      </span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">beginPath</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = fish.<span class=\"property\">color</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">arc</span>(fish.<span class=\"property\">x</span>, fish.<span class=\"property\">y</span>, fish.<span class=\"property\">size</span>/<span class=\"number\">2</span>, <span class=\"number\">0</span>, <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"number\">2</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fill</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// 绘制UI</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">fillStyle</span> = <span class=\"string\">&#x27;#000&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"property\">font</span> = <span class=\"string\">&#x27;20px Arial&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(<span class=\"string\">`金币: <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.player.gold&#125;</span>`</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">this</span>.<span class=\"property\">ctx</span>.<span class=\"title function_\">fillText</span>(<span class=\"string\">`分数: <span class=\"subst\">$&#123;<span class=\"variable language_\">this</span>.player.score&#125;</span>`</span>, <span class=\"number\">20</span>, <span class=\"number\">60</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">requestAnimationFrame</span>(<span class=\"function\">() =&gt;</span> <span class=\"variable language_\">this</span>.<span class=\"title function_\">gameLoop</span>());</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">new</span> <span class=\"title class_\">FishingGame</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"三、游戏功能扩展建议\"><a href=\"#三、游戏功能扩展建议\" class=\"headerlink\" title=\"三、游戏功能扩展建议\"></a>三、游戏功能扩展建议</h3><ol>\n<li><p><strong>高级功能</strong>：</p>\n<ul>\n<li>添加多种武器系统（激光炮、渔网）</li>\n<li>实现鱼群特殊行为（BOSS鱼、鱼群迁徙）</li>\n<li>道具系统（金币加倍、冰冻效果）</li>\n</ul>\n</li>\n<li><p><strong>性能优化</strong>：</p>\n<ul>\n<li>WebSocket实现实时通信</li>\n<li>对象池重用鱼对象</li>\n<li>精灵图代替纯色绘制</li>\n</ul>\n</li>\n<li><p><strong>安全增强</strong>：</p>\n<ul>\n<li>炮弹消耗验证</li>\n<li>频率限制（防作弊）</li>\n<li>数据加密传输</li>\n</ul>\n</li>\n<li><p><strong>商业化功能</strong>：</p>\n<ul>\n<li>内购金币系统</li>\n<li>每日任务奖励</li>\n<li>玩家排行榜</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"四、部署注意事项\"><a href=\"#四、部署注意事项\" class=\"headerlink\" title=\"四、部署注意事项\"></a>四、部署注意事项</h3><ol>\n<li>使用PHP 7.4+ 获取最佳性能</li>\n<li>配置OPCache加速PHP执行</li>\n<li>前端资源使用CDN加速</li>\n<li>定期备份玩家数据</li>\n</ol>\n<blockquote>\n<p>完整实现需包含用户系统（注册/登录）、游戏商城、社交功能等模块。实际开发中建议使用游戏引擎如Phaser.js替代原生Canvas API以提高开发效率。</p>\n</blockquote>\n",
            "tags": [
                "php",
                "游戏"
            ]
        },
        {
            "id": "https://erik.xyz/2015/03/06/xu-huan-4-yin-qing/",
            "url": "https://erik.xyz/2015/03/06/xu-huan-4-yin-qing/",
            "title": "虚幻4引擎",
            "date_published": "2015-03-06T03:22:00.000Z",
            "content_html": "<p> 虚幻引擎总是能赋予开发商更强的能力，所见即所得’的平台。要知道，很多早期的引擎还需要自己编辑文本文件，或者是无法预览效果。今年晚些时候，当人们欣赏到<a href=\"http://baike.baidu.com/view/1349679.htm\">虚幻引擎</a>4后，会被其深邃的特效所震撼到，”马克·瑞恩说道。正在进行的年度D.I.C.E峰会上，我们也希望了解到更多有关这款新引擎的情报。美国著名媒体《连线》日前有幸见识了Epic的旷世“新作”，<a href=\"http://baike.baidu.com/view/1349679.htm\">虚幻引擎</a>4的演示Demo，在大约2分半的演算动画里，浑身湿透，盛赞这是“异形”之父H. R. Giger和《冰与火之歌》作者“George R. R. Martin”的“<a href=\"http://baike.baidu.com/view/161281.htm\">私生子</a>”。<span id=\"more\"></span></p>\n<p>Epic Games日前公布了以“Unreal Engine 4”所制成的《虚幻竞技场4（Unreal Tournament 4）》消息，此则新闻在国外引起了一阵轩然大波。</p>\n<p>早在2005年8月时，Epic Games副总裁Mark Rein曾透露，他们已经开始开发“Unreal Engine 4”。继<a href=\"http://baike.baidu.com/view/8231120.htm\">前代</a>引擎“Unreal Engine 3”后，Epic Games公司总裁表示，他们期望他们所开发出来的<a href=\"http://baike.baidu.com/view/33343.htm\">游戏引擎</a>能被运用来制作更多更特别的游戏，如今也已有数不清的游戏运用“UT”引擎成功开发出不少知名的游戏大作，例如《天堂2》甚至是未来的《天堂3》等等，连日本<a href=\"http://baike.baidu.com/view/294780.htm\">大厂</a>SQUARE ENIX也曾用此引擎来进行游戏的研发过。“Unreal Engine 4”未来首度将于次世代主机第三代XBOX one、PS4上率先进行游戏开发，最后将会全面进攻至PC市场，玩家们约在2010～2012年间时，就会真正享受到超逼真的《虚幻竞技场 （Unreal Tournament 4）》。</p>\n<h3 id=\"登平台\"><a href=\"#登平台\" class=\"headerlink\" title=\"登平台\"></a>登平台</h3><p>但 是Epic同时对虚幻引擎4引擎是否支持WiiU的问题上做出了基本否定的回答，在之前的访问中，Epic的创始人之一Mark Rein就说过Epic并不打算把虚幻4带到WiiU上，不过当时他也说：“如果消费者们想要在WiiU上获得一个虚幻引擎4游戏的移植版，他们还是有可 能玩到。”</p>\n<p>于是这次专门有人再度问及了这个问题，于是我们得到了更明确的答案。“NO！”</p>\n<p>“没有，我的意思是那句话并不是正确的答案，我们没打算，WiiU上有虚幻3引擎，不是吗？它已经创造了非常多优秀 的游戏。而虚幻4出现后虚幻3并不会消失。但是我们要把虚幻4带给下一代主机。这就是我们所要关注的焦点。如果你想制作WiiU的游戏，可以用虚幻3，它 已经支持WiiU了。”</p>\n<p>这很明确的表示了WiiU没有虚幻引擎4，而且也不会出现支持虚幻引擎4制作的游戏。早先时候，EA也宣布寒霜3引 擎不支持WiiU，也就意味着更多的第三方会因此而不考虑WiiU的移植大作，虽然任天堂可以继续凭借自己的阵营来保持竞争力，但考虑到WiiU存在游戏 数量不如预期的问题，我们不得不说WiiU的前景会在这件事后更加蒙上阴影。[2]</p>\n<h3 id=\"骼动画系统\"><a href=\"#骼动画系统\" class=\"headerlink\" title=\"骼动画系统\"></a>骼动画系统</h3><p>◎ 骨骼动画系统；支持每顶点可达4骨骼同时影响的效果以及复杂的骨骼结构。</p>\n<p>◎ 动画由一棵动画物体树驱动，包括：</p>\n<p>· 混合控制器，进行对嵌套的动画物体之间的多路混合。</p>\n<p>· 数据驱动的控制器，封装动作捕捉或手动制作的动画数据。</p>\n<p>· 物理控制器，连接到刚体动态引擎，用来实现布娃娃系统的游戏者和NPC动画和对力的物理响应。</p>\n<p>· 过程动画控制器，以C++或UnrealScript实现，为了实现一些如使一个NPC的头部和眼睛跟踪一个在关卡中行走的游戏者，或使一个角色根据健康情况和疲劳度作出不同动作等特性。</p>\n<p>◎ 为3D Studio Max和Maya制作的导出工具，用于向引擎中导出赋予蒙皮权重的网格，骨骼和动画序列。</p>\n<p>游戏性系统</p>\n<p>◎ 提供了一个支持普通游戏对象（如游戏者，NPC，物品，武器和触发器）的面向对象的游戏框架。</p>\n<p>◎ 丰富的多级别AI系统，支持寻路、复杂关卡游历、单独决策和组队AI</p>\n<p>· 对如触发器，门和升降机等普通游戏对象敏感的寻路框架，允许复杂的游历设定，使得NPC可以按下开关，打开门，并绕过障碍物。</p>\n<p>· 游历框架带有短期战术战斗、掩护和撤退的路线网。</p>\n<p>· 基于小队的AI框架，适合第一人称射击、第三人称射击和战术战斗游戏。</p>\n<p>◎ AI路径在UnrealEd中可见并可由关卡编辑者编辑，允许自定义和提示</p>\n<p>◎ 可见的AI脚本工具，使设计者可以创建复杂的交互性游戏设定，例如游戏者目标，通用的游戏事件触发器和交互式过场动画</p>\n<p>◎ UnrealMatinee，一个基于时间线的可视化序列、动画和曲线路径工具。设计者可以使用此工具建立游戏中的过场动画，可以是交互的或非交互的，通 过动画序列化、移动包括摄像机在内的对象，控制声音和视觉特效，并触发游戏和AI事件。 　UnrealEd中的“Matinee”工具，能够编辑基于<a href=\"http://baike.baidu.com/view/30505.htm\">时间轴</a>的事件序列</p>\n<p>◎ 支持各种平台的输出格式，包含5.1环绕立体声和高品质杜比数码音效。</p>\n<p>◎ 3维声源位置设置，多普勒效应。 　多普勒效应：是指当发声物体在运动时，声音的音调会随着物体移动速度而改变其高低——声音频率的变化，这个原理也被运用在声卡3D发声原理之中。 　◎ 在UnrealEd中的可视化音效工具可以为声音设计者提供对音效的全面的控制，声音强度，顺序，循环，过滤，调制，变调和随机化。声音参数被从代码<a href=\"http://baike.baidu.com/view/1706993.htm\">中分</a>离开，使设计者可以控制所有的与游戏、过场动画和动画序列相关的声音。</p>\n<p>◎ 支持所有平台的主要声音格式，包括PCM,ADPCM,游戏机对应的声音压缩格式和Ogg Vorbis。</p>\n<p>◎ 支持游戏机上的声音流。</p>\n<p>◎ Internet和局域网游戏已经成为Epic的竞赛游戏如Unreal Tournament 2004的一大特征。<a href=\"http://baike.baidu.com/view/1349679.htm\">虚幻引擎</a>长时间以来一直提供灵活的高级网络架构，适合于各种类型的游戏。</p>\n<p>◎ Internet和局域网游戏在PC和所有游戏机平台上都被完全支持 　Unreal Tournament 2004的游戏中带的服务器浏览器</p>\n<p>◎ 虚幻引擎的网络游戏部分编程是高层的和数据驱动的，允许由Unreal脚本代码指定在客户端和服务器之间联系的变量和函数，来保留一个同步的对游戏状态的 近似。底层游戏网络传输是基于UDP的并能够将可靠和不可靠传输方式结合，来对游戏感进行优化，即使在低带宽和高延迟的环境下。</p>\n<p>◎ 客户端－服务器模式下最多支持64个游戏者同时游戏。同时支持非服务器模式（点对点模式）下的16游戏者同时游戏。</p>\n<p>◎ 支持不同平台间的网络互连（例如PC服务器和游戏机客户端；Windows, MacOS和Linux客户端共同进行游戏）。</p>\n<p>◎ 所有游戏特性在网络游戏模式下都被支持，包括基于交通工具的多人游戏，带有NPC和机器人的组队竞技，单人模式下的协同游戏等等。支持自动下载，包括跨平 台的一致的Unreal脚本代码。这项特性使得从用户自己创建的地图到奖励包，到完整的游戏mod都可以随意获得 　全局光照技术“Unreal Lightmass”，可生成高质量的静态照明和带精确半影的软阴影、相互漫射与反射、色彩释放(color bleeding)等下一代技术，同时还有新的<a href=\"http://baike.baidu.com/view/30655.htm\">分布式计算</a>框架“Swarm”，生成光照的速度可提高最多十倍。</p>\n<p>◎ “Unreal Content Browser”(虚幻内容浏览器)基于后端数据库，支持缩略图预览、内容标签、内容收集管理，能让开发人员在海量内容里迅速找到所需资源，不必再逐个手 动打开文件查看。 　◎ 可扩展统计和数据管理后端“Unreal Master Control Program”(虚幻主控程序)，作为一种高可靠性在线服务架构，支持新闻宣布、设定管理、在线玩家追踪，以及硬件、配置、游戏状态数据搜集，并且包含 一系列视觉化游戏状态工具，比如玩家活跃性区域热图</p>\n<h3 id=\"理学碰撞\"><a href=\"#理学碰撞\" class=\"headerlink\" title=\"理学碰撞\"></a>理学碰撞</h3><p>刚性物体碰撞系统可以让操作的玩家充分利用游戏里的物体碰撞,角色动画碰撞,复杂真实的交通工具和物体爆炸进行娱乐。　所有的渲染物体和模型都可以进行动力学属性的设置,包括摩擦力。</p>\n<p>物理碰撞音效</p>\n<p>提供了许多和动力学有关的功能和设置,包括玩家的操作,人工智能及网络功能。　在虚幻的编辑器中可以直接进行物体,模型的动力学设置,并支持简单的碰撞优化及调整;运动约束编辑;交互式的物理仿真及编辑器中的tweak快速调节。</p>\n<h3 id=\"作工具\"><a href=\"#作工具\" class=\"headerlink\" title=\"作工具\"></a>作工具</h3><p>虚 幻的编辑器(简称为“UnrealEd”)是一个以“所见即所得”为设计理念的操作工具,它可以很好地弥补一些在3D　Studio　Max和Maya中 无法实现的不足,并很好地运用到游戏开发里去。在可视化的编辑窗口中游戏开发人员可以直接对游戏中角色,NPC,物品道具,AI的路点及<a href=\"http://baike.baidu.com/view/56137.htm\">光源</a>进 行自由的摆放和属性的控制,并且全部是实时渲染的。(并且这种实时渲染还有动态的光影效果。)　 　并且还有完整的数据属性编辑功能,可以让关卡设计人员自由地对游戏中的物件进行设置或是由程序人员通过脚本编写的形式直接进行优化设置。　 　实时的地图编辑工具可以让游戏的美术开发人员自由地对地形进行升降的高度调节,或是通过带有alpha通过的笔刷直接对地图层进行融合和修饰。并可以在 地图编辑中直接生成碰撞数据和位移贴图。　 　图形化的材质编辑工具。开发人员可以对材质中的色彩,alpha通道及贴图坐标进行自由的调解并由程序人员来定义所需要的材质内容。虚幻的材质编辑器, 采用的是和Maya,Darktree一样的“材质节点编辑”方式,操作的时候,无论是脱拽或是关联线的操作都十分的方便,至少比我经常在用的Max中的 “材质层级编辑”方式好用多了)而美术制作人员则可以在材质编辑工具中利用多个简单的材质类型融合出一个复杂漂亮的高级材质类型,并可以实时地参照场景中 的灯光影响。　 　编辑器的资源管理器功能也非常的强大,可以进行快速准确的查找,观看并对游戏开发中的各种资源进行整理组织。　 　虚幻编辑器中还为美术制作人员提供了完整的模型,骨骼和动画数据导出工具,并将它们连同编辑游戏事件所需要的声音文件,剧情脚本进行统一的编辑。　 　在编辑器中还为开发人员提供了一个“游戏测试”的按钮,只要用鼠标点击后就可以对编辑好的游戏内容进行测试。这样的话,可以一边在“测试窗口”中观看游 戏画面,一边在另一个窗口中进行实时的调整和修改,十分方便。　 　为那些使用3ds Max和Maya进行制作的美术人员,提供了完善的导入导出插件。可以把模型导入<a href=\"http://baike.baidu.com/view/1349679.htm\">虚幻引擎</a>当中,包括模型的拓铺,贴图坐标,光滑。</p>\n<p>在虚幻的引擎中为了游戏开发的程序员们能够更好地进行编写,提供了3个非常具体的编写实例和百分之百开放的源代码, 编辑器,Max/Maya的输出插件,以及一些公司内部开发游戏所使用到的游戏代码。　 　虚幻的游戏播放脚本语言还提供了许多自动化的原数据供游戏开发人员参考和使用。引擎不仅可以兼容多种文件格式,还允许游戏的关卡,任务编辑人员在编辑器 中直接察看游戏脚本的内容,属性并直接进行修改</p>\n<pre><code>                                                                                                                                                                                                                  ---摘自百度\n</code></pre>",
            "tags": [
                "游戏",
                "3D",
                "动画",
                "平台",
                "虚幻4引擎编辑"
            ]
        }
    ]
}