{
    "version": "https://jsonfeed.org/version/1",
    "title": "艾瑞可erik • All posts by \"deb\" tag • All posts by \"undefined\" categories",
    "description": "一只PHP开发的程序猿，偶尔做做运维、Goland、Python、Java、摄影、画画、写作、顺便睡觉，反正整站都搞过。",
    "home_page_url": "https://erik.xyz",
    "items": [
        {
            "id": "https://erik.xyz/2017/11/25/centos-ru-he-an-zhuang-deb-ruan-jian-bao-yuan-ming-linux-xi-tong-xia-zen-me-yong-checkinstall-cong-yuan-ma-chuang-jian-yi-ge-rpm-huo-deb-bao/",
            "url": "https://erik.xyz/2017/11/25/centos-ru-he-an-zhuang-deb-ruan-jian-bao-yuan-ming-linux-xi-tong-xia-zen-me-yong-checkinstall-cong-yuan-ma-chuang-jian-yi-ge-rpm-huo-deb-bao/",
            "title": "centos如何安装deb软件包/rpm转换成deb(原名：Linux系统下怎么用CheckInstall从源码创建一个RPM或DEB包)",
            "date_published": "2017-11-25T02:38:00.000Z",
            "content_html": "<p>正如我确信，你们一定知道Linux下的多种软件安装方式：使用发行版所提供的包管理系统（<a href=\"http://www.tecmint.com/linux-package-management/\">aptitude，yum，或者zypper</a>，还可以举很多例子），从源码编译（尽管现在很少用了，但在Linux发展早期却是唯一可用的方法），或者使用各自的低级工具dpkg用于.deb，以及rpm用于.rpm，预编译包，如此这般。</p>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681941.png\" alt=\"Convert RPM to DEB and DEB to RPM\"><br><span id=\"more\"></span><br><em>使用Alien将RPM转换成DEB以及将DEB转换成RPM</em></p>\n<p>在本文中，我们将为你介绍alien，一个用于在各种不同的Linux包格式相互转换的工具，其最常见的用法是将.rpm转换成.deb（或者反过来）。 如果你需要某个特定类型的包，而你只能找到其它格式的包的时候，该工具迟早能派得上用场——即使是其作者不再维护，并且在其网站声明：alien将可能永远维持在实验状态。 例如，有一次，我正查找一个用于喷墨打印机的.deb驱动，但是却没有找到——生产厂家只提供.rpm包，这时候alien拯救了我。我安装了alien，将包进行转换，不久之后我就可以使用我的打印机了，没有任何问题。 即便如此，我们也必须澄清一下，这个工具不应当用来转换重要的系统文件和库，因为它们在不同的发行版中有不同的配置。只有在前面说的那种情况下所建议的安装方法根本不适合时，alien才能作为最后手段使用。 最后一项要点是，我们必须注意，虽然我们在本文中使用<a href=\"http://www.linuxidc.com/topicnews.aspx?tid=14\" title=\"CentOS\">CentOS</a>和Debian，除了前两个发行版及其各自的家族体系外，据我们所知，alien可以工作在Slackware中，甚至Solaris中。  </p>\n<h4 id=\"步骤1：安装Alien及其依赖包\"><a href=\"#步骤1：安装Alien及其依赖包\" class=\"headerlink\" title=\"步骤1：安装Alien及其依赖包\"></a>步骤1：安装Alien及其依赖包</h4><p>要安装alien到CentOS/RHEL 7中，你需要启用EPEL和Nux Dextop（是的，是Dextop——不是Desktop）仓库，顺序如下：</p>\n<ol>\n<li><code># yum install epel-release</code></li>\n</ol>\n<p>启用Nux Dextop仓库的包的当前最新版本是0.5（2015年8月10日发布），在安装之前你可以查看<a href=\"http://li.nux.ro/download/nux/dextop/el7/x86_64/\">http://li.nux.ro/download/nux/dextop/el7/x86_64/</a>上是否有更新的版本。</p>\n<ol>\n<li><code># rpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro</code></li>\n<li><code># rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpm</code></li>\n</ol>\n<p>然后再做，</p>\n<ol>\n<li><code># yum update &amp;&amp; yum install alien</code></li>\n</ol>\n<p>在<a href=\"http://www.linuxidc.com/topicnews.aspx?tid=5\" title=\"Fedora\">Fedora</a>中，你只需要运行上面的命令即可。 在Debian及其衍生版中，只需要：</p>\n<ol>\n<li><code># aptitude install alien</code></li>\n</ol>\n<h4 id=\"步骤2：将-deb转换成-rpm包\"><a href=\"#步骤2：将-deb转换成-rpm包\" class=\"headerlink\" title=\"步骤2：将.deb转换成.rpm包\"></a>步骤2：将.deb转换成.rpm包</h4><p>对于本次测试，我们选择了date工具，它提供了一系列日期和时间工具用于处理大量金融数据。我们将下载.deb包到我们的CentOS 7机器中，将它转换成.rpm并安装：</p>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681942.png\" alt=\"Check CentOS Version\"></p>\n<p><em>Check CentOS Version</em></p>\n<p>检查CentOS版本</p>\n<ol>\n<li><code># cat /etc/centos-release</code></li>\n<li><code># wget http://ftp.us.debian.org/debian/pool/main/d/dateutils/dateutils_0.3.1-1.1_amd64.deb</code></li>\n<li><code># alien --to-rpm --scripts dateutils_0.3.1-1.1_amd64.deb</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681943.png\" alt=\"Convert .deb to .rpm package in Linux\"></p>\n<p><em>在Linux中将.deb转换成.rpm</em></p>\n<p><strong>重要</strong>：（请注意alien是怎样来增加目标包的次版本号的。如果你想要无视该行为，请添加-keep-version标识）。 如果我们尝试马上安装该包，我们将碰到些许问题：</p>\n<ol>\n<li><code># rpm -Uvh dateutils-0.3.1-2.1.x86_64.rpm</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681945.png\" alt=\"Install RPM Package\"></p>\n<p><em>安装RPM包</em></p>\n<p>要解决该问题，我们需要启用epel-testing仓库，然后安装rpmbuild工具来编辑该包的配置以重建包：</p>\n<ol>\n<li><code># yum --enablerepo=epel-testing install rpmrebuild</code></li>\n</ol>\n<p>然后运行，</p>\n<ol>\n<li><code># rpmrebuild -pe dateutils-0.3.1-2.1.x86_64.rpm</code></li>\n</ol>\n<p>它会打开你的默认文本编辑器。请转到<code>%files</code>章节并删除涉及到错误信息中提到的目录的行，然后保存文件并退出：</p>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681944.png\" alt=\"Convert .deb to Alien Version\"></p>\n<p><em>转换.deb到Alien版</em></p>\n<p>但你退出该文件后，将提示你继续去重构。如果你选择“Y”，该文件会重构到指定的目录（与当前工作目录不同）：</p>\n<ol>\n<li><code># rpmrebuild –pe dateutils-0.3.1-2.1.x86_64.rpm</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681946.png\" alt=\"Build RPM Package\"></p>\n<p><em>构建RPM包</em></p>\n<p>现在你可以像以往一样继续来安装包并验证：</p>\n<ol>\n<li><code># rpm -Uvh /root/rpmbuild/RPMS/x86_64/dateutils-0.3.1-2.1.x86_64.rpm</code></li>\n<li><code># rpm -qa | grep dateutils</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681947.png\" alt=\"Install Build RPM Package\"></p>\n<p><em>安装构建RPM包</em></p>\n<p>最后，你可以列出date工具包含的各个工具，也可以查看各自的手册页：</p>\n<ol>\n<li><code># ls -l /usr/bin | grep dateutils</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681948.png\" alt=\"Verify Installed RPM Package\"></p>\n<p><em>验证安装的RPM包</em></p>\n<h4 id=\"步骤3：将-rpm转换成-deb包\"><a href=\"#步骤3：将-rpm转换成-deb包\" class=\"headerlink\" title=\"步骤3：将.rpm转换成.deb包\"></a>步骤3：将.rpm转换成.deb包</h4><p>在本节中，我们将演示如何将.rpm转换成.deb。在一台32位的Debian Wheezy机器中，让我们从CentOS 6操作系统仓库中下载用于zsh shell的.rpm包。注意，该shell在Debian及其衍生版的默认安装中是不可用的。</p>\n<ol>\n<li><code># cat /etc/shells</code></li>\n<li><code># lsb_release -a | tail -n 4</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/150902085681949.png\" alt=\"Check Shell and Debian OS Version\"></p>\n<p><em>检查Shell和Debian操作系统版本</em></p>\n<ol>\n<li><code># wget http://mirror.centos.org/centos/6/os/i386/Packages/zsh-4.3.11-4.el6.centos.i686.rpm</code></li>\n<li><code># alien --to-deb --scripts zsh-4.3.11-4.el6.centos.i686.rpm</code></li>\n</ol>\n<p>你可以安全地无视关于签名丢失的信息：</p>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/1509020856819410.png\" alt=\"Convert .rpm to .deb Package\"></p>\n<p><em>将.rpm转换成.deb包</em></p>\n<p>过了一会儿后，.deb包应该已经生成，并可以安装了：</p>\n<ol>\n<li><code># dpkg -i zsh_4.3.11-5_i386.deb</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/1509020856819412.png\" alt=\"Install RPM Converted Deb Package\"></p>\n<p><em>安装RPM转换来的Deb包</em></p>\n<p>安装完后，你看看可以zsh是否添加到了合法shell列表中：</p>\n<ol>\n<li><code># cat /etc/shells</code></li>\n</ol>\n<p><img src=\"http://www.linuxidc.com/upload/2015_09/1509020856819411.png\" alt=\"Confirm Installed Zsh Package\"></p>\n<p><em>确认安装的Zsh包</em></p>\n<p>转载：<a href=\"http://www.linuxidc.com/Linux/2015-09/122573.htm\">http://www.linuxidc.com/Linux/2015-09/122573.htm</a> 本文地址：<a href=\"http://erik.xyz/?p=1398\">http://erik.xyz/?p=1398</a></p>\n",
            "tags": [
                "centos",
                "deb",
                "deb/rpm互转",
                "deb转rpm",
                "rpm互转"
            ]
        }
    ]
}